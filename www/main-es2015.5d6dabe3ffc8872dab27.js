(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return k})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function k(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},0:function(t,e,n){t.exports=n("zUnb")},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return k})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function k(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("os0x"),o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("q/0M"),a=n("zVF4"),u=n("S+S0"),c=n("x7I3"),l=o.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();h.UNAUTHENTICATED=new h(null),h.i=new h("google-credentials-uid"),h.h=new h("first-party-uid");var d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error),p=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},g=function(){function t(){this.u=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype._=function(){},t.prototype.l=function(t){this.u=t,t(h.UNAUTHENTICATED)},t.prototype.T=function(){this.u=null},t}(),m=function(){function t(t){var e=this;this.I=null,this.currentUser=h.UNAUTHENTICATED,this.R=!1,this.m=0,this.u=null,this.forceRefresh=!1,this.I=function(){e.m++,e.currentUser=e.A(),e.R=!0,e.u&&e.u(e.currentUser)},this.m=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),t.get().then((function(t){e.auth=t,e.I&&e.auth.addAuthTokenListener(e.I)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.m,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.m!==e)throw new f(d.ABORTED,"getToken aborted due to token change.");return n?(we("string"==typeof n.accessToken),new p(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype._=function(){this.forceRefresh=!0},t.prototype.l=function(t){this.u=t,this.R&&t(this.currentUser)},t.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},t.prototype.A=function(){var t=this.auth&&this.auth.getUid();return we(null===t||"string"==typeof t),new h(t)},t}(),y=function(){function t(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=h.h}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),v=function(){function t(t,e){this.P=t,this.V=e}return t.prototype.getToken=function(){return Promise.resolve(new y(this.P,this.V))},t.prototype.l=function(t){t(h.h)},t.prototype.T=function(){},t.prototype._=function(){},t}(),b=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new f(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new f(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new f(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new f(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.p=function(t){return this.seconds===t.seconds?ke(this.nanoseconds,t.nanoseconds):ke(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),_=function(){function t(t){this.timestamp=t}return t.v=function(e){return new t(e)},t.min=function(){return new t(new b(0,0))},t.prototype.S=function(t){return this.timestamp.p(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.D=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.C=function(){return this.timestamp},t}(),w=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&_e(),void 0===n?n=t.length-e:n>t.length-e&&_e(),this.segments=t,this.offset=e,this.F=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.F},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.N(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.k(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.$=function(t){return this.k(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.M=function(){return this.k(this.segments,this.offset,this.length-1)},t.prototype.L=function(){return this.segments[this.offset]},t.prototype.O=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.B=function(){return 0===this.length},t.prototype.q=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.U=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.W=function(){return this.segments.slice(this.offset,this.limit())},t.N=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.k=function(t,n,r){return new e(t,n,r)},e.prototype.j=function(){return this.W().join("/")},e.prototype.toString=function(){return this.j()},e.K=function(t){if(t.indexOf("//")>=0)throw new f(d.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(w);E.G=new E([]);var C=/^[_a-zA-Z][_a-zA-Z0-9]*$/,k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.k=function(t,n,r){return new e(t,n,r)},e.H=function(t){return C.test(t)},e.prototype.j=function(){return this.W().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.H(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.j()},e.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},e.J=function(){return new e(["__name__"])},e.X=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new f(d.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new f(d.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new f(d.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(w);k.G=new k([]);var T=function(){function t(t){this.path=t}return t.Z=function(e){return new t(E.K(e).$(5))},t.prototype.tt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===E.N(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.N=function(t,e){return E.N(t.path,e.path)},t.et=function(t){return t.length%2==0},t.st=function(e){return new t(new E(e.slice()))},t}();function S(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function x(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function O(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}T.EMPTY=new T(new E([]));var I=function(){function t(t){this.it=t}return t.fromBase64String=function(e){return new t(fe.nt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return fe.nt().btoa(this.it)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.it)},t.prototype.rt=function(){return 2*this.it.length},t.prototype.S=function(t){return ke(this.it,t.it)},t.prototype.isEqual=function(t){return this.it===t.it},t}();function A(t){return null==t}function P(t){return-0===t&&1/t==-1/0}function N(t){return"number"==typeof t&&Number.isInteger(t)&&!P(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function R(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function M(t){var e=q(t.mapValue.fields.__local_write_time__.timestampValue);return new b(e.seconds,e.nanos)}I.ht=new I("");var D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function L(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R(t)?4:10:_e()}function j(t,e){var n=L(t);if(n!==L(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return M(t).isEqual(M(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=q(t.timestampValue),r=q(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return H(t.bytesValue).isEqual(H(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return z(t.geoPointValue.latitude)===z(e.geoPointValue.latitude)&&z(t.geoPointValue.longitude)===z(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return z(t.integerValue)===z(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=z(t.doubleValue),r=z(e.doubleValue);return n===r?P(n)===P(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Te(t.arrayValue.values||[],e.arrayValue.values||[],j);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(S(n)!==S(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!j(n[i],r[i])))return!1;return!0}(t,e);default:return _e()}}function F(t,e){return void 0!==(t.values||[]).find((function(t){return j(t,e)}))}function V(t,e){var n=L(t),r=L(e);if(n!==r)return ke(n,r);switch(n){case 0:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=z(t.integerValue||t.doubleValue),r=z(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return U(t.timestampValue,e.timestampValue);case 4:return U(M(t),M(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(t,e){var n=H(t),r=H(e);return n.S(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ke(n[i],r[i]);if(0!==o)return o}return ke(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ke(z(t.latitude),z(e.latitude));return 0!==n?n:ke(z(t.longitude),z(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=V(n[i],r[i]);if(o)return o}return ke(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ke(r[s],o[s]);if(0!==a)return a;var u=V(n[r[s]],i[o[s]]);if(0!==u)return u}return ke(r.length,o.length)}(t.mapValue,e.mapValue);default:throw _e()}}function U(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ke(t,e);var n=q(t),r=q(e),i=ke(n.seconds,r.seconds);return 0!==i?i:ke(n.nanos,r.nanos)}function B(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=q(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?H(e.bytesValue).toBase64():"referenceValue"in e?T.Z(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):_e();var n}(t)}function q(t){if(we(!!t),"string"==typeof t){var e=0,n=D.exec(t);if(we(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:z(t.seconds),nanos:z(t.nanos)}}function z(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function H(t){return"string"==typeof t?I.fromBase64String(t):I.fromUint8Array(t)}function $(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.j()}}function G(t){return!!t&&"integerValue"in t}function W(t){return!!t&&"arrayValue"in t}function K(t){return!!t&&"nullValue"in t}function Q(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function X(t){return!!t&&"mapValue"in t}var Y=function(){function t(){}return t.prototype.ot=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();Y.instance=new Y;var Z=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=et(t),n=function(t){e.some((function(e){return j(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Te(this.elements,e.elements,j)},t}(),J=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=et(t),n=function(t){e=e.filter((function(e){return!j(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Te(this.elements,e.elements,j)},t}(),tt=function(){function t(t,e){this.serializer=t,this.ct=e}return t.prototype.ot=function(t,e){var n=this.ut(t),r=this.asNumber(n)+this.asNumber(this.ct);return G(n)&&G(this.ct)?this.serializer._t(r):this.serializer.lt(r)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return G(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&j(this.ct,e.ct)},t.prototype.asNumber=function(t){return z(t.integerValue||t.doubleValue)},t}();function et(t){return W(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var nt=function(){function t(t){this.fields=t,t.sort(k.N)}return t.prototype.dt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].q(t))return!0;return!1},t.prototype.isEqual=function(t){return Te(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),rt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),it=function(t,e){this.version=t,this.transformResults=e},ot=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ft=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Et=function(t){return void 0!==this.updateTime?t instanceof vt&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof vt},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),st=function(){function t(){}return t.prototype.It=function(t){},t.wt=function(t){return t instanceof vt?t.version:_.min()},t}(),at=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Rt=r,i.type=0,i}return i.__extends(e,t),e.prototype.at=function(t,e){return this.It(t),new vt(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=st.wt(t);return new vt(this.key,r,this.value,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Rt.isEqual(t.Rt)},e}(st),ut=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Vt=r,o.Rt=i,o.type=1,o}return i.__extends(e,t),e.prototype.at=function(t,e){if(this.It(t),!this.Rt.Et(t))return new _t(this.key,e.version);var n=this.gt(t);return new vt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=st.wt(t),i=this.gt(t);return new vt(this.key,r,i,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Vt.isEqual(t.Vt)&&this.Rt.isEqual(t.Rt)},e.prototype.gt=function(t){var e;return e=t instanceof vt?t.data():dt.empty(),this.pt(e)},e.prototype.pt=function(t){var e=this,n=new ft(t);return this.Vt.fields.forEach((function(t){if(!t.B()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.yt()},e}(st),ct=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Rt=ot.exists(!0),r}return i.__extends(e,t),e.prototype.at=function(t,e){if(this.It(t),we(null!=e.transformResults),!this.Rt.Et(t))return new _t(this.key,e.version);var n=this.bt(t),r=this.vt(t,e.transformResults),i=e.version,o=this.St(n.data(),r);return new vt(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=this.bt(t),i=this.Dt(n,t,e),o=this.St(r.data(),i);return new vt(this.key,r.version,o,{At:!0})},e.prototype.Pt=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof vt?t.field(i.field):void 0,s=i.transform.ut(o||null);null!=s&&(e=null==e?(new ft).set(i.field,s):e.set(i.field,s))}return e?e.yt():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Te(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Rt.isEqual(t.Rt)},e.prototype.bt=function(t){return t},e.prototype.vt=function(t,e){var n=[];we(this.fieldTransforms.length===e.length);for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof vt&&(s=t.field(i.field)),n.push(o.at(s,e[r]))}return n},e.prototype.Dt=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof vt&&(u=e.field(s.field)),null===u&&n instanceof vt&&(u=n.field(s.field)),r.push(a.ot(u,t))}return r},e.prototype.St=function(t,e){for(var n=new ft(t),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.yt()},e}(st),lt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Rt=n,r.type=3,r}return i.__extends(e,t),e.prototype.at=function(t,e){return this.It(t),new bt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){return this.It(t),this.Rt.Et(t)?new bt(this.key,_.min()):t},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(st),ht=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Rt=n,r.type=4,r}return i.__extends(e,t),e.prototype.at=function(t,e){_e()},e.prototype.ot=function(t,e,n){_e()},e.prototype.Pt=function(t){_e()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(st),dt=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.B())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!X(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.O()])||null},t.prototype.isEqual=function(t){return j(this.proto,t.proto)},t}(),ft=function(){function t(t){void 0===t&&(t=dt.empty()),this.Ct=t,this.Ft=new Map}return t.prototype.set=function(t,e){return this.Nt(t,e),this},t.prototype.delete=function(t){return this.Nt(t,null),this},t.prototype.Nt=function(t,e){for(var n=this.Ft,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===L(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.O(),e)},t.prototype.yt=function(){var t=this.kt(k.G,this.Ft);return null!=t?new dt(t):this.Ct},t.prototype.kt=function(t,e){var n=this,r=!1,i=this.Ct.field(t),o=X(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.kt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function pt(t){var e=[];return x(t.fields||{},(function(t,n){var r=new k([t]);if(X(n)){var i=pt(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new nt(e)}var gt,mt,yt=function(t,e){this.key=t,this.version=e},vt=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).$t=r,o.At=!!i.At,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(e,t),e.prototype.field=function(t){return this.$t.field(t)},e.prototype.data=function(){return this.$t},e.prototype.Mt=function(){return this.$t.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.At===t.At&&this.hasCommittedMutations===t.hasCommittedMutations&&this.$t.isEqual(t.$t)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.$t.toString()+", {hasLocalMutations: "+this.At+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.At||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e}(yt),bt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(yt),_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(yt),wt=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Lt=null}return t.prototype.canonicalId=function(){if(null===this.Lt){var t=this.path.j();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),A(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Lt=t}return this.Lt},t.prototype.toString=function(){var t=this.path.j();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),A(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.xt=function(){return T.et(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Et=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Ot=n,this.filters=r,this.limit=i,this.Bt=o,this.startAt=s,this.endAt=a,this.qt=null,this.Ut=null,this.startAt&&this.Qt(this.startAt),this.endAt&&this.Qt(this.endAt)}return t.Wt=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.qt){this.qt=[];var t=this.jt(),e=this.Kt();if(null!==t&&null===e)t.Y()||this.qt.push(new At(t)),this.qt.push(new At(k.J(),"asc"));else{for(var n=!1,r=0,i=this.Ot;r<i.length;r++){var o=i[r];this.qt.push(o),o.field.Y()&&(n=!0)}if(!n){var s=this.Ot.length>0?this.Ot[this.Ot.length-1].dir:"asc";this.qt.push(new At(k.J(),s))}}}return this.qt},enumerable:!0,configurable:!0}),t.prototype.Gt=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.Ot.slice(),n,this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.zt=function(e){var n=this.Ot.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.Ht=function(e){return new t(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Yt=function(e){return new t(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.Jt=function(e){return new t(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,e,this.endAt)},t.prototype.Xt=function(e){return new t(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,e)},t.prototype.Zt=function(e){return new t(e,null,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.te=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Ot.length||1===this.Ot.length&&this.Ot[0].field.Y())},t.prototype.canonicalId=function(){return this.ee().canonicalId()+"|lt:"+this.Bt},t.prototype.toString=function(){return"Query(target="+this.ee().toString()+"; limitType="+this.Bt+")"},t.prototype.isEqual=function(t){return this.ee().isEqual(t.ee())&&this.Bt===t.Bt},t.prototype.se=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.Y()}return 0},t.prototype.matches=function(t){return this.ie(t)&&this.ne(t)&&this.re(t)&&this.he(t)},t.prototype.oe=function(){return!A(this.limit)&&"F"===this.Bt},t.prototype.ae=function(){return!A(this.limit)&&"L"===this.Bt},t.prototype.Kt=function(){return this.Ot.length>0?this.Ot[0].field:null},t.prototype.jt=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Ct&&n.ue())return n.field}return null},t.prototype.ce=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Ct&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.xt=function(){return this.ee().xt()},t.prototype._e=function(){return null!==this.collectionGroup},t.prototype.ee=function(){if(!this.Ut)if("F"===this.Bt)this.Ut=new wt(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new At(r.field,"desc"===r.dir?"asc":"desc"))}var i=this.endAt?new It(this.endAt.position,!this.endAt.before):null,o=this.startAt?new It(this.startAt.position,!this.startAt.before):null;this.Ut=new wt(this.path,this.collectionGroup,t,this.filters,this.limit,i,o)}return this.Ut},t.prototype.ie=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.tt(this.collectionGroup)&&this.path.q(e):T.et(this.path)?this.path.isEqual(e):this.path.U(e)},t.prototype.ne=function(t){for(var e=0,n=this.Ot;e<n.length;e++){var r=n[e];if(!r.field.Y()&&null===t.field(r.field))return!1}return!0},t.prototype.re=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.he=function(t){return!(this.startAt&&!this.startAt.le(this.orderBy,t)||this.endAt&&this.endAt.le(this.orderBy,t))},t.prototype.Qt=function(t){},t}(),Ct=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i.__extends(e,t),e.create=function(t,n,r){if(t.Y())return"in"===n?new Tt(t,r):new kt(t,n,r);if(K(r)){if("=="!==n)throw new f(d.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(Q(r)){if("=="!==n)throw new f(d.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new St(t,r):"in"===n?new xt(t,r):"array-contains-any"===n?new Ot(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&L(this.value)===L(e)&&this.de(V(e,this.value))},e.prototype.de=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return _e()}},e.prototype.ue=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.j()+this.op.toString()+B(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op===t.op&&this.field.isEqual(t.field)&&j(this.value,t.value)},e.prototype.toString=function(){return this.field.j()+" "+this.op+" "+B(this.value)},e}((function(){})),kt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=T.Z(r.referenceValue),i}return i.__extends(e,t),e.prototype.matches=function(t){var e=T.N(t.key,this.key);return this.de(e)},e}(Ct),Tt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return T.Z(t.referenceValue)})),r}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ct),St=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return W(e)&&F(e.arrayValue,this.value)},e}(Ct),xt=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&F(this.value.arrayValue,e)},e}(Ct),Ot=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!W(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return F(e.value.arrayValue,t)}))},e}(Ct),It=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return B(t)})).join(",")},t.prototype.le=function(t,e){for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(n=i.field.Y()?T.N(T.Z(o.referenceValue),e.key):V(o,e.field(i.field)),"desc"===i.dir&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!j(this.position[e],t.position[e]))return!1;return!0},t}(),At=function(){function t(t,e){this.field=t,void 0===e&&(e="asc"),this.dir=e,this.fe=t.Y()}return t.prototype.compare=function(t,e){var n=this.fe?T.N(t.key,e.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?V(r,i):_e()}(this.field,t,e);switch(this.dir){case"asc":return n;case"desc":return-1*n;default:return _e()}},t.prototype.canonicalId=function(){return this.field.j()+this.dir.toString()},t.prototype.toString=function(){return this.field.j()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Pt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=_.min()),void 0===o&&(o=_.min()),void 0===s&&(s=I.ht),this.target=t,this.targetId=e,this.Te=n,this.sequenceNumber=r,this.Ee=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Ie=function(e){return new t(this.target,this.targetId,this.Te,e,this.Ee,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.we=function(e,n){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Re=function(e){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,this.Ee,e,this.resumeToken)},t}(),Nt=function(t){this.count=t};function Rt(t){switch(t){case d.OK:return _e();case d.CANCELLED:case d.UNKNOWN:case d.DEADLINE_EXCEEDED:case d.RESOURCE_EXHAUSTED:case d.INTERNAL:case d.UNAVAILABLE:case d.UNAUTHENTICATED:return!1;case d.INVALID_ARGUMENT:case d.NOT_FOUND:case d.ALREADY_EXISTS:case d.PERMISSION_DENIED:case d.FAILED_PRECONDITION:case d.ABORTED:case d.OUT_OF_RANGE:case d.UNIMPLEMENTED:case d.DATA_LOSS:return!0;default:return _e()}}function Mt(t){if(void 0===t)return ve("GRPC error has no .code"),d.UNKNOWN;switch(t){case gt.OK:return d.OK;case gt.CANCELLED:return d.CANCELLED;case gt.UNKNOWN:return d.UNKNOWN;case gt.DEADLINE_EXCEEDED:return d.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return d.RESOURCE_EXHAUSTED;case gt.INTERNAL:return d.INTERNAL;case gt.UNAVAILABLE:return d.UNAVAILABLE;case gt.UNAUTHENTICATED:return d.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return d.INVALID_ARGUMENT;case gt.NOT_FOUND:return d.NOT_FOUND;case gt.ALREADY_EXISTS:return d.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return d.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return d.FAILED_PRECONDITION;case gt.ABORTED:return d.ABORTED;case gt.OUT_OF_RANGE:return d.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return d.UNIMPLEMENTED;case gt.DATA_LOSS:return d.DATA_LOSS;default:return _e()}}(mt=gt||(gt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";var Dt=function(){function t(t,e){this.N=t,this.root=e||jt.EMPTY}return t.prototype.me=function(e,n){return new t(this.N,this.root.me(e,n,this.N).Ae(null,null,jt.Pe,null,null))},t.prototype.remove=function(e){return new t(this.N,this.root.remove(e,this.N).Ae(null,null,jt.Pe,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.B();){var n=this.N(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.B();){var r=this.N(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.B=function(){return this.root.B()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.Ve=function(){return this.root.Ve()},t.prototype.ge=function(){return this.root.ge()},t.prototype.pe=function(t){return this.root.pe(t)},t.prototype.forEach=function(t){this.pe((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.pe((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.be=function(){return new Lt(this.root,null,this.N,!1)},t.prototype.ve=function(t){return new Lt(this.root,t,this.N,!1)},t.prototype.Se=function(){return new Lt(this.root,null,this.N,!0)},t.prototype.De=function(t){return new Lt(this.root,t,this.N,!0)},t}(),Lt=function(){function t(t,e,n,r){this.Ce=r,this.Fe=[];for(var i=1;!t.B();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Ce?t.left:t.right;else{if(0===i){this.Fe.push(t);break}this.Fe.push(t),t=this.Ce?t.right:t.left}}return t.prototype.Ne=function(){var t=this.Fe.pop(),e={key:t.key,value:t.value};if(this.Ce)for(t=t.left;!t.B();)this.Fe.push(t),t=t.right;else for(t=t.right;!t.B();)this.Fe.push(t),t=t.left;return e},t.prototype.ke=function(){return this.Fe.length>0},t.prototype.$e=function(){if(0===this.Fe.length)return null;var t=this.Fe[this.Fe.length-1];return{key:t.key,value:t.value}},t}(),jt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.Ae=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.B=function(){return!1},t.prototype.pe=function(t){return this.left.pe(t)||t(this.key,this.value)||this.right.pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.B()?this:this.left.min()},t.prototype.Ve=function(){return this.min().key},t.prototype.ge=function(){return this.right.B()?this.key:this.right.ge()},t.prototype.me=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.Ae(null,null,null,r.left.me(t,e,n),null):0===i?r.Ae(null,e,null,null,null):r.Ae(null,null,null,null,r.right.me(t,e,n))).Me()},t.prototype.Le=function(){if(this.left.B())return t.EMPTY;var e=this;return e.left.xe()||e.left.left.xe()||(e=e.Oe()),(e=e.Ae(null,null,null,e.left.Le(),null)).Me()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.B()||i.left.xe()||i.left.left.xe()||(i=i.Oe()),i=i.Ae(null,null,null,i.left.remove(e,n),null);else{if(i.left.xe()&&(i=i.Be()),i.right.B()||i.right.xe()||i.right.left.xe()||(i=i.qe()),0===n(e,i.key)){if(i.right.B())return t.EMPTY;r=i.right.min(),i=i.Ae(r.key,r.value,null,null,i.right.Le())}i=i.Ae(null,null,null,null,i.right.remove(e,n))}return i.Me()},t.prototype.xe=function(){return this.color},t.prototype.Me=function(){var t=this;return t.right.xe()&&!t.left.xe()&&(t=t.Ue()),t.left.xe()&&t.left.left.xe()&&(t=t.Be()),t.left.xe()&&t.right.xe()&&(t=t.Qe()),t},t.prototype.Oe=function(){var t=this.Qe();return t.right.left.xe()&&(t=(t=(t=t.Ae(null,null,null,null,t.right.Be())).Ue()).Qe()),t},t.prototype.qe=function(){var t=this.Qe();return t.left.left.xe()&&(t=(t=t.Be()).Qe()),t},t.prototype.Ue=function(){var e=this.Ae(null,null,t.RED,null,this.right.left);return this.right.Ae(null,null,this.color,e,null)},t.prototype.Be=function(){var e=this.Ae(null,null,t.RED,this.left.right,null);return this.left.Ae(null,null,this.color,null,e)},t.prototype.Qe=function(){var t=this.left.Ae(null,null,!this.left.color,null,null),e=this.right.Ae(null,null,!this.right.color,null,null);return this.Ae(null,null,!this.color,t,e)},t.prototype.We=function(){var t=this.je();return Math.pow(2,t)<=this.size+1},t.prototype.je=function(){if(this.xe()&&this.left.xe())throw _e();if(this.right.xe())throw _e();var t=this.left.je();if(t!==this.right.je())throw _e();return t+(this.xe()?0:1)},t}();jt.EMPTY=null,jt.RED=!0,jt.Pe=!1,jt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw _e()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw _e()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw _e()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw _e()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw _e()},enumerable:!0,configurable:!0}),t.prototype.Ae=function(t,e,n,r,i){return this},t.prototype.me=function(t,e,n){return new jt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.B=function(){return!0},t.prototype.pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ve=function(){return null},t.prototype.ge=function(){return null},t.prototype.xe=function(){return!1},t.prototype.We=function(){return!0},t.prototype.je=function(){return 0},t}());var Ft=function(){function t(t){this.N=t,this.data=new Dt(this.N)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ve()},t.prototype.last=function(){return this.data.ge()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pe((function(e,n){return t(e),!1}))},t.prototype.Ke=function(t,e){for(var n=this.data.ve(t[0]);n.ke();){var r=n.Ne();if(this.N(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ge=function(t,e){var n;for(n=void 0!==e?this.data.ve(e):this.data.be();n.ke();)if(!t(n.Ne().key))return},t.prototype.ze=function(t){var e=this.data.ve(t);return e.ke()?e.Ne().key:null},t.prototype.be=function(){return new Vt(this.data.be())},t.prototype.ve=function(t){return new Vt(this.data.ve(t))},t.prototype.add=function(t){return this.Ae(this.data.remove(t).me(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.Ae(this.data.remove(t)):this},t.prototype.B=function(){return this.data.B()},t.prototype.He=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.be(),r=e.data.be();n.ke();){var i=n.Ne().key,o=r.Ne().key;if(0!==this.N(i,o))return!1}return!0},t.prototype.W=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.Ae=function(e){var n=new t(this.N);return n.data=e,n},t}(),Vt=function(){function t(t){this.Ye=t}return t.prototype.Ne=function(){return this.Ye.Ne().key},t.prototype.ke=function(){return this.Ye.ke()},t}(),Ut=new Dt(T.N);function Bt(){return Ut}function qt(){return Bt()}var zt=new Dt(T.N);function Ht(){return zt}var $t=new Dt(T.N);function Gt(){return $t}var Wt=new Ft(T.N);function Kt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Wt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Qt=new Ft(ke);function Xt(){return Qt}var Yt=function(){function t(t){this.N=t?function(e,n){return t(e,n)||T.N(e.key,n.key)}:function(t,e){return T.N(t.key,e.key)},this.Je=Ht(),this.Xe=new Dt(this.N)}return t.Ze=function(e){return new t(e.N)},t.prototype.has=function(t){return null!=this.Je.get(t)},t.prototype.get=function(t){return this.Je.get(t)},t.prototype.first=function(){return this.Xe.Ve()},t.prototype.last=function(){return this.Xe.ge()},t.prototype.B=function(){return this.Xe.B()},t.prototype.indexOf=function(t){var e=this.Je.get(t);return e?this.Xe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Xe.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.Xe.pe((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.Ae(e.Je.me(t.key,t),e.Xe.me(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.Ae(this.Je.remove(t),this.Xe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Xe.be(),r=e.Xe.be();n.ke();){var i=n.Ne().key,o=r.Ne().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.Ae=function(e,n){var r=new t;return r.N=this.N,r.Je=e,r.Xe=n,r},t}(),Zt=function(){function t(){this.ts=new Dt(T.N)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ts.get(e);n?0!==t.type&&3===n.type?this.ts=this.ts.me(e,t):3===t.type&&1!==n.type?this.ts=this.ts.me(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ts=this.ts.me(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ts=this.ts.me(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ts=this.ts.remove(e):1===t.type&&2===n.type?this.ts=this.ts.me(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ts=this.ts.me(e,{type:2,doc:t.doc}):_e():this.ts=this.ts.me(e,t)},t.prototype.es=function(){var t=[];return this.ts.pe((function(e,n){t.push(n)})),t},t}(),Jt=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.ss=n,this.docChanges=r,this.ns=i,this.fromCache=o,this.rs=s,this.hs=a}return t.os=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Yt.Ze(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ns.B()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.rs===t.rs&&this.ns.isEqual(t.ns)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ss.isEqual(t.ss)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),te=function(){function t(t,e,n,r,i){this.Ee=t,this.as=e,this.us=n,this.cs=r,this._s=i}return t.ls=function(e,n){var r=new Map;return r.set(e,ee.ds(e,n)),new t(_.min(),r,Xt(),Bt(),Kt())},t}(),ee=function(){function t(t,e,n,r,i){this.resumeToken=t,this.fs=e,this.Ts=n,this.Es=r,this.Is=i}return t.ds=function(e,n){return new t(I.ht,n,Kt(),Kt(),Kt())},t}(),ne=function(t,e,n,r){this.ws=t,this.removedTargetIds=e,this.key=n,this.Rs=r},re=function(t,e){this.targetId=t,this.ms=e},ie=function(t,e,n,r){void 0===n&&(n=I.ht),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},oe=function(){function t(){this.As=0,this.Ps=ue(),this.Vs=I.ht,this.gs=!1,this.ps=!0}return Object.defineProperty(t.prototype,"fs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Vs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ys",{get:function(){return 0!==this.As},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bs",{get:function(){return this.ps},enumerable:!0,configurable:!0}),t.prototype.vs=function(t){t.rt()>0&&(this.ps=!0,this.Vs=t)},t.prototype.Ss=function(){var t=Kt(),e=Kt(),n=Kt();return this.Ps.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:_e()}})),new ee(this.Vs,this.gs,t,e,n)},t.prototype.Ds=function(){this.ps=!1,this.Ps=ue()},t.prototype.Cs=function(t,e){this.ps=!0,this.Ps=this.Ps.me(t,e)},t.prototype.Fs=function(t){this.ps=!0,this.Ps=this.Ps.remove(t)},t.prototype.Ns=function(){this.As+=1},t.prototype.ks=function(){this.As-=1},t.prototype.$s=function(){this.ps=!0,this.gs=!0},t}(),se=function(){function t(t){this.Ms=t,this.Ls=new Map,this.xs=Bt(),this.Os=ae(),this.Bs=new Ft(ke)}return t.prototype.qs=function(t){for(var e=0,n=t.ws;e<n.length;e++){var r=n[e];t.Rs instanceof vt?this.Us(r,t.Rs):t.Rs instanceof bt&&this.Qs(r,t.key,t.Rs)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Qs(o[i],t.key,t.Rs)},t.prototype.Ws=function(t){var e=this;this.js(t,(function(n){var r=e.Ks(n);switch(t.state){case 0:e.Gs(n)&&r.vs(t.resumeToken);break;case 1:r.ks(),r.ys||r.Ds(),r.vs(t.resumeToken);break;case 2:r.ks(),r.ys||e.removeTarget(n);break;case 3:e.Gs(n)&&(r.$s(),r.vs(t.resumeToken));break;case 4:e.Gs(n)&&(e.zs(n),r.vs(t.resumeToken));break;default:_e()}}))},t.prototype.js=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ls.forEach((function(t,r){n.Gs(r)&&e(r)}))},t.prototype.Hs=function(t){var e=t.targetId,n=t.ms.count,r=this.Ys(e);if(r){var i=r.target;if(i.xt())if(0===n){var o=new T(i.path);this.Qs(e,o,new bt(o,_.min()))}else we(1===n);else this.Js(e)!==n&&(this.zs(e),this.Bs=this.Bs.add(e))}},t.prototype.Xs=function(t){var e=this,n=new Map;this.Ls.forEach((function(r,i){var o=e.Ys(i);if(o){if(r.fs&&o.target.xt()){var s=new T(o.target.path);null!==e.xs.get(s)||e.Zs(i,s)||e.Qs(i,s,new bt(s,t))}r.bs&&(n.set(i,r.Ss()),r.Ds())}}));var r=Kt();this.Os.forEach((function(t,n){var i=!0;n.Ge((function(t){var n=e.Ys(t);return!n||2===n.Te||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new te(t,n,this.Bs,this.xs,r);return this.xs=Bt(),this.Os=ae(),this.Bs=new Ft(ke),i},t.prototype.Us=function(t,e){if(this.Gs(t)){var n=this.Zs(t,e.key)?2:0;this.Ks(t).Cs(e.key,n),this.xs=this.xs.me(e.key,e),this.Os=this.Os.me(e.key,this.ti(e.key).add(t))}},t.prototype.Qs=function(t,e,n){if(this.Gs(t)){var r=this.Ks(t);this.Zs(t,e)?r.Cs(e,1):r.Fs(e),this.Os=this.Os.me(e,this.ti(e).delete(t)),n&&(this.xs=this.xs.me(e,n))}},t.prototype.removeTarget=function(t){this.Ls.delete(t)},t.prototype.Js=function(t){var e=this.Ks(t).Ss();return this.Ms.ei(t).size+e.Ts.size-e.Is.size},t.prototype.Ns=function(t){this.Ks(t).Ns()},t.prototype.Ks=function(t){var e=this.Ls.get(t);return e||(e=new oe,this.Ls.set(t,e)),e},t.prototype.ti=function(t){var e=this.Os.get(t);return e||(e=new Ft(ke),this.Os=this.Os.me(t,e)),e},t.prototype.Gs=function(t){var e=null!==this.Ys(t);return e||ye("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ys=function(t){var e=this.Ls.get(t);return e&&e.ys?null:this.Ms.si(t)},t.prototype.zs=function(t){var e=this;this.Ls.set(t,new oe),this.Ms.ei(t).forEach((function(n){e.Qs(t,n,null)}))},t.prototype.Zs=function(t,e){return this.Ms.ei(t).has(e)},t}();function ae(){return new Dt(T.N)}function ue(){return new Dt(T.N)}var ce={asc:"ASCENDING",desc:"DESCENDING"},le={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},he=function(){function t(t,e){this.ii=t,this.options=e}return t.prototype.ni=function(t){var e=void 0===t.code?d.UNKNOWN:Mt(t.code);return new f(e,t.message||"")},t.prototype.ri=function(t){return this.options.hi||A(t)?t:{value:t}},t.prototype.oi=function(t){var e;return A(e="object"==typeof t?t.value:t)?null:e},t.prototype._t=function(t){return{integerValue:""+t}},t.prototype.lt=function(t){if(this.options.hi){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:P(t)?"-0":t}},t.prototype.ai=function(t){return N(t)?this._t(t):this.lt(t)},t.prototype.C=function(t){return this.options.hi?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.v=function(t){var e=q(t);return new b(e.seconds,e.nanos)},t.prototype.ui=function(t){return this.options.hi?t.toBase64():t.toUint8Array()},t.prototype.ci=function(t){return this.options.hi?(we(void 0===t||"string"==typeof t),I.fromBase64String(t||"")):(we(void 0===t||t instanceof Uint8Array),I.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.C(t.C())},t.prototype.fromVersion=function(t){return we(!!t),_.v(this.v(t))},t.prototype._i=function(t,e){return this.li(e||this.ii).child("documents").child(t).j()},t.prototype.di=function(t){var e=E.K(t);return we(de(e)),e},t.prototype.fi=function(t){return this._i(t.path)},t.prototype.Z=function(t){var e=this.di(t);return we(e.get(1)===this.ii.projectId),we(!e.get(3)&&!this.ii.database||e.get(3)===this.ii.database),new T(this.Ti(e))},t.prototype.Ei=function(t){return this._i(t)},t.prototype.Ii=function(t){var e=this.di(t);return 4===e.length?E.G:this.Ti(e)},Object.defineProperty(t.prototype,"wi",{get:function(){return new E(["projects",this.ii.projectId,"databases",this.ii.database]).j()},enumerable:!0,configurable:!0}),t.prototype.li=function(t){return new E(["projects",t.projectId,"databases",t.database])},t.prototype.Ti=function(t){return we(t.length>4&&"documents"===t.get(4)),t.$(5)},t.prototype.Ri=function(t,e){return{name:this.fi(t),fields:e.proto.mapValue.fields}},t.prototype.mi=function(t){return{name:this.fi(t.key),fields:t.Mt().mapValue.fields,updateTime:this.C(t.version.C())}},t.prototype.Ai=function(t,e){var n=this.Z(t.name),r=this.fromVersion(t.updateTime),i=new dt({mapValue:{fields:t.fields}});return new vt(n,r,i,{hasCommittedMutations:!!e})},t.prototype.Pi=function(t){we(!!t.found);var e=this.Z(t.found.name),n=this.fromVersion(t.found.updateTime),r=new dt({mapValue:{fields:t.found.fields}});return new vt(e,n,r,{})},t.prototype.Vi=function(t){we(!!t.missing),we(!!t.readTime);var e=this.Z(t.missing),n=this.fromVersion(t.readTime);return new bt(e,n)},t.prototype.gi=function(t){return"found"in t?this.Pi(t):"missing"in t?this.Vi(t):_e()},t.prototype.pi=function(t){var e;if("targetChange"in t){var n=this.yi(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=this.ci(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this.ni(o);e=new ie(n,r,i,s||null)}else if("documentChange"in t){var a=t.documentChange,u=this.Z(a.document.name),c=this.fromVersion(a.document.updateTime),l=new dt({mapValue:{fields:a.document.fields}}),h=new vt(u,c,l,{});e=new ne(a.targetIds||[],a.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){var d=t.documentDelete,f=this.Z(d.document),p=d.readTime?this.fromVersion(d.readTime):_.min(),g=new bt(f,p);e=new ne([],d.removedTargetIds||[],g.key,g)}else if("documentRemove"in t){var m=t.documentRemove,y=this.Z(m.document);e=new ne([],m.removedTargetIds||[],y,null)}else{if(!("filter"in t))return _e();var v=t.filter,b=new Nt(v.count||0);e=new re(v.targetId,b)}return e},t.prototype.yi=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:_e()},t.prototype.bi=function(t){if(!("targetChange"in t))return _.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?_.min():e.readTime?this.fromVersion(e.readTime):_.min()},t.prototype.vi=function(t){var e,n=this;if(t instanceof at)e={update:this.Ri(t.key,t.value)};else if(t instanceof lt)e={delete:this.fi(t.key)};else if(t instanceof ut)e={update:this.Ri(t.key,t.data),updateMask:this.Si(t.Vt)};else if(t instanceof ct)e={transform:{document:this.fi(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Di(t)}))}};else{if(!(t instanceof ht))return _e();e={verify:this.fi(t.key)}}return t.Rt.Tt||(e.currentDocument=this.Ci(t.Rt)),e},t.prototype.Fi=function(t){var e=this,n=t.currentDocument?this.Ni(t.currentDocument):ot.ft();if(t.update){var r=this.Z(t.update.name),i=new dt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.ki(t.updateMask);return new ut(r,i,o,n)}return new at(r,i,n)}if(t.delete){var s=this.Z(t.delete);return new lt(s,n)}if(t.transform){var a=this.Z(t.transform.document),u=t.transform.fieldTransforms.map((function(t){return e.$i(t)}));return we(!0===n.exists),new ct(a,u)}if(t.verify){var c=this.Z(t.verify);return new ht(c,n)}return _e()},t.prototype.Ci=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_e()},t.prototype.Ni=function(t){return void 0!==t.updateTime?ot.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ot.exists(t.exists):ot.ft()},t.prototype.Mi=function(t,e){var n=this.fromVersion(t.updateTime?t.updateTime:e);n.isEqual(_.min())&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new it(n,r)},t.prototype.Li=function(t,e){var n=this;return t&&t.length>0?(we(void 0!==e),t.map((function(t){return n.Mi(t,e)}))):[]},t.prototype.Di=function(t){var e=t.transform;if(e instanceof Y)return{fieldPath:t.field.j(),setToServerValue:"REQUEST_TIME"};if(e instanceof Z)return{fieldPath:t.field.j(),appendMissingElements:{values:e.elements}};if(e instanceof J)return{fieldPath:t.field.j(),removeAllFromArray:{values:e.elements}};if(e instanceof tt)return{fieldPath:t.field.j(),increment:e.ct};throw _e()},t.prototype.$i=function(t){var e=null;"setToServerValue"in t?(we("REQUEST_TIME"===t.setToServerValue),e=Y.instance):"appendMissingElements"in t?e=new Z(t.appendMissingElements.values||[]):"removeAllFromArray"in t?e=new J(t.removeAllFromArray.values||[]):"increment"in t?e=new tt(this,t.increment):_e();var n=k.X(t.fieldPath);return new rt(n,e)},t.prototype.xi=function(t){return{documents:[this.Ei(t.path)]}},t.prototype.Oi=function(t){return we(1===t.documents.length),Et.Wt(this.Ii(t.documents[0])).ee()},t.prototype.Bi=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Ei(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Ei(n.M()),e.structuredQuery.from=[{collectionId:n.O()}]);var r=this.qi(t.filters);r&&(e.structuredQuery.where=r);var i=this.Ui(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.ri(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Qi(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Qi(t.endAt)),e},t.prototype.Wi=function(t){var e=this.Ii(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.ji(n.where));var a=[];n.orderBy&&(a=this.Ki(n.orderBy));var u=null;n.limit&&(u=this.oi(n.limit));var c=null;n.startAt&&(c=this.Gi(n.startAt));var l=null;return n.endAt&&(l=this.Gi(n.endAt)),new Et(e,i,a,s,u,"F",c,l).ee()},t.prototype.zi=function(t){var e=this.Hi(t.Te);return null==e?null:{"goog-listen-tags":e}},t.prototype.Hi=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _e()}},t.prototype.ee=function(t){var e,n=t.target;return(e=n.xt()?{documents:this.xi(n)}:{query:this.Bi(n)}).targetId=t.targetId,t.resumeToken.rt()>0&&(e.resumeToken=this.ui(t.resumeToken)),e},t.prototype.qi=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Ct?e.Yi(t):_e()}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.ji=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Ji(t)]:void 0!==t.fieldFilter?[this.Xi(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.ji(t)})).reduce((function(t,e){return t.concat(e)})):_e():[]},t.prototype.Ui=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.Zi(t)}))},t.prototype.Ki=function(t){var e=this;return t.map((function(t){return e.tn(t)}))},t.prototype.Qi=function(t){return{before:t.before,values:t.position}},t.prototype.Gi=function(t){return new It(t.values||[],!!t.before)},t.prototype.en=function(t){return ce[t]},t.prototype.sn=function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}},t.prototype.nn=function(t){return le[t]},t.prototype.rn=function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return _e()}},t.prototype.hn=function(t){return{fieldPath:t.j()}},t.prototype.on=function(t){return k.X(t.fieldPath)},t.prototype.Zi=function(t){return{field:this.hn(t.field),direction:this.en(t.dir)}},t.prototype.tn=function(t){return new At(this.on(t.field),this.sn(t.direction))},t.prototype.Xi=function(t){return Ct.create(this.on(t.fieldFilter.field),this.rn(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.Yi=function(t){if("=="===t.op){if(Q(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NAN"}};if(K(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.hn(t.field),op:this.nn(t.op),value:t.value}}},t.prototype.Ji=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.on(t.unaryFilter.field);return Ct.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=this.on(t.unaryFilter.field);return Ct.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return _e()}},t.prototype.Si=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.j())})),{fieldPaths:e}},t.prototype.ki=function(t){return new nt((t.fieldPaths||[]).map((function(t){return k.X(t)})))},t}();function de(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var fe=function(){function t(){}return t.an=function(e){t.platform&&_e(),t.platform=e},t.nt=function(){return t.platform||_e(),t.platform},t}(),pe=new s.Logger("@firebase/firestore");function ge(){return pe.logLevel}function me(t){pe.logLevel=t}function ye(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pe.logLevel<=s.LogLevel.DEBUG){var r=e.map(be);pe.debug.apply(pe,i.__spreadArrays(["Firestore ("+l+"): "+t],r))}}function ve(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pe.logLevel<=s.LogLevel.ERROR){var r=e.map(be);pe.error.apply(pe,i.__spreadArrays(["Firestore ("+l+"): "+t],r))}}function be(t){if("string"==typeof t)return t;var e=fe.nt();try{return e.un(t)}catch(e){return t}}function _e(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw ve(e),new Error(e)}function we(t,e){t||_e()}function Ee(t,e){return t}var Ce=function(){function t(){}return t.cn=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=fe.nt()._n(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ke(t,e){return t<e?-1:t>e?1:0}function Te(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Se(t){return t+"\0"}var xe=function(t,e,n,r,i){this.ii=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Oe=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"ln",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.S=function(t){return ke(this.projectId,t.projectId)||ke(this.database,t.database)},t}(),Ie=function(){function t(t){this.dn=t,this.fn={}}return t.prototype.get=function(t){var e=this.dn(t),n=this.fn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.dn(t),r=this.fn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.fn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.dn(t),n=this.fn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.fn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){x(this.fn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.B=function(){return O(this.fn)},t}(),Ae=function(){function t(t,e,n,r){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=r}return t.prototype.at=function(t,e,n){for(var r=n.En,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.at(e,r[i]))}return e},t.prototype.ot=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.ot(e,e,this.Tn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=u.ot(e,o,this.Tn))}return e},t.prototype.In=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ot(r.key,t.get(r.key));i&&(n=n.me(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Kt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Te(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Te(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),Pe=function(){function t(t,e,n,r,i){this.batch=t,this.wn=e,this.En=n,this.streamToken=r,this.Rn=i}return t.from=function(e,n,r,i){we(e.mutations.length===r.length);for(var o=Gt(),s=e.mutations,a=0;a<s.length;a++)o=o.me(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),Ne=function(){function t(){this.mn=new Ft(Re.An),this.Pn=new Ft(Re.Vn)}return t.prototype.B=function(){return this.mn.B()},t.prototype.gn=function(t,e){var n=new Re(t,e);this.mn=this.mn.add(n),this.Pn=this.Pn.add(n)},t.prototype.pn=function(t,e){var n=this;t.forEach((function(t){return n.gn(t,e)}))},t.prototype.yn=function(t,e){this.bn(new Re(t,e))},t.prototype.vn=function(t,e){var n=this;t.forEach((function(t){return n.yn(t,e)}))},t.prototype.Sn=function(t){var e=this,n=T.EMPTY,r=new Re(n,t),i=new Re(n,t+1),o=[];return this.Pn.Ke([r,i],(function(t){e.bn(t),o.push(t.key)})),o},t.prototype.Dn=function(){var t=this;this.mn.forEach((function(e){return t.bn(e)}))},t.prototype.bn=function(t){this.mn=this.mn.delete(t),this.Pn=this.Pn.delete(t)},t.prototype.Cn=function(t){var e=T.EMPTY,n=new Re(e,t),r=new Re(e,t+1),i=Kt();return this.Pn.Ke([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Fn=function(t){var e=new Re(t,0),n=this.mn.ze(e);return null!==n&&t.isEqual(n.key)},t}(),Re=function(){function t(t,e){this.key=t,this.Nn=e}return t.An=function(t,e){return T.N(t.key,e.key)||ke(t.Nn,e.Nn)},t.Vn=function(t,e){return ke(t.Nn,e.Nn)||T.N(t.key,e.key)},t}(),Me=function(){function t(t){var e=this;this.kn=null,this.$n=null,this.result=void 0,this.error=void 0,this.Mn=!1,this.Ln=!1,t((function(t){e.Mn=!0,e.result=t,e.kn&&e.kn(t)}),(function(t){e.Mn=!0,e.error=t,e.$n&&e.$n(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Ln&&_e(),this.Ln=!0,this.Mn?this.error?this.xn(n,this.error):this.On(e,this.result):new t((function(t,i){r.kn=function(n){r.On(e,n).next(t,i)},r.$n=function(e){r.xn(n,e).next(t,i)}}))},t.prototype.Bn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.qn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.On=function(e,n){return e?this.qn((function(){return e(n)})):t.resolve(n)},t.prototype.xn=function(e,n){return e?this.qn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Un=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Qn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Un(r)},t}(),De=function(){function t(){this.Wn=new Ie((function(t){return t.toString()})),this.jn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Kn},set:function(t){this.Kn=t},enumerable:!0,configurable:!0}),t.prototype.Gn=function(t,e){this.zn(),this.readTime=e,this.Wn.set(t.key,t)},t.prototype.Hn=function(t,e){this.zn(),e&&(this.readTime=e),this.Wn.set(t,null)},t.prototype.Yn=function(t,e){this.zn();var n=this.Wn.get(e);return void 0!==n?Me.resolve(n):this.Jn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.zn(),this.jn=!0,this.Zn(t)},t.prototype.zn=function(){},t}(),Le="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",je=function(){function t(){this.tr=[]}return t.prototype.er=function(t){this.tr.push(t)},t.prototype.sr=function(){this.tr.forEach((function(t){return t()}))},t}(),Fe=function(){function t(t,e,n){this.ir=t,this.nr=e,this.rr=n}return t.prototype.hr=function(t,e){var n=this;return this.nr.or(t,e).next((function(r){return n.ar(t,e,r)}))},t.prototype.ar=function(t,e,n){return this.ir.Yn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ot(e,t);return t}))},t.prototype.ur=function(t,e,n){var r=qt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ot(t,e);r=r.me(t,e)})),r},t.prototype.cr=function(t,e){var n=this;return this.ir.getEntries(t,e).next((function(e){return n._r(t,e)}))},t.prototype._r=function(t,e){var n=this;return this.nr.lr(t,e).next((function(r){var i=n.ur(t,e,r),o=Bt();return i.forEach((function(t,e){e||(e=new bt(t,_.min())),o=o.me(t,e)})),o}))},t.prototype.dr=function(t,e,n){return e.xt()?this.Tr(t,e.path):e._e()?this.Er(t,e,n):this.Ir(t,e,n)},t.prototype.Tr=function(t,e){return this.hr(t,new T(e)).next((function(t){var e=Ht();return t instanceof vt&&(e=e.me(t.key,t)),e}))},t.prototype.Er=function(t,e,n){var r=this,i=e.collectionGroup,o=Ht();return this.rr.wr(t,i).next((function(s){return Me.forEach(s,(function(s){var a=e.Zt(s.child(i));return r.Ir(t,a,n).next((function(t){t.forEach((function(t,e){o=o.me(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Ir=function(t,e,n){var r,i,o=this;return this.ir.dr(t,e,n).next((function(n){return r=n,o.nr.Rr(t,e)})).next((function(e){return o.mr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=u.ot(l,l,o.Tn);r=h instanceof vt?r.me(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.mr=function(t,e,n){for(var r=Kt(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ut&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ir.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof vt&&(c=c.me(t,e))})),c}))},t}(),Ve=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ar=n,this.Pr=r}return t.Vr=function(e,n){for(var r=Kt(),i=Kt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ue=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.gr=function(t){return n.pr(t)},this.yr=function(t){return e.br(t)})}return t.prototype.pr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.yr&&this.yr(t),t},t}();Ue.vr=-1;var Be=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},qe=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Sr=t,this.Dr=e,this.Cr=n,this.Fr=r,this.Nr=i,this.kr=0,this.$r=null,this.Mr=Date.now(),this.reset()}return t.prototype.reset=function(){this.kr=0},t.prototype.Lr=function(){this.kr=this.Nr},t.prototype.xr=function(t){var e=this;this.cancel();var n=Math.floor(this.kr+this.Or()),r=Math.max(0,Date.now()-this.Mr),i=Math.max(0,n-r);i>0&&ye("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.kr+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.$r=this.Sr.Br(this.Dr,i,(function(){return e.Mr=Date.now(),t()})),this.kr*=this.Fr,this.kr<this.Cr&&(this.kr=this.Cr),this.kr>this.Nr&&(this.kr=this.Nr)},t.prototype.cancel=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t.prototype.Or=function(){return(Math.random()-.5)*this.kr},t}(),ze=function(){function t(t,e,n,r,i){this.qr=t,this.Dr=e,this.Ur=n,this.op=r,this.Qr=i,this.Wr=new Be,this.then=this.Wr.promise.then.bind(this.Wr.promise),this.catch=this.Wr.promise.catch.bind(this.Wr.promise),this.Wr.promise.catch((function(t){}))}return t.jr=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Kr=setTimeout((function(){return e.Gr()}),t)},t.prototype.zr=function(){return this.Gr()},t.prototype.cancel=function(t){null!==this.Kr&&(this.clearTimeout(),this.Wr.reject(new f(d.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Gr=function(){var t=this;this.qr.Hr((function(){return null!==t.Kr?(t.clearTimeout(),t.op().then((function(e){return t.Wr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Kr&&(this.Qr(this),clearTimeout(this.Kr),this.Kr=null)},t}(),He=function(){function t(){var t=this;this.Yr=Promise.resolve(),this.Jr=Promise.resolve(),this.Xr=!1,this.Zr=[],this.th=null,this.eh=!1,this.sh=[],this.ih=new qe(this,"async_queue_retry"),this.nh=function(){t.rh("async_queue_retry")};var e=fe.nt().window;e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.nh)}return Object.defineProperty(t.prototype,"hh",{get:function(){return this.Xr},enumerable:!0,configurable:!0}),t.prototype.Hr=function(t){this.enqueue(t)},t.prototype.oh=function(t){this.ah(),this.uh(t)},t.prototype._h=function(t){return this.ah(),this.uh(t)},t.prototype.lh=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.ah(),this.Xr?[3,2]:(this.Xr=!0,(e=fe.nt().window)&&e.removeEventListener("visibilitychange",this.nh),[4,this._h(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.ah(),this.Xr?new Promise((function(t){})):this.uh(t)},t.prototype.dh=function(t){var e=this;this.ah(),this.Xr||(this.Jr=this.Jr.then((function(){var n=new Be,r=function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return i.sent(),n.resolve(),this.ih.reset(),[3,3];case 2:if("IndexedDbTransactionError"!==(e=i.sent()).name)throw n.resolve(),e;return ye("AsyncQueue","Operation failed with retryable error: "+e),this.ih.xr(r),[3,3];case 3:return[2]}}))}))};return e.Hr(r),n.promise})))},t.prototype.uh=function(t){var e=this,n=this.Yr.then((function(){return e.eh=!0,t().catch((function(t){throw e.th=t,e.eh=!1,ve("INTERNAL UNHANDLED ERROR: ",t.stack||t.message||""),t})).then((function(t){return e.eh=!1,t}))}));return this.Yr=n,n},t.prototype.Br=function(t,e,n){var r=this;this.ah(),this.sh.indexOf(t)>-1&&(e=0);var i=ze.jr(this,t,e,n,(function(t){return r.fh(t)}));return this.Zr.push(i),i},t.prototype.ah=function(){this.th&&_e()},t.prototype.Th=function(){},t.prototype.Eh=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Yr];case 1:e.sent(),e.label=2;case 2:if(t!==this.Yr)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ih=function(t){for(var e=0,n=this.Zr;e<n.length;e++)if(n[e].Dr===t)return!0;return!1},t.prototype.rh=function(t){var e=this;return this.Eh().then((function(){e.Zr.sort((function(t,e){return t.Ur-e.Ur}));for(var n=0,r=e.Zr;n<r.length;n++){var i=r[n];if(i.zr(),"all"!==t&&i.Dr===t)break}return e.Eh()}))},t.prototype.wh=function(t){this.sh.push(t)},t.prototype.fh=function(t){var e=this.Zr.indexOf(t);this.Zr.splice(e,1)},t}();function $e(t,e){var n=t[1],r=e[1],i=ke(t[0],e[0]);return 0===i?ke(n,r):i}var Ge=function(){function t(t){this.Rh=t,this.buffer=new Ft($e),this.mh=0}return t.prototype.Ah=function(){return++this.mh},t.prototype.Ph=function(t){var e=[t,this.Ah()];if(this.buffer.size<this.Rh)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();$e(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),We={Vh:!1,gh:0,ph:0,yh:0},Ke=function(){function t(t,e,n){this.bh=t,this.vh=e,this.Sh=n}return t.Dh=function(e){return new t(e,t.Ch,t.Fh)},t}();Ke.Nh=-1,Ke.kh=1048576,Ke.$h=41943040,Ke.Ch=10,Ke.Fh=1e3,Ke.Mh=new Ke(Ke.$h,Ke.Ch,Ke.Fh),Ke.DISABLED=new Ke(Ke.Nh,0,0);var Qe=function(){function t(t,e){this.Lh=t,this.qr=e,this.xh=!1,this.Oh=null}return t.prototype.start=function(t){this.Lh.Bh.bh!==Ke.Nh&&this.qh(t)},t.prototype.stop=function(){this.Oh&&(this.Oh.cancel(),this.Oh=null)},Object.defineProperty(t.prototype,"Uh",{get:function(){return null!==this.Oh},enumerable:!0,configurable:!0}),t.prototype.qh=function(t){var e=this,n=this.xh?3e5:6e4;ye("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Oh=this.qr.Br("lru_garbage_collection",n,(function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:this.Oh=null,this.xh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Qh(this.Lh)];case 2:return n.sent(),[3,7];case 3:return"IndexedDbTransactionError"!==(e=n.sent()).name?[3,4]:(ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]);case 4:return[4,or(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.qh(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Xe=function(){function t(t,e){this.Wh=t,this.Bh=e}return t.prototype.jh=function(t,e){return this.Wh.Kh(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Gh=function(t,e){var n=this;if(0===e)return Me.resolve(Ue.vr);var r=new Ge(e);return this.Wh.js(t,(function(t){return r.Ph(t.sequenceNumber)})).next((function(){return n.Wh.zh(t,(function(t){return r.Ph(t)}))})).next((function(){return r.maxValue}))},t.prototype.Hh=function(t,e,n){return this.Wh.Hh(t,e,n)},t.prototype.Yh=function(t,e){return this.Wh.Yh(t,e)},t.prototype.Jh=function(t,e){var n=this;return this.Bh.bh===Ke.Nh?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(We)):this.Xh(t).next((function(r){return r<n.Bh.bh?(ye("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.Bh.bh),We):n.Zh(t,e)}))},t.prototype.Xh=function(t){return this.Wh.Xh(t)},t.prototype.Zh=function(t,e){var n,r,i,o,a,u,c,l=this,h=Date.now();return this.jh(t,this.Bh.vh).next((function(e){return e>l.Bh.Sh?(ye("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.Bh.Sh+" from "+e),r=l.Bh.Sh):r=e,o=Date.now(),l.Gh(t,r)})).next((function(r){return n=r,a=Date.now(),l.Hh(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.Yh(t,n)})).next((function(t){return c=Date.now(),ge()<=s.LogLevel.DEBUG&&ye("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),Me.resolve({Vh:!0,gh:r,ph:i,yh:t})}))},t}();function Ye(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Je(e)),e=Ze(t.get(n),e);return Je(e)}function Ze(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Je(t){return t+"\x01\x01"}function tn(t){var e=t.length;if(we(e>=2),2===e)return we("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),E.G;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&_e(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:_e()}o=s+2}return new E(r)}var en=function(){function t(e){this.db=e,12.2===t.to(a.getUA())&&ve("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.eo=function(e,n,r){return ye("SimpleDb","Opening database:",e),new Me((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onblocked=function(){o(new f(d.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new f(d.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){ye("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,In).next((function(){ye("SimpleDb","Database upgrade to version "+In+" complete")}))}})).Bn()},t.delete=function(t){return ye("SimpleDb","Removing database:",t),an(window.indexedDB.deleteDatabase(t)).Bn()},t.so=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.io())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.to(e),r=0<n&&n<10,i=t.no(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.io=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.ro)},t.ho=function(t,e){return t.store(e)},t.to=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.no=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.oo=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u;return i.__generator(this,(function(c){switch(c.label){case 0:r="readonly"===t,o=0,s=function(){var t,s,u,c,l;return i.__generator(this,(function(i){switch(i.label){case 0:++o,t=on.open(a.db,r?"readonly":"readwrite",e),i.label=1;case 1:return i.trys.push([1,3,,4]),s=n(t).catch((function(e){return t.abort(e),Me.reject(e)})).Bn(),u={},s.catch((function(){})),[4,t.ao];case 2:return[2,(u.value=(i.sent(),s),u)];case 3:return ye("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=i.sent()).message,l="FirebaseError"!==c.name&&o<3),l?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),nn=function(){function t(t){this.uo=t,this.co=!1,this._o=null}return Object.defineProperty(t.prototype,"Mn",{get:function(){return this.co},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lo",{get:function(){return this._o},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.uo=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.co=!0},t.prototype.do=function(t){this._o=t},t.prototype.delete=function(){return an(this.uo.delete())},t}(),rn=function(t){function e(e){var n=this;return(n=t.call(this,d.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return i.__extends(e,t),e}(f),on=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.fo=new Be,this.transaction.oncomplete=function(){e.fo.resolve()},this.transaction.onabort=function(){t.error?e.fo.reject(new rn(t.error)):e.fo.resolve()},this.transaction.onerror=function(t){var n=cn(t.target.error);e.fo.reject(new rn(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"ao",{get:function(){return this.fo.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.fo.reject(t),this.aborted||(ye("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new sn(e)},t}(),sn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ye("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ye("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),an(n)},t.prototype.add=function(t){return ye("SimpleDb","ADD",this.store.name,t,t),an(this.store.add(t))},t.prototype.get=function(t){var e=this;return an(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ye("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ye("SimpleDb","DELETE",this.store.name,t),an(this.store.delete(t))},t.prototype.count=function(){return ye("SimpleDb","COUNT",this.store.name),an(this.store.count())},t.prototype.To=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Eo(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Io=function(t,e){ye("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.wo=!1;var r=this.cursor(n);return this.Eo(r,(function(t,e,n){return n.delete()}))},t.prototype.Ro=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Eo(r,e)},t.prototype.mo=function(t){var e=this.cursor({});return new Me((function(n,r){e.onerror=function(t){var e=cn(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Eo=function(t,e){var n=[];return new Me((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new nn(i),s=e(i.primaryKey,i.value,o);if(s instanceof Me){var a=s.catch((function(t){return o.done(),Me.reject(t)}));n.push(a)}o.Mn?r():null===o.lo?i.continue():i.continue(o.lo)}else r()}})).next((function(){return Me.Un(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.wo?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function an(t){return new Me((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=cn(t.target.error);n(e)}}))}var un=!1;function cn(t){var e=en.to(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new f("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return un||(un=!0,setTimeout((function(){throw r}),0)),r}}return t}var ln=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.rr=n,this.Ao=r,this.Po={}}return t.Vo=function(e,n,r,i){return we(""!==e.uid),new t(e.t()?e.uid:"",n,r,i)},t.prototype.po=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fn(t).Ro({index:Mn.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.yo=function(t,e,n){return this.bo(t).next((function(e){return e.lastStreamToken=n.toBase64(),gn(t).put(e)}))},t.prototype.vo=function(t){return this.bo(t).next((function(t){return I.fromBase64String(t.lastStreamToken)}))},t.prototype.So=function(t,e){return this.bo(t).next((function(n){return n.lastStreamToken=e.toBase64(),gn(t).put(n)}))},t.prototype.Do=function(t,e,n,r){var i=this,o=pn(t),s=fn(t);return s.add({}).next((function(a){we("number"==typeof a);for(var u=new Ae(a,e,n,r),c=i.serializer.Co(i.userId,u),l=[],h=new Ft((function(t,e){return ke(t.j(),e.j())})),d=0,f=r;d<f.length;d++){var p=f[d],g=Dn.key(i.userId,p.key.path,a);h=h.add(p.key.path.M()),l.push(s.put(c)),l.push(o.put(g,Dn.PLACEHOLDER))}return h.forEach((function(e){l.push(i.rr.Fo(t,e))})),t.er((function(){i.Po[a]=u.keys()})),Me.Un(l).next((function(){return u}))}))},t.prototype.No=function(t,e){var n=this;return fn(t).get(e).next((function(t){return t?(we(t.userId===n.userId),n.serializer.ko(t)):null}))},t.prototype.$o=function(t,e){var n=this;return this.Po[e]?Me.resolve(this.Po[e]):this.No(t,e).next((function(t){if(t){var r=t.keys();return n.Po[e]=r,r}return null}))},t.prototype.Mo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return fn(t).Ro({index:Mn.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(we(e.batchId>=r),o=n.serializer.ko(e)),i.done()})).next((function(){return o}))},t.prototype.Lo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fn(t).Ro({index:Mn.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.xo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fn(t).To(Mn.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.ko(t)}))}))},t.prototype.or=function(t,e){var n=this,r=Dn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return pn(t).Ro({range:i},(function(r,i,s){var a=r[0],u=r[2],c=tn(r[1]);if(a===n.userId&&e.path.isEqual(c))return fn(t).get(u).next((function(t){if(!t)throw _e();we(t.userId===n.userId),o.push(n.serializer.ko(t))}));s.done()})).next((function(){return o}))},t.prototype.lr=function(t,e){var n=this,r=new Ft(ke),i=[];return e.forEach((function(e){var o=Dn.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=pn(t).Ro({range:s},(function(t,i,o){var s=t[0],a=t[2],u=tn(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Me.Un(i).next((function(){return n.Oo(t,r)}))},t.prototype.Rr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Dn.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ft(ke);return pn(t).Ro({range:s},(function(t,e,o){var s=t[0],u=t[2],c=tn(t[1]);s===n.userId&&r.q(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Oo(t,a)}))},t.prototype.Oo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(fn(t).get(e).next((function(t){if(null===t)throw _e();we(t.userId===n.userId),r.push(n.serializer.ko(t))})))})),Me.Un(i).next((function(){return r}))},t.prototype.Bo=function(t,e){var n=this;return dn(t.qo,this.userId,e).next((function(r){return t.er((function(){n.Uo(e.batchId)})),Me.forEach(r,(function(e){return n.Ao.Qo(t,e)}))}))},t.prototype.Uo=function(t){delete this.Po[t]},t.prototype.Wo=function(t){var e=this;return this.po(t).next((function(n){if(!n)return Me.resolve();var r=IDBKeyRange.lowerBound(Dn.prefixForUser(e.userId)),i=[];return pn(t).Ro({range:r},(function(t,n,r){if(t[0]===e.userId){var o=tn(t[1]);i.push(o)}else r.done()})).next((function(){we(0===i.length)}))}))},t.prototype.Fn=function(t,e){return hn(t,this.userId,e)},t.prototype.bo=function(t){var e=this;return gn(t).get(this.userId).next((function(t){return t||new Rn(e.userId,-1,"")}))},t}();function hn(t,e,n){var r=Dn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return pn(t).Ro({range:o,wo:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function dn(t,e,n){var r=t.store(Mn.store),i=t.store(Dn.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ro({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){we(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Dn.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Me.Un(o).next((function(){return c}))}function fn(t){return Zn.ho(t,Mn.store)}function pn(t){return Zn.ho(t,Dn.store)}function gn(t){return Zn.ho(t,Rn.store)}var mn=function(){function t(t){this.jo=t}return t.prototype.next=function(){return this.jo+=2,this.jo},t.Ko=function(){return new t(0)},t.Go=function(){return new t(-1)},t}(),yn=function(){function t(t,e){this.Ao=t,this.serializer=e}return t.prototype.zo=function(t){var e=this;return this.Ho(t).next((function(n){var r=new mn(n.highestTargetId);return n.highestTargetId=r.next(),e.Yo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Jo=function(t){return this.Ho(t).next((function(t){return _.v(new b(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Xo=function(t){return _n(t.qo)},t.prototype.Zo=function(t,e,n){var r=this;return this.Ho(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.C()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Yo(t,i)}))},t.prototype.ta=function(t,e){var n=this;return this.ea(t,e).next((function(){return n.Ho(t).next((function(r){return r.targetCount+=1,n.sa(e,r),n.Yo(t,r)}))}))},t.prototype.ia=function(t,e){return this.ea(t,e)},t.prototype.na=function(t,e){var n=this;return this.ra(t,e.targetId).next((function(){return vn(t).delete(e.targetId)})).next((function(){return n.Ho(t)})).next((function(e){return we(e.targetCount>0),e.targetCount-=1,n.Yo(t,e)}))},t.prototype.Hh=function(t,e,n){var r=this,i=0,o=[];return vn(t).Ro((function(s,a){var u=r.serializer.ha(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.na(t,u)))})).next((function(){return Me.Un(o)})).next((function(){return i}))},t.prototype.js=function(t,e){var n=this;return vn(t).Ro((function(t,r){var i=n.serializer.ha(r);e(i)}))},t.prototype.Ho=function(t){return bn(t.qo)},t.prototype.Yo=function(t,e){return(n=t,Zn.ho(n,qn.store)).put(qn.key,e);var n},t.prototype.ea=function(t,e){return vn(t).put(this.serializer.oa(e))},t.prototype.sa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.aa=function(t){return this.Ho(t).next((function(t){return t.targetCount}))},t.prototype.ua=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return vn(t).Ro({range:i,index:Un.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.ha(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.ca=function(t,e,n){var r=this,i=[],o=wn(t);return e.forEach((function(e){var s=Ye(e.path);i.push(o.put(new Bn(n,s))),i.push(r.Ao.gn(t,e))})),Me.Un(i)},t.prototype._a=function(t,e,n){var r=this,i=wn(t);return Me.forEach(e,(function(e){var o=Ye(e.path);return Me.Un([i.delete([n,o]),r.Ao.yn(t,e)])}))},t.prototype.ra=function(t,e){var n=wn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.la=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=wn(t),i=Kt();return r.Ro({range:n,wo:!0},(function(t,e,n){var r=tn(t[1]),o=new T(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Fn=function(t,e){var n=Ye(e.path),r=IDBKeyRange.bound([n],[Se(n)],!1,!0),i=0;return wn(t).Ro({index:Bn.documentTargetsIndex,wo:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.si=function(t,e){var n=this;return vn(t).get(e).next((function(t){return t?n.serializer.ha(t):null}))},t}();function vn(t){return Zn.ho(t,Un.store)}function bn(t){return en.ho(t,qn.store).get(qn.key).next((function(t){return we(null!==t),t}))}function _n(t){return bn(t).next((function(t){return t.highestListenSequenceNumber}))}function wn(t){return Zn.ho(t,Bn.store)}var En=function(){function t(t,e){this.serializer=t,this.rr=e}return t.prototype.Gn=function(t,e,n){return kn(t).put(Tn(e),n)},t.prototype.Hn=function(t,e){var n=kn(t),r=Tn(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.da(t,r)}))},t.prototype.Yn=function(t,e){var n=this;return kn(t).get(Tn(e)).next((function(t){return n.fa(t)}))},t.prototype.Ta=function(t,e){var n=this;return kn(t).get(Tn(e)).next((function(t){var e=n.fa(t);return e?{Ea:e,size:Sn(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=qt();return this.Ia(t,e,(function(t,e){var i=n.fa(e);r=r.me(t,i)})).next((function(){return r}))},t.prototype.wa=function(t,e){var n=this,r=qt(),i=new Dt(T.N);return this.Ia(t,e,(function(t,e){var o=n.fa(e);o?(r=r.me(t,o),i=i.me(t,Sn(e))):(r=r.me(t,null),i=i.me(t,0))})).next((function(){return{Ra:r,ma:i}}))},t.prototype.Ia=function(t,e,n){if(e.B())return Me.resolve();var r=IDBKeyRange.bound(e.first().path.W(),e.last().path.W()),i=e.be(),o=i.Ne();return kn(t).Ro({range:r},(function(t,e,r){for(var s=T.st(t);o&&T.N(o,s)<0;)n(o,null),o=i.Ne();o&&o.isEqual(s)&&(n(o,e),o=i.ke()?i.Ne():null),o?r.do(o.path.W()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ke()?i.Ne():null}))},t.prototype.dr=function(t,e,n){var r=this,i=Ht(),o=e.path.length+1,s={};if(n.isEqual(_.min())){var a=e.path.W();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.W(),c=this.serializer.Aa(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Fn.collectionReadTimeIndex}return kn(t).Ro(s,(function(t,n,s){if(t.length===o){var a=r.serializer.Pa(n);e.path.q(a.key.path)?a instanceof vt&&e.matches(a)&&(i=i.me(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Va=function(t,e){var n=this,r=Bt(),i=this.serializer.Aa(e),o=kn(t),s=IDBKeyRange.lowerBound(i,!0);return o.Ro({index:Fn.readTimeIndex,range:s},(function(t,e){var o=n.serializer.Pa(e);r=r.me(o.key,o),i=e.readTime})).next((function(){return{ga:r,readTime:n.serializer.pa(i)}}))},t.prototype.ya=function(t){var e=this,n=kn(t),r=_.min();return n.Ro({index:Fn.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.pa(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.ba=function(e){return new t.va(this,!!e&&e.Sa)},t.prototype.Da=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Cn(t).get(Vn.key).next((function(t){return we(!!t),t}))},t.prototype.da=function(t,e){return Cn(t).put(Vn.key,e)},t.prototype.fa=function(t){if(t){var e=this.serializer.Pa(t);return e instanceof bt&&e.version.isEqual(_.min())?null:e}return null},t}();function Cn(t){return Zn.ho(t,Vn.store)}function kn(t){return Zn.ho(t,Fn.store)}function Tn(t){return t.path.W()}function Sn(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _e();e=t.noDocument}return JSON.stringify(e).length}En.va=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ca=e,r.Sa=n,r.Fa=new Ie((function(t){return t.toString()})),r}return i.__extends(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Ft((function(t,e){return ke(t.j(),e.j())}));return this.Wn.forEach((function(o,s){var a=e.Fa.get(o);if(s){var u=e.Ca.serializer.Na(s,e.readTime);i=i.add(o.path.M());var c=Sn(u);r+=c-a,n.push(e.Ca.Gn(t,o,u))}else if(r-=a,e.Sa){var l=e.Ca.serializer.Na(new bt(o,_.min()),e.readTime);n.push(e.Ca.Gn(t,o,l))}else n.push(e.Ca.Hn(t,o))})),i.forEach((function(r){n.push(e.Ca.rr.Fo(t,r))})),n.push(this.Ca.updateMetadata(t,r)),Me.Un(n)},e.prototype.Jn=function(t,e){var n=this;return this.Ca.Ta(t,e).next((function(t){return null===t?(n.Fa.set(e,0),null):(n.Fa.set(e,t.size),t.Ea)}))},e.prototype.Xn=function(t,e){var n=this;return this.Ca.wa(t,e).next((function(t){var e=t.Ra;return t.ma.forEach((function(t,e){n.Fa.set(t,e)})),e}))},e}(De);var xn=function(){function t(){this.ka=new On}return t.prototype.Fo=function(t,e){return this.ka.add(e),Me.resolve()},t.prototype.wr=function(t,e){return Me.resolve(this.ka.getEntries(e))},t}(),On=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.O(),n=t.M(),r=this.index[e]||new Ft(E.N),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.O(),n=t.M(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ft(E.N)).W()},t}(),In=10,An=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;we(n<r&&n>=0&&r<=In);var o=new on(e);n<1&&r>=1&&(function(t){t.createObjectStore(Nn.store)}(t),function(t){t.createObjectStore(Rn.store,{keyPath:Rn.keyPath}),t.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Dn.store)}(t),Hn(t),function(t){t.createObjectStore(Fn.store)}(t));var s=Me.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Bn.store),t.deleteObjectStore(Un.store),t.deleteObjectStore(qn.store)}(t),Hn(t)),s=s.next((function(){return function(t){var e=t.store(qn.store),n=new qn(0,0,_.min().C(),0);return e.put(qn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Mn.store).To().next((function(n){t.deleteObjectStore(Mn.store),t.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0});var r=e.store(Mn.store),i=n.map((function(t){return r.put(t)}));return Me.Un(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore($n.store,{keyPath:$n.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Vn.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Fn.store);e.createIndex(Fn.readTimeIndex,Fn.readTimeIndexPath,{unique:!1}),e.createIndex(Fn.collectionReadTimeIndex,Fn.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Fn.store).Ro((function(t,n){e+=Sn(n)})).next((function(){var n=new Vn(e);return t.store(Vn.store).put(Vn.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Rn.store),r=t.store(Mn.store);return n.To().next((function(n){return Me.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.To(Mn.userMutationsIndex,i).next((function(r){return Me.forEach(r,(function(r){we(r.userId===n.userId);var i=e.serializer.ko(r);return dn(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Bn.store),n=t.store(Fn.store);return _n(t).next((function(t){var r=[];return n.Ro((function(n,i){var o=new E(n),s=function(t){return[0,Ye(t)]}(o);r.push(e.get(s).next((function(n){return n?Me.resolve():function(n){return e.put(new Bn(0,Ye(n),t))}(o)})))})).next((function(){return Me.Un(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(zn.store,{keyPath:zn.keyPath});var n=e.store(zn.store),r=new On,i=function(t){if(r.add(t)){var e=t.O(),i=t.M();return n.put({collectionId:e,parent:Ye(i)})}};return e.store(Fn.store).Ro({wo:!0},(function(t,e){var n=new E(t);return i(n.M())})).next((function(){return e.store(Dn.store).Ro({wo:!0},(function(t,e){var n=tn(t[1]);return i(n.M())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Un.store);return n.Ro((function(t,r){var i=e.serializer.ha(r),o=e.serializer.oa(i);return n.put(o)}))},t}(),Pn=function(t,e){this.seconds=t,this.nanoseconds=e},Nn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Nn.store="owner",Nn.key="owner";var Rn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Rn.store="mutationQueues",Rn.keyPath="userId";var Mn=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Mn.store="mutations",Mn.keyPath="batchId",Mn.userMutationsIndex="userMutationsIndex",Mn.userMutationsKeyPath=["userId","batchId"];var Dn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ye(e)]},t.key=function(t,e,n){return[t,Ye(e),n]},t}();Dn.store="documentMutations",Dn.PLACEHOLDER=new Dn;var Ln=function(t,e){this.path=t,this.readTime=e},jn=function(t,e){this.path=t,this.version=e},Fn=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Fn.store="remoteDocuments",Fn.readTimeIndex="readTimeIndex",Fn.readTimeIndexPath="readTime",Fn.collectionReadTimeIndex="collectionReadTimeIndex",Fn.collectionReadTimeIndexPath=["parentPath","readTime"];var Vn=function(t){this.byteSize=t};Vn.store="remoteDocumentGlobal",Vn.key="remoteDocumentGlobalKey";var Un=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Un.store="targets",Un.keyPath="targetId",Un.queryTargetsIndexName="queryTargetsIndex",Un.queryTargetsKeyPath=["canonicalId","targetId"];var Bn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Bn.store="targetDocuments",Bn.keyPath=["targetId","path"],Bn.documentTargetsIndex="documentTargetsIndex",Bn.documentTargetsKeyPath=["path","targetId"];var qn=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};qn.key="targetGlobalKey",qn.store="targetGlobal";var zn=function(t,e){this.collectionId=t,this.parent=e};function Hn(t){t.createObjectStore(Bn.store,{keyPath:Bn.keyPath}).createIndex(Bn.documentTargetsIndex,Bn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Un.store,{keyPath:Un.keyPath}).createIndex(Un.queryTargetsIndexName,Un.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(qn.store)}zn.store="collectionParents",zn.keyPath=["collectionId","parent"];var $n=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};$n.store="clientMetadata",$n.keyPath="clientId";var Gn=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Rn.store,Mn.store,Dn.store,Fn.store,Un.store,Nn.store,qn.store,Bn.store],[$n.store]),[Vn.store]),[zn.store]),Wn=function(){function t(){this.$a=new On}return t.prototype.Fo=function(t,e){var n=this;if(!this.$a.has(e)){var r=e.O(),i=e.M();t.er((function(){n.$a.add(e)}));var o={collectionId:r,parent:Ye(i)};return Kn(t).put(o)}return Me.resolve()},t.prototype.wr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Se(e),""],!1,!0);return Kn(t).To(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(tn(o.parent))}return n}))},t}();function Kn(t){return Zn.ho(t,zn.store)}var Qn=function(){function t(t){this.Ma=t}return t.prototype.Pa=function(t){if(t.document)return this.Ma.Ai(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=T.st(t.noDocument.path),n=this.La(t.noDocument.readTime);return new bt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var r=T.st(t.unknownDocument.path),i=this.La(t.unknownDocument.version);return new _t(r,i)}return _e()},t.prototype.Na=function(t,e){var n=this.Aa(e),r=t.key.path.M().W();if(t instanceof vt){var i=this.Ma.mi(t);return new Fn(null,null,i,t.hasCommittedMutations,n,r)}if(t instanceof bt){var o=t.key.path.W(),s=this.xa(t.version),a=t.hasCommittedMutations;return new Fn(null,new Ln(o,s),null,a,n,r)}if(t instanceof _t){var u=t.key.path.W(),c=this.xa(t.version);return new Fn(new jn(u,c),null,null,!0,n,r)}return _e()},t.prototype.Aa=function(t){var e=t.C();return[e.seconds,e.nanoseconds]},t.prototype.pa=function(t){var e=new b(t[0],t[1]);return _.v(e)},t.prototype.xa=function(t){var e=t.C();return new Pn(e.seconds,e.nanoseconds)},t.prototype.La=function(t){var e=new b(t.seconds,t.nanoseconds);return _.v(e)},t.prototype.Co=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.Ma.vi(t)})),i=e.mutations.map((function(t){return n.Ma.vi(t)}));return new Mn(t,e.batchId,e.Tn.toMillis(),r,i)},t.prototype.ko=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.Ma.Fi(t)})),r=t.mutations.map((function(t){return e.Ma.Fi(t)})),i=b.fromMillis(t.localWriteTimeMs);return new Ae(t.batchId,i,n,r)},t.prototype.ha=function(t){var e,n=this.La(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.La(t.lastLimboFreeSnapshotVersion):_.min();return e=void 0!==t.query.documents?this.Ma.Oi(t.query):this.Ma.Wi(t.query),new Pt(e,t.targetId,0,t.lastListenSequenceNumber,n,r,I.fromBase64String(t.resumeToken))},t.prototype.oa=function(t){var e,n=this.xa(t.Ee),r=this.xa(t.lastLimboFreeSnapshotVersion);e=t.target.xt()?this.Ma.xi(t.target):this.Ma.Bi(t.target);var i=t.resumeToken.toBase64();return new Un(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),Xn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Yn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).qo=e,r.Oa=n,r}return i.__extends(e,t),e}(je),Zn=function(){function t(e,n,r,i,o,s,a,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Sr=s,this.Ba=u,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!t.so())throw new f(d.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.Ao=new er(this,o),this.Ga=n+t.za,this.serializer=new Qn(a),this.document=i.document,this.Ha=new yn(this.Ao,this.serializer),this.rr=new Wn,this.ir=new En(this.serializer,this.rr),!i.window||!i.window.localStorage)throw new f(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.Ya=this.window.localStorage}return t.ho=function(t,e){if(t instanceof Yn)return en.ho(t.qo,e);throw _e()},t.prototype.start=function(){var t=this;return en.eo(this.Ga,In,new An(this.serializer)).then((function(e){return t.Ja=e,t.Xa()})).then((function(){return t.Za(),t.tu(),t.eu(),t.Ja.runTransaction("readonly",[qn.store],(function(t){return _n(t)}))})).then((function(e){t.su=new Ue(e,t.Ba)})).then((function(){t.qa=!0})).catch((function(e){return t.Ja&&t.Ja.close(),Promise.reject(e)}))},t.prototype.iu=function(t){var e=this;return this.Ka=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.Uh?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.nu=function(t){var e=this;this.Ja.oo((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ru=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Sr.Hr((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Uh?[4,this.Xa()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Xa=function(){var t=this;return this.Ja.runTransaction("readwrite",Gn,(function(e){return tr(e).put(new $n(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.hu(e).next((function(e){e||(t.isPrimary=!1,t.Sr.Hr((function(){return t.Ka(!1)})))}))})).next((function(){return t.ou(e)})).next((function(n){return t.isPrimary&&!n?t.au(e).next((function(){return!1})):!!n&&t.uu(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Sr.Hr((function(){return t.Ka(e)})),t.isPrimary=e}))},t.prototype.hu=function(t){var e=this;return Jn(t).get(Nn.key).next((function(t){return Me.resolve(e.cu(t))}))},t.prototype._u=function(t){return tr(t).delete(this.clientId)},t.prototype.lu=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.du(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var r=t.ho(n,$n.store);return r.To().next((function(t){var n=e.fu(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Me.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.Tu(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.eu=function(){var t=this;this.Wa=this.Sr.Br("client_metadata_refresh",4e3,(function(){return t.Xa().then((function(){return t.lu()})).then((function(){return t.eu()}))}))},t.prototype.cu=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.ou=function(t){var e=this;return Jn(t).get(Nn.key).next((function(n){if(null!==n&&e.du(n.leaseTimestampMs,5e3)&&!e.Eu(n.ownerId)){if(e.cu(n)&&e.networkEnabled)return!0;if(!e.cu(n)){if(!n.allowTabSynchronization)throw new f(d.FAILED_PRECONDITION,Xn);return!1}}return!(!e.networkEnabled||!e.inForeground)||tr(t).To().next((function(t){return void 0===e.fu(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&ye("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Iu=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.qa=!1,this.wu(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.Ru(),this.mu(),[4,this.Ja.runTransaction("readwrite",[Nn.store,$n.store],(function(e){return t.au(e).next((function(){return t._u(e)}))}))];case 1:return e.sent(),this.Ja.close(),this.Au(),[2]}}))}))},t.prototype.fu=function(t,e){var n=this;return t.filter((function(t){return n.du(t.updateTimeMs,e)&&!n.Eu(t.clientId)}))},t.prototype.Pu=function(){var t=this;return this.Ja.runTransaction("readonly",[$n.store],(function(e){return tr(e).To().next((function(e){return t.fu(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return t.so()?[4,en.delete(e+t.za)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"Uh",{get:function(){return this.qa},enumerable:!0,configurable:!0}),t.prototype.Vu=function(t){return ln.Vo(t,this.serializer,this.rr,this.Ao)},t.prototype.gu=function(){return this.Ha},t.prototype.pu=function(){return this.ir},t.prototype.yu=function(){return this.rr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ye("IndexedDbPersistence","Starting transaction:",t),this.Ja.runTransaction("readonly"===e?"readonly":"readwrite",Gn,(function(o){return r=new Yn(o,i.su.next()),"readwrite-primary"===e?i.hu(o).next((function(t){return!!t||i.ou(o)})).next((function(e){if(!e)throw ve("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Sr.Hr((function(){return i.Ka(!1)})),new f(d.FAILED_PRECONDITION,Le);return n(r)})).next((function(t){return i.uu(o).next((function(){return t}))})):i.bu(o).next((function(){return n(r)}))})).then((function(t){return r.sr(),t}))},t.prototype.bu=function(t){var e=this;return Jn(t).get(Nn.key).next((function(t){if(null!==t&&e.du(t.leaseTimestampMs,5e3)&&!e.Eu(t.ownerId)&&!e.cu(t)&&!t.allowTabSynchronization)throw new f(d.FAILED_PRECONDITION,Xn)}))},t.prototype.uu=function(t){var e=new Nn(this.clientId,this.allowTabSynchronization,Date.now());return Jn(t).put(Nn.key,e)},t.so=function(){return en.so()},t.vu=function(t){var e=t.ii.projectId;return t.ii.ln||(e+="."+t.ii.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.au=function(t){var e=this,n=Jn(t);return n.get(Nn.key).next((function(t){return e.cu(t)?(ye("IndexedDbPersistence","Releasing primary lease."),n.delete(Nn.key)):Me.resolve()}))},t.prototype.du=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ve("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Za=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){t.Sr.Hr((function(){return t.inForeground="visible"===t.document.visibilityState,t.Xa()}))},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ru=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},t.prototype.tu=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Ua=function(){t.wu(),t.Sr.Hr((function(){return t.Iu()}))},this.window.addEventListener("unload",this.Ua))},t.prototype.mu=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},t.prototype.Eu=function(t){try{var e=null!==this.Ya.getItem(this.Tu(t));return ye("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return ve("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wu=function(){try{this.Ya.setItem(this.Tu(this.clientId),String(Date.now()))}catch(t){ve("Failed to set zombie client id.",t)}},t.prototype.Au=function(){try{this.Ya.removeItem(this.Tu(this.clientId))}catch(t){}},t.prototype.Tu=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Jn(t){return t.store(Nn.store)}function tr(t){return t.store($n.store)}Zn.za="main";var er=function(){function t(t,e){this.db=t,this.Su=null,this.Lh=new Xe(this,e)}return t.prototype.Kh=function(t){var e=this.Du(t);return this.db.gu().aa(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Du=function(t){var e=0;return this.zh(t,(function(t){e++})).next((function(){return e}))},t.prototype.js=function(t,e){return this.db.gu().js(t,e)},t.prototype.zh=function(t,e){return this.Cu(t,(function(t,n){return e(n)}))},t.prototype.Fu=function(t){this.Su=t},t.prototype.gn=function(t,e){return nr(t,e)},t.prototype.yn=function(t,e){return nr(t,e)},t.prototype.Hh=function(t,e,n){return this.db.gu().Hh(t,e,n)},t.prototype.Qo=function(t,e){return nr(t,e)},t.prototype.Nu=function(t,e){return this.Su.Fn(e)?Me.resolve(!0):function(t,e){var n=!1;return gn(t).mo((function(r){return hn(t,r,e).next((function(t){return t&&(n=!0),Me.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Yh=function(t,e){var n=this,r=this.db.pu().ba(),i=[],o=0;return this.Cu(t,(function(s,a){if(a<=e){var u=n.Nu(t,s).next((function(e){if(!e)return o++,r.Yn(t,s).next((function(){return r.Hn(s),wn(t).delete([0,Ye(s.path)])}))}));i.push(u)}})).next((function(){return Me.Un(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Ie(t.Oa);return this.db.gu().ia(t,n)},t.prototype.ku=function(t,e){return nr(t,e)},t.prototype.Cu=function(t,e){var n,r=wn(t),i=Ue.vr;return r.Ro({index:Bn.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ue.vr&&e(new T(tn(n)),i),i=s,n=o):i=Ue.vr})).next((function(){i!==Ue.vr&&e(new T(tn(n)),i)}))},t.prototype.Xh=function(t){return this.db.pu().Da(t)},t}();function nr(t,e){return wn(t).put(function(t,e){return new Bn(0,Ye(t.path),e)}(e,t.Oa))}var rr=function(){function t(t,e,n){this.persistence=t,this.$u=e,this.Mu=new Ne,this.Lu=new Dt(ke),this.xu=new Ie((function(t){return t.canonicalId()})),this.Ou=_.min(),this.persistence.Ao.Fu(this.Mu),this.nr=t.Vu(n),this.Bu=t.pu(),this.Ha=t.gu(),this.qu=new Fe(this.Bu,this.nr,this.persistence.yu()),this.$u.Uu(this.qu)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Qu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.nr,n=this.qu,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.nr.xo(r).next((function(s){return i=s,e=o.persistence.Vu(t),n=new Fe(o.Bu,e,o.persistence.yu()),e.xo(r)})).next((function(t){for(var e=[],o=[],s=Kt(),a=0,u=i;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=t;d<f.length;d++){var p=f[d];o.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return n.cr(r,s).next((function(t){return{Wu:t,ju:e,Ku:o}}))}))}))];case 1:return r=i.sent(),[2,(this.nr=e,this.qu=n,this.$u.Uu(this.qu),r)]}}))}))},t.prototype.Gu=function(t){var e,n=this,r=b.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Kt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.qu.cr(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],l=c.Pt(e.get(c.key));null!=l&&s.push(new ut(c.key,l,pt(l.proto.mapValue),ot.exists(!0)))}return n.nr.Do(o,r,s,t)}))})).then((function(t){var n=t.In(e);return{batchId:t.batchId,Wn:n}}))},t.prototype.yo=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Bu.ba({Sa:!0});return e.nr.yo(n,t.batch,t.streamToken).next((function(){return e.zu(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.nr.Wo(n)})).next((function(){return e.qu.cr(n,r)}))}))},t.prototype.Hu=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.nr.No(n,t).next((function(t){return we(null!==t),r=t.keys(),e.nr.Bo(n,t)})).next((function(){return e.nr.Wo(n)})).next((function(){return e.qu.cr(n,r)}))}))},t.prototype.Lo=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.nr.Lo(e)}))},t.prototype.vo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.nr.vo(e)}))},t.prototype.So=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.nr.So(n,t)}))},t.prototype.Jo=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ha.Jo(e)}))},t.prototype.Yu=function(e){var n=this,r=e.Ee,i=this.Lu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.Bu.ba({Sa:!0});i=n.Lu;var a=[];e.as.forEach((function(e,s){var u=i.get(s);if(u){a.push(n.Ha._a(o,e.Is,s).next((function(){return n.Ha.ca(o,e.Ts,s)})));var c=e.resumeToken;if(c.rt()>0){var l=u.we(c,r).Ie(o.Oa);i=i.me(s,l),t.Ju(u,l,e)&&a.push(n.Ha.ia(o,l))}}}));var u=Bt(),c=Kt();if(e.cs.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.cs.forEach((function(i,c){var l=t.get(i);c instanceof bt&&c.version.isEqual(_.min())?(s.Hn(i,r),u=u.me(i,c)):null==l||c.version.S(l.version)>0||0===c.version.S(l.version)&&l.hasPendingWrites?(s.Gn(c,r),u=u.me(i,c)):ye("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),e._s.has(i)&&a.push(n.persistence.Ao.ku(o,i))}))}))),!r.isEqual(_.min())){var l=n.Ha.Jo(o).next((function(t){return n.Ha.Zo(o,o.Oa,r)}));a.push(l)}return Me.Un(a).next((function(){return s.apply(o)})).next((function(){return n.qu._r(o,u)}))})).then((function(t){return n.Lu=i,t}))},t.Ju=function(t,e,n){return we(e.resumeToken.rt()>0),0===t.resumeToken.rt()||e.Ee.D()-t.Ee.D()>=this.Xu||n.Ts.size+n.Es.size+n.Is.size>0},t.prototype.Zu=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.Mu.pn(i.Ar,o),this.Mu.vn(i.Pr,o),!i.fromCache){var s=this.Lu.get(o),a=s.Re(s.Ee);this.Lu=this.Lu.me(o,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Me.forEach(t,(function(t){return Me.forEach(t.Pr,(function(t){return e.persistence.Ao.yn(n,t)}))}))}))},t.prototype.tc=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.nr.Mo(n,t)}))},t.prototype.ec=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.qu.hr(n,t)}))},t.prototype.sc=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Ha.ua(n,t).next((function(i){return i?Me.resolve(r=i):e.Ha.zo(n).next((function(i){return r=new Pt(t,i,0,n.Oa),e.Ha.ta(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.Lu.get(n.targetId)&&(e.Lu=e.Lu.me(n.targetId,n),e.xu.set(t,n.targetId)),n}))},t.prototype.ua=function(t,e){var n=this.xu.get(e);return void 0!==n?Me.resolve(this.Lu.get(n)):this.Ha.ua(t,e)},t.prototype.ic=function(t,e){var n=this,r=this.Lu.get(t);return this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(i){var o=n.Mu.Sn(t);return e?Me.resolve():Me.forEach(o,(function(t){return n.persistence.Ao.yn(i,t)})).next((function(){n.persistence.Ao.removeTarget(i,r)}))})).then((function(){n.Lu=n.Lu.remove(t),n.xu.delete(r.target)}))},t.prototype.nc=function(t,e){var n=this,r=_.min(),i=Kt();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.ua(o,t.ee()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Ha.la(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.$u.dr(o,t,e?r:_.min(),e?i:Kt())})).next((function(t){return{documents:t,rc:i}}))}))},t.prototype.hc=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.Ha.la(n,t)}))},t.prototype.zu=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=Me.resolve();return o.forEach((function(r){s=s.next((function(){return n.Yn(t,r)})).next((function(t){var o=t,s=e.Rn.get(r);we(null!==s),(!o||o.version.S(s)<0)&&(o=i.at(r,o,e))&&n.Gn(o,e.wn)}))})),s.next((function(){return r.nr.Bo(t,i)}))},t.prototype.Qh=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Jh(n,e.Lu)}))},t}();rr.Xu=3e8;var ir=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).persistence=e,i.nr=e.Vu(r),i.Bu=e.pu(),i.Ha=e.gu(),i}return i.__extends(e,t),e.prototype.start=function(){return this.oc()},e.prototype.ac=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.nr.$o(n,t).next((function(t){return t?e.qu.cr(n,t):Me.resolve(null)}))}))},e.prototype.uc=function(t){this.nr.Uo(t)},e.prototype.ru=function(t){this.persistence.ru(t)},e.prototype.Pu=function(){return this.persistence.Pu()},e.prototype.cc=function(t){var e=this,n=this.Lu.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Ha.si(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.Va=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Bu.Va(e,t.Ou)})).then((function(e){var n=e.ga;return t.Ou=e.readTime,n}))},e.prototype.oc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Bu.ya(t)}))];case 1:return t.Ou=n.sent(),[2]}}))}))},e}(rr);function or(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==d.FAILED_PRECONDITION||t.message!==Le)throw t;return ye("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function sr(t,e){if(0!==e.length)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Cr(e.length,"argument")+".")}function ar(t,e,n){if(e.length!==n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires "+Cr(n,"argument")+", but was called with "+Cr(e.length,"argument")+".")}function ur(t,e,n){if(e.length<n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Cr(n,"argument")+", but was called with "+Cr(e.length,"argument")+".")}function cr(t,e,n,r){if(e.length<n||e.length>r)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Cr(e.length,"argument")+".")}function lr(t,e,n,r){gr(t,e,Er(n)+" argument",r)}function hr(t,e,n,r){void 0!==r&&lr(t,e,n,r)}function dr(t,e,n,r){gr(t,e,n+" option",r)}function fr(t,e,n,r){void 0!==r&&dr(t,e,n,r)}function pr(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(yr(u))}var c=yr(r);throw new f(d.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function gr(t,e,n,r){if(!("object"===e?mr(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=yr(r);throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function mr(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function yr(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":_e()}function vr(t,e,n){if(void 0===n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Er(e)+" argument, but it was undefined.")}function br(t,e,n){x(e,(function(e,r){if(n.indexOf(e)<0)throw new f(d.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function _r(t,e,n,r){var i=yr(r);return new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+Er(n)+" argument to be a "+e+", but it was: "+i)}function wr(t,e,n){if(n<=0)throw new f(d.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+Er(e)+" argument to be a positive number, but it was: "+n+".")}function Er(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Cr(t,e){return t+" "+e+(1===t?"":"s")}function kr(){if("undefined"==typeof Uint8Array)throw new f(d.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Tr(){if(!fe.nt()._c)throw new f(d.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Sr=function(){function t(t){Tr(),this.lc=t}return t.fromBase64String=function(e){ar("Blob.fromBase64String",arguments,1),lr("Blob.fromBase64String","string",1,e),Tr();try{return new t(I.fromBase64String(e))}catch(e){throw new f(d.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(ar("Blob.fromUint8Array",arguments,1),kr(),!(e instanceof Uint8Array))throw _r("Blob.fromUint8Array","Uint8Array",1,e);return new t(I.fromUint8Array(e))},t.prototype.toBase64=function(){return ar("Blob.toBase64",arguments,0),Tr(),this.lc.toBase64()},t.prototype.toUint8Array=function(){return ar("Blob.toUint8Array",arguments,0),kr(),this.lc.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.lc.isEqual(t.lc)},t}(),xr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new f(d.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Cr(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(lr("FieldPath","string",n,t[n]),0===t[n].length)throw new f(d.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.dc=new k(t)}return t.documentId=function(){return t.fc},t.prototype.isEqual=function(e){if(!(e instanceof t))throw _r("isEqual","FieldPath",1,e);return this.dc.isEqual(e.dc)},t}();xr.fc=new xr(k.J().j());var Or=new RegExp("[~\\*/\\[\\]]"),Ir=function(t){this.Tc=t},Ar=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return i.__extends(e,t),e.prototype.Di=function(t){if(2!==t.Ec)throw t.Ic(1===t.Ec?"FieldValue.delete() can only appear at the top level of your update data":"FieldValue.delete() cannot be used with set() unless you pass {merge:true}");return t.Vt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ir),Pr=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return i.__extends(e,t),e.prototype.Di=function(t){return new rt(t.path,Y.instance)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ir),Nr=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayUnion")||this).wc=e,n}return i.__extends(e,t),e.prototype.Di=function(t){var e=t.Rc({Ec:3,methodName:this.Tc}),n=this.wc.map((function(t,n){return qr(t,e.mc(n))})),r=new Z(n);return new rt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ir),Rr=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayRemove")||this).wc=e,n}return i.__extends(e,t),e.prototype.Di=function(t){var e=t.Rc({Ec:3,methodName:this.Tc}),n=this.wc.map((function(t,n){return qr(t,e.mc(n))})),r=new J(n);return new rt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ir),Mr=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.increment")||this).Ac=e,n}return i.__extends(e,t),e.prototype.Di=function(t){t.Rc({methodName:this.Tc});var e=qr(this.Ac,t),n=new tt(t.serializer,e);return new rt(t.path,n)},e.prototype.isEqual=function(t){return this===t},e}(Ir),Dr=function(){function t(t,e){if(ar("GeoPoint",arguments,2),lr("GeoPoint","number",1,t),lr("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new f(d.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new f(d.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Pc=t,this.Vc=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Pc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.Vc},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Pc===t.Pc&&this.Vc===t.Vc},t.prototype.p=function(t){return ke(this.Pc,t.Pc)||ke(this.Vc,t.Vc)},t}(),Lr=/^__.*__$/,jr=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.gc=function(t,e){var n=[];return n.push(null!==this.Vt?new ut(t,this.data,this.Vt,e):new at(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ct(t,this.fieldTransforms)),n},t}(),Fr=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.gc=function(t,e){var n=[new ut(t,this.data,this.Vt,e)];return this.fieldTransforms.length>0&&n.push(new ct(t,this.fieldTransforms)),n},t}();function Vr(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}var Ur=function(){function t(t,e,n,r,i){this.settings=t,this.ii=e,this.serializer=n,void 0===r&&this.pc(),this.fieldTransforms=r||[],this.Vt=i||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ec",{get:function(){return this.settings.Ec},enumerable:!0,configurable:!0}),t.prototype.Rc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.ii,this.serializer,this.fieldTransforms,this.Vt)},t.prototype.yc=function(t){var e=null==this.path?null:this.path.child(t),n=this.Rc({path:e,bc:!1});return n.vc(t),n},t.prototype.Sc=function(t){var e=null==this.path?null:this.path.child(t),n=this.Rc({path:e,bc:!1});return n.pc(),n},t.prototype.mc=function(t){return this.Rc({path:null,bc:!0})},t.prototype.Ic=function(t){var e=null===this.path||this.path.B()?"":" (found in field "+this.path.toString()+")";return new f(d.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.Vt.find((function(e){return t.q(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.q(e.field)}))},t.prototype.pc=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.vc(this.path.get(t))},t.prototype.vc=function(t){if(0===t.length)throw this.Ic("Document fields must not be empty");if(Vr(this.Ec)&&Lr.test(t))throw this.Ic('Document fields cannot begin and end with "__"')},t}(),Br=function(){function t(t,e){this.ii=t,this.serializer=e||fe.nt().Dc(t)}return t.prototype.Cc=function(t,e){var n=this.Fc(0,t);$r("Data must be an object, but it was:",n,e);var r=zr(e,n);return new jr(new dt(r),null,n.fieldTransforms)},t.prototype.Nc=function(t,e,n){var r=this.Fc(2,t);$r("Data must be an object, but it was:",r,e);var i,o,s=zr(e,r);if(n){for(var a=[],u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof xr)h=l.dc;else{if("string"!=typeof l)throw _e();h=Wr(t,l)}if(!r.contains(h))throw new f(d.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");Kr(a,h)||a.push(h)}i=new nt(a),o=r.fieldTransforms.filter((function(t){return i.dt(t.field)}))}else i=new nt(r.Vt),o=r.fieldTransforms;return new jr(new dt(s),i,o)},t.prototype.kc=function(t,e){var n=this.Fc(1,t);$r("Data must be an object, but it was:",n,e);var r=[],i=new ft;x(e,(function(e,o){var s=Wr(t,e),a=n.Sc(s);if(o instanceof Ar)r.push(s);else{var u=qr(o,a);null!=u&&(r.push(s),i.set(s,u))}}));var o=new nt(r);return new Fr(i.yt(),o,n.fieldTransforms)},t.prototype.$c=function(t,e,n,r){var i=this.Fc(1,t),o=[Gr(t,e)],s=[n];if(r.length%2!=0)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(Gr(t,r[a])),s.push(r[a+1]);for(var u=[],c=new ft,l=o.length-1;l>=0;--l)if(!Kr(u,o[l])){var h=o[l],p=s[l],g=i.Sc(h);if(p instanceof Ar)u.push(h);else{var m=qr(p,g);null!=m&&(u.push(h),c.set(h,m))}}var y=new nt(u);return new Fr(c.yt(),y,i.fieldTransforms)},t.prototype.Fc=function(t,e){return new Ur({Ec:t,methodName:e,path:k.G,bc:!1},this.ii,this.serializer)},t.prototype.Mc=function(t,e,n){return void 0===n&&(n=!1),qr(e,this.Fc(n?4:3,t))},t}();function qr(t,e){if(Hr(t))return $r("Unsupported field value:",e,t),zr(t,e);if(t instanceof Ir)return function(t,e){if(!Vr(e.Ec))throw e.Ic(t.Tc+"() can only be used with update() and set()");if(null===e.path)throw e.Ic(t.Tc+"() is not currently supported inside arrays");var n=t.Di(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Vt.push(e.path),t instanceof Array){if(e.settings.bc&&4!==e.Ec)throw e.Ic("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=qr(o[i],e.mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e.serializer.ai(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=b.fromDate(t);return{timestampValue:e.serializer.C(n)}}if(t instanceof b){var r=new b(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:e.serializer.C(r)}}if(t instanceof Dr)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sr)return{bytesValue:e.serializer.ui(t)};if(t instanceof Bi){var i=e.ii,o=t.firestore.Lc;if(!o.isEqual(i))throw e.Ic("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:e.serializer._i(t.xc.path,t.firestore.Lc)}}throw e.Ic("Unsupported field value: "+yr(t))}(t,e)}function zr(t,e){var n={};return O(t)?e.path&&e.path.length>0&&e.Vt.push(e.path):x(t,(function(t,r){var i=qr(r,e.yc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Hr(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof b||t instanceof Dr||t instanceof Sr||t instanceof Bi||t instanceof Ir)}function $r(t,e,n){if(!Hr(n)||!mr(n)){var r=yr(n);throw e.Ic("an object"===r?t+" a custom object":t+" "+r)}}function Gr(t,e){if(e instanceof xr)return e.dc;if("string"==typeof e)return Wr(t,e);throw new f(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Wr(t,e){try{return function(t){if(t.search(Or)>=0)throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(xr.bind.apply(xr,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).dc}catch(e){var n=(r=e)instanceof Error?r.message:r.toString();throw new f(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}var r}function Kr(t,e){return t.some((function(t){return t.isEqual(e)}))}var Qr=function(){function t(t,e,n,r,i,o){this.Sr=t,this.Oc=n,this.Bc=r,this.qc=i,this.listener=o,this.state=0,this.Uc=0,this.Qc=null,this.stream=null,this.ih=new qe(t,e)}return t.prototype.Wc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.jc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Kc()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Wc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Gc=function(){this.state=0,this.ih.reset()},t.prototype.zc=function(){var t=this;this.jc()&&null===this.Qc&&(this.Qc=this.Sr.Br(this.Oc,6e4,(function(){return t.Hc()})))},t.prototype.Yc=function(t){this.Jc(),this.stream.send(t)},t.prototype.Hc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.jc()?[2,this.close(0)]:[2]}))}))},t.prototype.Jc=function(){this.Qc&&(this.Qc.cancel(),this.Qc=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Jc(),this.ih.cancel(),this.Uc++,3!==t?this.ih.reset():e&&e.code===d.RESOURCE_EXHAUSTED?(ve(e.toString()),ve("Using maximum backoff delay to prevent overloading the backend."),this.ih.Lr()):e&&e.code===d.UNAUTHENTICATED&&this.qc._(),null!==this.stream&&(this.Xc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Zc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Xc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.t_(this.Uc),n=this.Uc;this.qc.getToken().then((function(e){t.Uc===n&&t.e_(e)}),(function(n){e((function(){var e=new f(d.UNKNOWN,"Fetching auth token failed: "+n.message);return t.s_(e)}))}))},t.prototype.e_=function(t){var e=this,n=this.t_(this.Uc);this.stream=this.i_(t),this.stream.n_((function(){n((function(){return e.state=2,e.listener.n_()}))})),this.stream.Zc((function(t){n((function(){return e.s_(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Kc=function(){var t=this;this.state=4,this.ih.xr((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.s_=function(t){return ye("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.t_=function(t){var e=this;return function(n){e.Sr.Hr((function(){return e.Uc===t?n():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Xr=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return i.__extends(e,t),e.prototype.i_=function(t){return this.Bc.r_("Listen",t)},e.prototype.onMessage=function(t){this.ih.reset();var e=this.serializer.pi(t),n=this.serializer.bi(t);return this.listener.h_(e,n)},e.prototype.o_=function(t){var e={};e.database=this.serializer.wi,e.addTarget=this.serializer.ee(t);var n=this.serializer.zi(t);n&&(e.labels=n),this.Yc(e)},e.prototype.a_=function(t){var e={};e.database=this.serializer.wi,e.removeTarget=t,this.Yc(e)},e}(Qr),Yr=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.u_=!1,s.lastStreamToken=I.ht,s}return i.__extends(e,t),Object.defineProperty(e.prototype,"c_",{get:function(){return this.u_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.u_=!1,t.prototype.start.call(this)},e.prototype.Xc=function(){this.u_&&this.__([])},e.prototype.i_=function(t){return this.Bc.r_("Write",t)},e.prototype.onMessage=function(t){if(we(!!t.streamToken),this.lastStreamToken=this.serializer.ci(t.streamToken),this.u_){this.ih.reset();var e=this.serializer.Li(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.l_(n,e)}return we(!t.writeResults||0===t.writeResults.length),this.u_=!0,this.listener.d_()},e.prototype.f_=function(){var t={};t.database=this.serializer.wi,this.Yc(t)},e.prototype.__=function(t){var e=this,n={streamToken:this.serializer.ui(this.lastStreamToken),writes:t.map((function(t){return e.serializer.vi(t)}))};this.Yc(n)},e}(Qr),Zr=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Bc=e,i.credentials=n,i.serializer=r,i}return i.__extends(e,t),e.prototype.E_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Bc.E_(t,e,r)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials._(),t}))},e.prototype.I_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Bc.I_(t,e,r)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials._(),t}))},e}((function(){this.T_=void 0})),Jr=function(){function t(t){this.w_=t,this.R_=Gt(),this.mutations=[],this.m_=!1,this.A_=null,this.P_=new Set}return t.prototype.V_=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.g_(),this.mutations.length>0)throw new f(d.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return n=Ee(t),r={database:n.serializer.wi,documents:e.map((function(t){return n.serializer.fi(t)}))},[4,n.I_("BatchGetDocuments",r)];case 1:return o=i.sent(),s=new Map,o.forEach((function(t){var e=n.serializer.gi(t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());we(!!e),a.push(e)})),a)]}}))}))}(this.w_,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof bt||t instanceof vt?n.p_(t):_e()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.gc(t,this.Rt(t))),this.P_.add(t)},t.prototype.update=function(t,e){try{this.write(e.gc(t,this.y_(t)))}catch(t){this.A_=t}this.P_.add(t)},t.prototype.delete=function(t){this.write([new lt(t,this.Rt(t))]),this.P_.add(t)},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.g_(),this.A_)throw this.A_;return t=this.R_,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new ht(t,e.Rt(t)))})),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return n=Ee(t),r={database:n.serializer.wi,writes:e.map((function(t){return n.serializer.vi(t)}))},[4,n.E_("Commit",r)];case 1:return o=i.sent(),[2,n.serializer.Li(o.writeResults,o.commitTime)]}}))}))}(this.w_,this.mutations)];case 1:return n.sent(),this.m_=!0,[2]}}))}))},t.prototype.p_=function(t){var e;if(t instanceof vt)e=t.version;else{if(!(t instanceof bt))throw _e();e=_.min()}var n=this.R_.get(t.key);if(null!==n){if(!e.isEqual(n))throw new f(d.ABORTED,"Document version changed between two reads.")}else this.R_=this.R_.me(t.key,e)},t.prototype.Rt=function(t){var e=this.R_.get(t);return!this.P_.has(t)&&e?ot.updateTime(e):ot.ft()},t.prototype.y_=function(t){var e=this.R_.get(t);if(!this.P_.has(t)&&e){if(e.isEqual(_.min()))throw new f(d.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ot.updateTime(e)}return ot.exists(!0)},t.prototype.write=function(t){this.g_(),this.mutations=this.mutations.concat(t)},t.prototype.g_=function(){},t}(),ti=function(){function t(t,e){this.qr=t,this.b_=e,this.state="Unknown",this.v_=0,this.S_=null,this.D_=!0}return t.prototype.C_=function(){var t=this;0===this.v_&&(this.F_("Unknown"),this.S_=this.qr.Br("online_state_timeout",1e4,(function(){return t.S_=null,t.N_("Backend didn't respond within 10 seconds."),t.F_("Offline"),Promise.resolve()})))},t.prototype.k_=function(t){"Online"===this.state?this.F_("Unknown"):(this.v_++,this.v_>=1&&(this.M_(),this.N_("Connection failed 1 times. Most recent error: "+t.toString()),this.F_("Offline")))},t.prototype.set=function(t){this.M_(),this.v_=0,"Online"===t&&(this.D_=!1),this.F_(t)},t.prototype.F_=function(t){t!==this.state&&(this.state=t,this.b_(t))},t.prototype.N_=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.D_?(ve(e),this.D_=!1):ye("OnlineStateTracker",e)},t.prototype.M_=function(){null!==this.S_&&(this.S_.cancel(),this.S_=null)},t}(),ei=function(){function t(t,e,n,r,o){var s=this;this.L_=t,this.w_=e,this.qr=n,this.x_=[],this.O_=new Map,this.B_=null,this.networkEnabled=!1,this.isPrimary=!1,this.q_=!1,this.U_=o,this.U_.Q_((function(t){n.Hr((function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.W_()?(ye("RemoteStore","Restarting streams for network reachability change."),[4,this.j_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.K_=new ti(n,r),this.G_=function(t,e,n){var r=Ee(t);return new Xr(e,r.Bc,r.credentials,r.serializer,n)}(this.w_,n,{n_:this.z_.bind(this),Zc:this.H_.bind(this),h_:this.Y_.bind(this)}),this.J_=function(t,e,n){var r=Ee(t);return new Yr(e,r.Bc,r.credentials,r.serializer,n)}(this.w_,n,{n_:this.X_.bind(this),Zc:this.Z_.bind(this),d_:this.tl.bind(this),l_:this.l_.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.networkEnabled=!0,this.el()},t.prototype.el=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return this.W_()?(t=this.J_,[4,this.L_.vo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.sl()?this.il():this.K_.set("Unknown"),[4,this.nl()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.rl()];case 1:return t.sent(),this.K_.set("Offline"),[2]}}))}))},t.prototype.rl=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.J_.stop()];case 1:return t.sent(),[4,this.G_.stop()];case 2:return t.sent(),this.x_.length>0&&(ye("RemoteStore","Stopping write stream with "+this.x_.length+" pending writes"),this.x_=[]),this.hl(),[2]}}))}))},t.prototype.Iu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return ye("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.rl()];case 1:return t.sent(),this.U_.Iu(),this.K_.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.O_.has(t.targetId)||(this.O_.set(t.targetId,t),this.sl()?this.il():this.G_.jc()&&this.ol(t))},t.prototype.al=function(t){this.O_.delete(t),this.G_.jc()&&this.ul(t),0===this.O_.size&&(this.G_.jc()?this.G_.zc():this.W_()&&this.K_.set("Unknown"))},t.prototype.si=function(t){return this.O_.get(t)||null},t.prototype.ei=function(t){return this.cl.ei(t)},t.prototype.ol=function(t){this.B_.Ns(t.targetId),this.G_.o_(t)},t.prototype.ul=function(t){this.B_.Ns(t),this.G_.a_(t)},t.prototype.il=function(){this.B_=new se(this),this.G_.start(),this.K_.C_()},t.prototype.sl=function(){return this.W_()&&!this.G_.Wc()&&this.O_.size>0},t.prototype.W_=function(){return!this.q_&&this.isPrimary&&this.networkEnabled},t.prototype.hl=function(){this.B_=null},t.prototype.z_=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.O_.forEach((function(e,n){t.ol(e)})),[2]}))}))},t.prototype.H_=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.hl(),this.sl()?(this.K_.k_(t),this.il()):this.K_.set("Unknown"),[2]}))}))},t.prototype.Y_=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.K_.set("Online"),!(t instanceof ie&&2===t.state&&t.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this._l(t)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),ye("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.ll(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ne?this.B_.qs(t):t instanceof re?this.B_.Hs(t):this.B_.Ws(t),e.isEqual(_.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,this.L_.Jo()];case 8:return r=i.sent(),e.S(r)>=0?[4,this.dl(e)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return ye("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this.ll(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.ll=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if("IndexedDbTransactionError"!==t.name)throw t;return this.q_=!0,[4,this.rl()];case 1:return n.sent(),this.K_.set("Offline"),this.qr.dh((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return ye("RemoteStore","Retrying IndexedDB access"),[4,this.L_.Jo()];case 1:return t.sent(),this.q_=!1,[4,this.el()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.dl=function(t){var e=this,n=this.B_.Xs(t);return n.as.forEach((function(n,r){if(n.resumeToken.rt()>0){var i=e.O_.get(r);i&&e.O_.set(r,i.we(n.resumeToken,t))}})),n.us.forEach((function(t){var n=e.O_.get(t);if(n){e.O_.set(t,n.we(I.ht,n.Ee)),e.ul(t);var r=new Pt(n.target,t,1,n.sequenceNumber);e.ol(r)}})),this.cl.Yu(n)},t.prototype._l=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:e=t.cause,n=0,r=t.targetIds,i.label=1;case 1:return n<r.length?this.O_.has(o=r[n])?[4,this.cl.fl(o,e)]:[3,3]:[3,5];case 2:i.sent(),this.O_.delete(o),this.B_.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.nl=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return this.Tl()?[4,this.L_.tc(this.x_.length>0?this.x_[this.x_.length-1].batchId:-1)]:[3,5];case 1:return null!==(t=e.sent())?[3,2]:(0===this.x_.length&&this.J_.zc(),[3,4]);case 2:return this.El(t),[4,this.nl()];case 3:e.sent(),e.label=4;case 4:e.label=5;case 5:return this.Il()&&this.wl(),[2]}}))}))},t.prototype.Tl=function(){return this.W_()&&this.x_.length<10},t.prototype.Rl=function(){return this.x_.length},t.prototype.El=function(t){this.x_.push(t),this.J_.jc()&&this.J_.c_&&this.J_.__(t.mutations)},t.prototype.Il=function(){return this.W_()&&!this.J_.Wc()&&this.x_.length>0},t.prototype.wl=function(){this.J_.start()},t.prototype.X_=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.J_.f_(),[2]}))}))},t.prototype.tl=function(){var t=this;return this.L_.So(this.J_.lastStreamToken).then((function(){for(var e=0,n=t.x_;e<n.length;e++)t.J_.__(n[e].mutations)})).catch(or)},t.prototype.l_=function(t,e){var n=this,r=this.x_.shift(),i=Pe.from(r,t,e,this.J_.lastStreamToken);return this.cl.ml(i).then((function(){return n.nl()}))},t.prototype.Z_=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t&&this.x_.length>0?this.J_.c_?[4,this.Al(t)]:[3,2]:[3,5];case 1:return e.sent(),[3,4];case 2:return[4,this.Pl(t)];case 3:e.sent(),e.label=4;case 4:this.Il()&&this.wl(),e.label=5;case 5:return[2]}}))}))},t.prototype.Pl=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return Rt(t.code)?[2,(ye("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.J_.lastStreamToken),this.J_.lastStreamToken=I.ht,this.L_.So(I.ht).catch(or))]:[2]}))}))},t.prototype.Al=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){return Rt(n=t.code)&&n!==d.ABORTED?(e=this.x_.shift(),[2,(this.J_.Gc(),this.cl.Vl(e.batchId,t).then((function(){return r.nl()})))]):[2]}))}))},t.prototype.gl=function(){return new Jr(this.w_)},t.prototype.j_=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.rl()];case 1:return t.sent(),this.K_.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.pl=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.W_()?(ye("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.j_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.yl=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:[4,this.rl()];case 3:e.sent(),this.K_.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function ni(t,e){return"firestore_clients_"+t+"_"+e}function ri(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function ii(t,e){return"firestore_targets_"+t+"_"+e}var oi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.bl=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new f(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(ve("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.vl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),si=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.bl=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new f(r.error.code,r.error.message)),i?new t(e,r.state,o):(ve("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.vl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ai=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.bl=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Xt(),s=0;i&&s<r.activeTargetIds.length;++s)i=N(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ve("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ui=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.bl=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ve("SharedClientState","Failed to parse online state: "+e),null)},t}(),ci=function(){function t(){this.activeTargetIds=Xt()}return t.prototype.Sl=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Dl=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.vl=function(){var t={activeTargetIds:this.activeTargetIds.W(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),li=function(){function t(e,n,r,i,o){if(this.Sr=e,this.platform=n,this.persistenceKey=r,this.Cl=i,this.cl=null,this.b_=null,this.gr=null,this.Fl=this.Nl.bind(this),this.kl=new Dt(ke),this.Uh=!1,this.$l=[],!t.so(this.platform))throw new f(d.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.Ml=ni(this.persistenceKey,this.Cl),this.Ll=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.kl=this.kl.me(this.Cl,new ci),this.xl=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ol=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Bl=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ql=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Fl)}return t.so=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,o,s,a,u,c,l,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.cl.Pu()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Cl&&(o=this.getItem(ni(this.persistenceKey,r)))&&(s=ai.bl(r,o))&&(this.kl=this.kl.me(s.clientId,s));for(this.Ul(),(a=this.storage.getItem(this.ql))&&(u=this.Ql(a))&&this.Wl(u),c=0,l=this.$l;c<l.length;c++)this.Nl(l[c]);return this.$l=[],this.platform.window.addEventListener("unload",(function(){return h.Iu()})),this.Uh=!0,[2]}}))}))},t.prototype.br=function(t){this.setItem(this.Ll,JSON.stringify(t))},t.prototype.jl=function(){return this.Kl(this.kl)},t.prototype.Gl=function(t){var e=!1;return this.kl.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.zl=function(t){this.Hl(t,"pending")},t.prototype.Yl=function(t,e,n){this.Hl(t,e,n),this.Jl(t)},t.prototype.Xl=function(t){var e="not-current";if(this.Gl(t)){var n=this.storage.getItem(ii(this.persistenceKey,t));if(n){var r=si.bl(t,n);r&&(e=r.state)}}return this.Zl.Sl(t),this.Ul(),e},t.prototype.td=function(t){this.Zl.Dl(t),this.Ul()},t.prototype.ed=function(t){return this.Zl.activeTargetIds.has(t)},t.prototype.sd=function(t){this.removeItem(ii(this.persistenceKey,t))},t.prototype.nd=function(t,e,n){this.rd(t,e,n)},t.prototype.Qu=function(t,e,n){var r=this;e.forEach((function(t){r.Jl(t)})),this.currentUser=t,n.forEach((function(t){r.zl(t)}))},t.prototype.hd=function(t){this.od(t)},t.prototype.Iu=function(){this.Uh&&(this.platform.window.removeEventListener("storage",this.Fl),this.removeItem(this.Ml),this.Uh=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ye("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ye("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ye("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Nl=function(t){var e=this;if(t.storageArea===this.storage){if(ye("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ml)return void ve("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sr.dh((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n,r,o,s,a;return i.__generator(this,(function(i){if(this.Uh){if(null!==t.key)if(this.xl.test(t.key)){if(null==t.newValue)return e=this.ad(t.key),[2,this.ud(e,null)];if(n=this._d(t.key,t.newValue))return[2,this.ud(n.clientId,n)]}else if(this.Ol.test(t.key)){if(null!==t.newValue&&(r=this.ld(t.key,t.newValue)))return[2,this.dd(r)]}else if(this.Bl.test(t.key)){if(null!==t.newValue&&(o=this.fd(t.key,t.newValue)))return[2,this.Td(o)]}else if(t.key===this.ql){if(null!==t.newValue&&(s=this.Ql(t.newValue)))return[2,this.Wl(s)]}else t.key===this.Ll&&(a=function(t){var e=Ue.vr;if(null!=t)try{var n=JSON.parse(t);we("number"==typeof n),e=n}catch(t){ve("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Ue.vr&&this.gr(a)}else this.$l.push(t);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Zl",{get:function(){return this.kl.get(this.Cl)},enumerable:!0,configurable:!0}),t.prototype.Ul=function(){this.setItem(this.Ml,this.Zl.vl())},t.prototype.Hl=function(t,e,n){var r=new oi(this.currentUser,t,e,n),i=ri(this.persistenceKey,this.currentUser,t);this.setItem(i,r.vl())},t.prototype.Jl=function(t){var e=ri(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.od=function(t){this.storage.setItem(this.ql,JSON.stringify({clientId:this.Cl,onlineState:t}))},t.prototype.rd=function(t,e,n){var r=ii(this.persistenceKey,t),i=new si(t,e,n);this.setItem(r,i.vl())},t.prototype.ad=function(t){var e=this.xl.exec(t);return e?e[1]:null},t.prototype._d=function(t,e){var n=this.ad(t);return ai.bl(n,e)},t.prototype.ld=function(t,e){var n=this.Ol.exec(t),r=Number(n[1]);return oi.bl(new h(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fd=function(t,e){var n=this.Bl.exec(t),r=Number(n[1]);return si.bl(r,e)},t.prototype.Ql=function(t){return ui.bl(t)},t.prototype.dd=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.cl.Ed(t.batchId,t.state,t.error)]:(ye("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Td=function(t){return this.cl.Id(t.targetId,t.state,t.error)},t.prototype.ud=function(t,e){var n=this,r=e?this.kl.me(t,e):this.kl.remove(t),i=this.Kl(this.kl),o=this.Kl(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.cl.wd(s,a).then((function(){n.kl=r}))},t.prototype.Wl=function(t){this.kl.get(t.clientId)&&this.b_(t.onlineState)},t.prototype.Kl=function(t){var e=Xt();return t.forEach((function(t,n){e=e.He(n.activeTargetIds)})),e},t}(),hi=function(){function t(){this.Rd=new ci,this.md={},this.cl=null,this.b_=null,this.gr=null}return t.prototype.zl=function(t){},t.prototype.Yl=function(t,e,n){},t.prototype.Xl=function(t){return this.Rd.Sl(t),this.md[t]||"not-current"},t.prototype.nd=function(t,e,n){this.md[t]=e},t.prototype.td=function(t){this.Rd.Dl(t)},t.prototype.ed=function(t){return this.Rd.activeTargetIds.has(t)},t.prototype.sd=function(t){delete this.md[t]},t.prototype.jl=function(){return this.Rd.activeTargetIds},t.prototype.Gl=function(t){return this.Rd.activeTargetIds.has(t)},t.prototype.start=function(){return this.Rd=new ci,Promise.resolve()},t.prototype.Qu=function(t,e,n){},t.prototype.hd=function(t){},t.prototype.Iu=function(){},t.prototype.br=function(t){},t}(),di=function(t){this.key=t},fi=function(t){this.key=t},pi=function(){function t(t,e){this.query=t,this.Ad=e,this.Pd=null,this.fs=!1,this.Vd=Kt(),this.ns=Kt(),this.gd=new Yt(t.se.bind(t))}return Object.defineProperty(t.prototype,"pd",{get:function(){return this.Ad},enumerable:!0,configurable:!0}),t.prototype.yd=function(t,e){var n=this,r=e?e.bd:new Zt,i=e?e.gd:this.gd,o=e?e.ns:this.ns,s=i,a=!1,u=this.query.oe()&&i.size===this.query.limit?i.last():null,c=this.query.ae()&&i.size===this.query.limit?i.first():null;if(t.pe((function(t,e){var l=i.get(t),h=e instanceof vt?e:null;h&&(h=n.query.matches(h)?h:null);var d=!!l&&n.ns.has(l.key),f=!!h&&(h.At||n.ns.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.vd(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.query.se(h,u)>0||c&&n.query.se(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.oe()||this.query.ae())for(;s.size>this.query.limit;){var l=this.query.oe()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{gd:s,bd:r,Sd:a,ns:o}},t.prototype.vd=function(t,e){return t.At&&e.hasCommittedMutations&&!e.At},t.prototype.Zn=function(t,e,n){var r=this,i=this.gd;this.gd=t.gd,this.ns=t.ns;var o=t.bd.es();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return n(t)-n(e)}(t.type,e.type)||r.query.se(t.doc,e.doc)})),this.Dd(n);var s=e?this.Cd():[],a=0===this.Vd.size&&this.fs?1:0,u=a!==this.Pd;return this.Pd=a,0!==o.length||u?{snapshot:new Jt(this.query,t.gd,i,o,t.ns,0===a,u,!1),Fd:s}:{Fd:s}},t.prototype.Nd=function(t){return this.fs&&"Offline"===t?(this.fs=!1,this.Zn({gd:this.gd,bd:new Zt,ns:this.ns,Sd:!1},!1)):{Fd:[]}},t.prototype.kd=function(t){return!this.Ad.has(t)&&!!this.gd.has(t)&&!this.gd.get(t).At},t.prototype.Dd=function(t){var e=this;t&&(t.Ts.forEach((function(t){return e.Ad=e.Ad.add(t)})),t.Es.forEach((function(t){})),t.Is.forEach((function(t){return e.Ad=e.Ad.delete(t)})),this.fs=t.fs)},t.prototype.Cd=function(){var t=this;if(!this.fs)return[];var e=this.Vd;this.Vd=Kt(),this.gd.forEach((function(e){t.kd(e.key)&&(t.Vd=t.Vd.add(e.key))}));var n=[];return e.forEach((function(e){t.Vd.has(e)||n.push(new fi(e))})),this.Vd.forEach((function(t){e.has(t)||n.push(new di(t))})),n},t.prototype.$d=function(t){this.Ad=t.rc,this.Vd=Kt();var e=this.yd(t.documents);return this.Zn(e,!0)},t.prototype.Md=function(){return Jt.os(this.query,this.gd,this.ns,0===this.Pd)},t}(),gi=function(){function t(t,e,n,r){this.qr=t,this.Ld=e,this.updateFunction=n,this.Wr=r,this.xd=5,this.ih=new qe(this.qr,"transaction_retry")}return t.prototype.Od=function(){this.Bd()},t.prototype.Bd=function(){var t=this;this.ih.xr((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(r){return t=this.Ld.gl(),(e=this.qd(t))&&e.then((function(e){n.qr.Hr((function(){return t.commit().then((function(){n.Wr.resolve(e)})).catch((function(t){n.Ud(t)}))}))})).catch((function(t){n.Ud(t)})),[2]}))}))}))},t.prototype.qd=function(t){try{var e=this.updateFunction(t);return!A(e)&&e.catch&&e.then?e:(this.Wr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Wr.reject(t),null}},t.prototype.Ud=function(t){var e=this;this.xd>0&&this.Qd(t)?(this.xd-=1,this.qr.Hr((function(){return e.Bd(),Promise.resolve()}))):this.Wr.reject(t)},t.prototype.Qd=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Rt(e)}return!1},t}(),mi=function(t,e,n){this.query=t,this.targetId=e,this.view=n},yi=function(t){this.key=t,this.Wd=!1},vi=function(){function t(t,e,n,r,i){this.L_=t,this.Ld=e,this.jd=n,this.currentUser=r,this.Kd=i,this.Gd=null,this.zd=new Ie((function(t){return t.canonicalId()})),this.Hd=new Map,this.Yd=[],this.Jd=new Dt(T.N),this.Xd=new Map,this.Zd=new Ne,this.tf={},this.ef=new Map,this.sf=mn.Go(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"if",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.Gd=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nf("listen()"),(n=this.zd.get(t))?(this.jd.Xl(n.targetId),e=n.view.Md(),[3,4]):[3,1];case 1:return[4,this.L_.sc(t.ee())];case 2:return r=i.sent(),o=this.jd.Xl(r.targetId),[4,this.rf(t,r.targetId,"current"===o)];case 3:e=i.sent(),this.if&&this.Ld.listen(r),i.label=4;case 4:return[2,e]}}))}))},t.prototype.rf=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.L_.nc(t,!0)];case 1:return r=i.sent(),o=new pi(t,r.rc),s=o.yd(r.documents),a=ee.ds(e,n&&"Offline"!==this.onlineState),u=o.Zn(s,this.if,a),this.hf(e,u.Fd),c=new mi(t,e,o),[2,(this.zd.set(t,c),this.Hd.has(e)?this.Hd.get(e).push(t):this.Hd.set(e,[t]),u.snapshot)]}}))}))},t.prototype.al=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nf("unlisten()"),e=this.zd.get(t),(n=this.Hd.get(e.targetId)).length>1?[2,(this.Hd.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.zd.delete(t))]:this.if?(this.jd.td(e.targetId),this.jd.Gl(e.targetId)?[3,2]:[4,this.L_.ic(e.targetId,!1).then((function(){r.jd.sd(e.targetId),r.Ld.al(e.targetId),r.af(e.targetId)})).catch(or)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.af(e.targetId),[4,this.L_.ic(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:this.nf("write()"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.L_.Gu(t)];case 2:return n=i.sent(),[3,4];case 3:if("IndexedDbTransactionError"===(r=i.sent()).name)return[2,(ve("SyncEngine","Dropping write that cannot be persisted: "+r),void e.reject(new f(d.UNAVAILABLE,"Failed to persist write: "+r)))];throw r;case 4:return this.jd.zl(n.batchId),this.uf(n.batchId,e),[4,this.cf(n.Wn)];case 5:return i.sent(),[4,this.Ld.nl()];case 6:return i.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new gi(t,this.Ld,e,n).Od()},t.prototype.Yu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.nf("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.L_.Yu(t)];case 2:return e=r.sent(),t.as.forEach((function(t,e){var r=n.Xd.get(e);r&&(we(t.Ts.size+t.Es.size+t.Is.size<=1),t.Ts.size>0?r.Wd=!0:t.Es.size>0?we(r.Wd):t.Is.size>0&&(we(r.Wd),r.Wd=!1))})),[4,this.cf(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,or(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Nd=function(t,e){this.nf("applyOnlineStateChange()");var n=[];this.zd.forEach((function(e,r){var i=r.view.Nd(t);i.snapshot&&n.push(i.snapshot)})),this.Gd._f(t),this.Gd.h_(n),this.onlineState=t},t.prototype.fl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nf("rejectListens()"),this.jd.nd(t,"rejected",e),n=this.Xd.get(t),(r=n&&n.key)?(this.Jd=this.Jd.remove(r),this.Xd.delete(t),this.lf(),o=(o=new Dt(T.N)).me(r,new bt(r,_.min())),s=Kt().add(r),a=new te(_.min(),new Map,new Ft(ke),o,s),[2,this.Yu(a)]):[4,this.L_.ic(t,!1).then((function(){return u.af(t,e)})).catch(or)];case 1:return i.sent(),[2]}}))}))},t.prototype.ml=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.nf("applySuccessfulWrite()"),this.df(e=t.batch.batchId,null),this.ff(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.L_.yo(t)];case 2:return n=r.sent(),this.jd.Yl(e,"acknowledged"),[4,this.cf(n)];case 3:return r.sent(),[3,6];case 4:return[4,or(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Vl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.nf("rejectFailedWrite()"),this.df(t,e),this.ff(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.L_.Hu(t)];case 2:return n=r.sent(),this.jd.Yl(t,"rejected",e),[4,this.cf(n)];case 3:return r.sent(),[3,6];case 4:return[4,or(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Tf=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Ld.W_()||ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.L_.Lo()];case 1:return-1===(e=r.sent())?[2,void t.resolve()]:((n=this.ef.get(e)||[]).push(t),this.ef.set(e,n),[2])}}))}))},t.prototype.ff=function(t){(this.ef.get(t)||[]).forEach((function(t){t.resolve()})),this.ef.delete(t)},t.prototype.Ef=function(t){this.ef.forEach((function(e){e.forEach((function(e){e.reject(new f(d.CANCELLED,t))}))})),this.ef.clear()},t.prototype.uf=function(t,e){var n=this.tf[this.currentUser.s()];n||(n=new Dt(ke)),n=n.me(t,e),this.tf[this.currentUser.s()]=n},t.prototype.df=function(t,e){var n=this.tf[this.currentUser.s()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.tf[this.currentUser.s()]=n}},t.prototype.af=function(t,e){var n=this;void 0===e&&(e=null),this.jd.td(t);for(var r=0,i=this.Hd.get(t);r<i.length;r++){var o=i[r];this.zd.delete(o),e&&this.Gd.If(o,e)}if(this.Hd.delete(t),this.if){var s=this.Zd.Cn(t);this.Zd.Sn(t),s.forEach((function(t){n.Zd.Fn(t)||n.wf(t)}))}},t.prototype.wf=function(t){var e=this.Jd.get(t);null!==e&&(this.Ld.al(e),this.Jd=this.Jd.remove(t),this.Xd.delete(e),this.lf())},t.prototype.hf=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof di?(this.Zd.gn(i.key,t),this.Rf(i)):i instanceof fi?(ye("SyncEngine","Document no longer in limbo: "+i.key),this.Zd.yn(i.key,t),this.Zd.Fn(i.key)||this.wf(i.key)):_e()}},t.prototype.Rf=function(t){var e=t.key;this.Jd.get(e)||(ye("SyncEngine","New document in limbo: "+e),this.Yd.push(e),this.lf())},t.prototype.lf=function(){for(;this.Yd.length>0&&this.Jd.size<this.Kd;){var t=this.Yd.shift(),e=this.sf.next();this.Xd.set(e,new yi(t)),this.Jd=this.Jd.me(t,e),this.Ld.listen(new Pt(Et.Wt(t.path).ee(),e,2,Ue.vr))}},t.prototype.mf=function(){return this.Jd},t.prototype.Af=function(){return this.Yd},t.prototype.cf=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.zd.forEach((function(i,a){o.push(Promise.resolve().then((function(){var e=a.view.yd(t);return e.Sd?s.L_.nc(a.query,!1).then((function(t){return a.view.yd(t.documents,e)})):e})).then((function(t){var i=e&&e.as.get(a.targetId),o=a.view.Zn(t,s.if,i);if(s.hf(a.targetId,o.Fd),o.snapshot){s.if&&s.jd.nd(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=Ve.Vr(a.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.Gd.h_(n),[4,this.L_.Zu(r)];case 2:return i.sent(),[2]}}))}))},t.prototype.nf=function(t){},t.prototype.pl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.Ef("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.L_.Qu(t)]):[3,3];case 1:return n=r.sent(),this.jd.Qu(t,n.ju,n.Ku),[4,this.cf(n.Wu)];case 2:r.sent(),r.label=3;case 3:return[4,this.Ld.pl()];case 4:return r.sent(),[2]}}))}))},t.prototype.enableNetwork=function(){return this.Ld.enableNetwork()},t.prototype.disableNetwork=function(){return this.Ld.disableNetwork()},t.prototype.ei=function(t){var e=this.Xd.get(t);if(e&&e.Wd)return Kt().add(e.key);var n=Kt(),r=this.Hd.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=this.zd.get(o[i]);n=n.He(s.view.pd)}return n},t}(),bi=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,n,r,i,o)||this).L_=e,s.isPrimary=void 0,s}return i.__extends(e,t),Object.defineProperty(e.prototype,"if",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.enableNetwork=function(){return this.L_.ru(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.L_.ru(!1),t.prototype.disableNetwork.call(this)},e.prototype.Pf=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.L_.nc(t.query,!0)];case 1:return e=r.sent(),n=t.view.$d(e),[2,(this.isPrimary&&this.hf(t.targetId,n.Fd),n)]}}))}))},e.prototype.Nd=function(e,n){this.if&&0===n&&(t.prototype.Nd.call(this,e,n),this.jd.hd(e)),this.if||1!==n||t.prototype.Nd.call(this,e,n)},e.prototype.Ed=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nf("applyBatchState()"),[4,this.L_.ac(t)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.Ld.nl()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.df(t,n||null),this.L_.uc(t)):_e(),i.label=4;case 4:return[4,this.cf(r)];case 5:return i.sent(),[3,7];case 6:ye("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))},e.prototype.yl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Ld.yl(!0)]);case 1:return i.sent(),e=this.jd.jl(),[4,this.Vf(e.W())];case 2:for(n=i.sent(),r=0,o=n;r<o.length;r++)this.Ld.listen(o[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],a=Promise.resolve(),this.Hd.forEach((function(t,e){u.jd.ed(e)?s.push(e):a=a.then((function(){return u.af(e),u.L_.ic(e,!0)})),u.Ld.al(e)})),[4,a]);case 4:return i.sent(),[4,this.Vf(s)];case 5:return i.sent(),this.gf(),[4,this.Ld.yl(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))},e.prototype.gf=function(){var t=this;this.Xd.forEach((function(e,n){t.Ld.al(n)})),this.Zd.Dn(),this.Xd=new Map,this.Jd=new Dt(T.N)},e.prototype.Vf=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a,u,c,l,h,d,f;return i.__generator(this,(function(i){switch(i.label){case 0:e=[],n=[],r=0,o=t,i.label=1;case 1:return r<o.length?(a=void 0,(u=this.Hd.get(s=o[r]))&&0!==u.length?[4,this.L_.ic(s,!0)]:[3,8]):[3,14];case 2:return i.sent(),[4,this.L_.sc(u[0].ee())];case 3:a=i.sent(),c=0,l=u,i.label=4;case 4:return c<l.length?(h=this.zd.get(l[c]),[4,this.Pf(h)]):[3,7];case 5:(d=i.sent()).snapshot&&n.push(d.snapshot),i.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return[4,this.L_.cc(s)];case 9:return f=i.sent(),[4,this.L_.sc(f)];case 10:return a=i.sent(),[4,this.rf(this.pf(f),s,!1)];case 11:i.sent(),i.label=12;case 12:e.push(a),i.label=13;case 13:return r++,[3,1];case 14:return[2,(this.Gd.h_(n),e)]}}))}))},e.prototype.pf=function(t){return new Et(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.Pu=function(){return this.L_.Pu()},e.prototype.Id=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.isPrimary?(ye("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.Hd.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.L_.Va()];case 3:return r=i.sent(),o=te.ls(t,"current"===e),[4,this.cf(r,o)];case 4:return i.sent(),[3,8];case 5:return[4,this.L_.ic(t,!0)];case 6:return i.sent(),this.af(t,n),[3,8];case 7:_e(),i.label=8;case 8:return[2]}}))}))},e.prototype.wd=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,h,d=this;return i.__generator(this,(function(f){switch(f.label){case 0:if(!this.isPrimary)return[3,10];n=0,r=t,f.label=1;case 1:return n<r.length?this.Hd.has(o=r[n])?(ye("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.L_.cc(o)]:[3,6];case 2:return s=f.sent(),[4,this.L_.sc(s)];case 3:return a=f.sent(),[4,this.rf(this.pf(s),a.targetId,!1)];case 4:f.sent(),this.Ld.listen(a),f.label=5;case 5:return n++,[3,1];case 6:u=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return c.Hd.has(t)?[4,c.L_.ic(t,!1).then((function(){d.Ld.al(t),d.af(t)})).catch(or)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=this,l=0,h=e,f.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))},e}(vi),_i=function(){this.yf=void 0,this.bf=[]},wi=function(){function t(t){this.cl=t,this.vf=new Ie((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.Sf=new Set,this.cl.subscribe(this)}return t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.vf.get(e=t.query))||(n=!0,r=new _i),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.cl.listen(e)];case 2:return o.yf=i.sent(),[3,4];case 3:if(s=i.sent(),ve("EventManager",a="Initialization of query '"+e+"' failed: "+s),"IndexedDbTransactionError"!==s.name)throw s;return[2,void t.onError(new f(d.UNAVAILABLE,a))];case 4:return this.vf.set(e,r),r.bf.push(t),t.Nd(this.onlineState),r.yf&&t.Df(r.yf)&&this.Cf(),[2]}}))}))},t.prototype.al=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.vf.get(e=t.query))&&(o=r.bf.indexOf(t))>=0&&(r.bf.splice(o,1),n=0===r.bf.length),n?[2,(this.vf.delete(e),this.cl.al(e))]:[2]}))}))},t.prototype.h_=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.vf.get(i.query);if(o){for(var s=0,a=o.bf;s<a.length;s++)a[s].Df(i)&&(e=!0);o.yf=i}}e&&this.Cf()},t.prototype.If=function(t,e){var n=this.vf.get(t);if(n)for(var r=0,i=n.bf;r<i.length;r++)i[r].onError(e);this.vf.delete(t)},t.prototype._f=function(t){this.onlineState=t;var e=!1;this.vf.forEach((function(n,r){for(var i=0,o=r.bf;i<o.length;i++)o[i].Nd(t)&&(e=!0)})),e&&this.Cf()},t.prototype.Ff=function(t){this.Sf.add(t),t.next()},t.prototype.Nf=function(t){this.Sf.delete(t)},t.prototype.Cf=function(){this.Sf.forEach((function(t){t.next()}))},t}(),Ei=function(){function t(t,e,n){this.query=t,this.kf=e,this.$f=!1,this.Mf=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Df=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Jt(t.query,t.docs,t.ss,e,t.ns,t.fromCache,t.rs,!0)}var o=!1;return this.$f?this.Lf(t)&&(this.kf.next(t),o=!0):this.xf(t,this.onlineState)&&(this.Of(t),o=!0),this.Mf=t,o},t.prototype.onError=function(t){this.kf.error(t)},t.prototype.Nd=function(t){this.onlineState=t;var e=!1;return this.Mf&&!this.$f&&this.xf(this.Mf,t)&&(this.Of(this.Mf),e=!0),e},t.prototype.xf=function(t,e){return!t.fromCache||!(this.options.Bf&&"Offline"!==e||t.docs.B()&&"Offline"!==e)},t.prototype.Lf=function(t){return t.docChanges.length>0||!!(t.rs||this.Mf&&this.Mf.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Of=function(t){t=Jt.os(t.query,t.docs,t.ns,t.fromCache),this.$f=!0,this.kf.next(t)},t}(),Ci=function(){function t(){}return t.prototype.Uu=function(t){this.qf=t},t.prototype.dr=function(t,e,n,r){var i=this;return e.te()||n.isEqual(_.min())?this.Uf(t,e):this.qf.cr(t,r).next((function(o){var a=i.Qf(e,o);return(e.oe()||e.ae())&&i.Sd(e.Bt,a,r,n)?i.Uf(t,e):(ge()<=s.LogLevel.DEBUG&&ye("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.qf.dr(t,e,n).next((function(t){return a.forEach((function(e){t=t.me(e.key,e)})),t})))}))},t.prototype.Qf=function(t,e){var n=new Ft((function(e,n){return t.se(e,n)}));return e.forEach((function(e,r){r instanceof vt&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.Sd=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.S(r)>0)},t.prototype.Uf=function(t,e){return ge()<=s.LogLevel.DEBUG&&ye("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.qf.dr(t,e,_.min())},t}(),ki=function(){function t(t,e){this.rr=t,this.Ao=e,this.nr=[],this.Wf=1,this.lastStreamToken=I.ht,this.jf=new Ft(Re.An)}return t.prototype.po=function(t){return Me.resolve(0===this.nr.length)},t.prototype.yo=function(t,e,n){return we(0===this.Kf(e.batchId,"acknowledged")),this.lastStreamToken=n,Me.resolve()},t.prototype.vo=function(t){return Me.resolve(this.lastStreamToken)},t.prototype.So=function(t,e){return this.lastStreamToken=e,Me.resolve()},t.prototype.Do=function(t,e,n,r){var i=this.Wf;this.Wf++;var o=new Ae(i,e,n,r);this.nr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.jf=this.jf.add(new Re(u.key,i)),this.rr.Fo(t,u.key.path.M())}return Me.resolve(o)},t.prototype.No=function(t,e){return Me.resolve(this.Gf(e))},t.prototype.Mo=function(t,e){var n=this.zf(e+1),r=n<0?0:n;return Me.resolve(this.nr.length>r?this.nr[r]:null)},t.prototype.Lo=function(){return Me.resolve(0===this.nr.length?-1:this.Wf-1)},t.prototype.xo=function(t){return Me.resolve(this.nr.slice())},t.prototype.or=function(t,e){var n=this,r=new Re(e,0),i=new Re(e,Number.POSITIVE_INFINITY),o=[];return this.jf.Ke([r,i],(function(t){var e=n.Gf(t.Nn);o.push(e)})),Me.resolve(o)},t.prototype.lr=function(t,e){var n=this,r=new Ft(ke);return e.forEach((function(t){var e=new Re(t,0),i=new Re(t,Number.POSITIVE_INFINITY);n.jf.Ke([e,i],(function(t){r=r.add(t.Nn)}))})),Me.resolve(this.Hf(r))},t.prototype.Rr=function(t,e){var n=e.path,r=n.length+1,i=n;T.et(i)||(i=i.child(""));var o=new Re(new T(i),0),s=new Ft(ke);return this.jf.Ge((function(t){var e=t.key.path;return!!n.q(e)&&(e.length===r&&(s=s.add(t.Nn)),!0)}),o),Me.resolve(this.Hf(s))},t.prototype.Hf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Gf(t);null!==r&&n.push(r)})),n},t.prototype.Bo=function(t,e){var n=this;we(0===this.Kf(e.batchId,"removed")),this.nr.shift();var r=this.jf;return Me.forEach(e.mutations,(function(i){var o=new Re(i.key,e.batchId);return r=r.delete(o),n.Ao.Qo(t,i.key)})).next((function(){n.jf=r}))},t.prototype.Uo=function(t){},t.prototype.Fn=function(t,e){var n=new Re(e,0),r=this.jf.ze(n);return Me.resolve(e.isEqual(r&&r.key))},t.prototype.Wo=function(t){return Me.resolve()},t.prototype.Kf=function(t,e){return this.zf(t)},t.prototype.zf=function(t){return 0===this.nr.length?0:t-this.nr[0].batchId},t.prototype.Gf=function(t){var e=this.zf(t);return e<0||e>=this.nr.length?null:this.nr[e]},t}(),Ti=function(){function t(t,e){this.rr=t,this.Yf=e,this.docs=new Dt(T.N),this.size=0}return t.prototype.Gn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Yf(e);return this.docs=this.docs.me(r,{Ea:e,size:s,readTime:n}),this.size+=s-o,this.rr.Fo(t,r.path.M())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Yn=function(t,e){var n=this.docs.get(e);return Me.resolve(n?n.Ea:null)},t.prototype.getEntries=function(t,e){var n=this,r=qt();return e.forEach((function(t){var e=n.docs.get(t);r=r.me(t,e?e.Ea:null)})),Me.resolve(r)},t.prototype.dr=function(t,e,n){for(var r=Ht(),i=new T(e.path.child("")),o=this.docs.ve(i);o.ke();){var s=o.Ne(),a=s.value,u=a.Ea,c=a.readTime;if(!e.path.q(s.key.path))break;c.S(n)<=0||u instanceof vt&&e.matches(u)&&(r=r.me(u.key,u))}return Me.resolve(r)},t.prototype.Jf=function(t,e){return Me.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ba=function(e){return new t.va(this)},t.prototype.Da=function(t){return Me.resolve(this.size)},t}();Ti.va=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ca=e,n}return i.__extends(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Wn.forEach((function(r,i){i?n.push(e.Ca.Gn(t,i,e.readTime)):e.Ca.Hn(r)})),Me.Un(n)},e.prototype.Jn=function(t,e){return this.Ca.Yn(t,e)},e.prototype.Xn=function(t,e){return this.Ca.getEntries(t,e)},e}(De);var Si=function(){function t(t){this.persistence=t,this.Xf=new Ie((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=_.min(),this.highestTargetId=0,this.Zf=0,this.tT=new Ne,this.targetCount=0,this.eT=mn.Ko()}return t.prototype.js=function(t,e){return this.Xf.forEach((function(t,n){return e(n)})),Me.resolve()},t.prototype.Jo=function(t){return Me.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Xo=function(t){return Me.resolve(this.Zf)},t.prototype.zo=function(t){return this.highestTargetId=this.eT.next(),Me.resolve(this.highestTargetId)},t.prototype.Zo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Zf&&(this.Zf=e),Me.resolve()},t.prototype.ea=function(t){this.Xf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.eT=new mn(e),this.highestTargetId=e),t.sequenceNumber>this.Zf&&(this.Zf=t.sequenceNumber)},t.prototype.ta=function(t,e){return this.ea(e),this.targetCount+=1,Me.resolve()},t.prototype.ia=function(t,e){return this.ea(e),Me.resolve()},t.prototype.na=function(t,e){return this.Xf.delete(e.target),this.tT.Sn(e.targetId),this.targetCount-=1,Me.resolve()},t.prototype.Hh=function(t,e,n){var r=this,i=0,o=[];return this.Xf.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Xf.delete(s),o.push(r.ra(t,a.targetId)),i++)})),Me.Un(o).next((function(){return i}))},t.prototype.aa=function(t){return Me.resolve(this.targetCount)},t.prototype.ua=function(t,e){var n=this.Xf.get(e)||null;return Me.resolve(n)},t.prototype.ca=function(t,e,n){this.tT.pn(e,n);var r=this.persistence.Ao,i=[];return r&&e.forEach((function(e){i.push(r.gn(t,e))})),Me.Un(i)},t.prototype._a=function(t,e,n){this.tT.vn(e,n);var r=this.persistence.Ao,i=[];return r&&e.forEach((function(e){i.push(r.yn(t,e))})),Me.Un(i)},t.prototype.ra=function(t,e){return this.tT.Sn(e),Me.resolve()},t.prototype.la=function(t,e){var n=this.tT.Cn(e);return Me.resolve(n)},t.prototype.Fn=function(t,e){return Me.resolve(this.tT.Fn(e))},t}(),xi=function(){function t(t){var e=this;this.sT={},this.su=new Ue(0),this.qa=!1,this.qa=!0,this.Ao=t(this),this.Ha=new Si(this),this.rr=new xn,this.ir=new Ti(this.rr,(function(t){return e.Ao.iT(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Iu=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Uh",{get:function(){return this.qa},enumerable:!0,configurable:!0}),t.prototype.nu=function(){},t.prototype.yu=function(){return this.rr},t.prototype.Vu=function(t){var e=this.sT[t.s()];return e||(e=new ki(this.rr,this.Ao),this.sT[t.s()]=e),e},t.prototype.gu=function(){return this.Ha},t.prototype.pu=function(){return this.ir},t.prototype.runTransaction=function(t,e,n){var r=this;ye("MemoryPersistence","Starting transaction:",t);var i=new Oi(this.su.next());return this.Ao.nT(),n(i).next((function(t){return r.Ao.rT(i).next((function(){return t}))})).Bn().then((function(t){return i.sr(),t}))},t.prototype.hT=function(t,e){return Me.Qn(Object.values(this.sT).map((function(n){return function(){return n.Fn(t,e)}})))},t}(),Oi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Oa=e,n}return i.__extends(e,t),e}(je),Ii=function(){function t(t){this.persistence=t,this.Su=null,this.oT=null}return t.aT=function(e){return new t(e)},Object.defineProperty(t.prototype,"uT",{get:function(){if(this.oT)return this.oT;throw _e()},enumerable:!0,configurable:!0}),t.prototype.Fu=function(t){this.Su=t},t.prototype.gn=function(t,e){return this.uT.delete(e),Me.resolve()},t.prototype.yn=function(t,e){return this.uT.add(e),Me.resolve()},t.prototype.Qo=function(t,e){return this.uT.add(e),Me.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.gu();return r.la(t,e.targetId).next((function(t){t.forEach((function(t){return n.uT.add(t)}))})).next((function(){return r.na(t,e)}))},t.prototype.nT=function(){this.oT=new Set},t.prototype.rT=function(t){var e=this,n=this.persistence.pu().ba();return Me.forEach(this.uT,(function(r){return e.cT(t,r).next((function(t){t||n.Hn(r)}))})).next((function(){return e.oT=null,n.apply(t)}))},t.prototype.ku=function(t,e){var n=this;return this.cT(t,e).next((function(t){t?n.uT.delete(e):n.uT.add(e)}))},t.prototype.iT=function(t){return 0},t.prototype.cT=function(t,e){var n=this;return Me.Qn([function(){return n.persistence.gu().Fn(t,e)},function(){return n.persistence.hT(t,e)},function(){return Me.resolve(n.Su.Fn(e))}])},t}(),Ai=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.jd=this._T(t),this.persistence=this.lT(t),[4,this.persistence.start()];case 1:return n.sent(),this.dT=this.fT(t),this.L_=this.TT(t),this.Ld=this.ET(t),this.cl=this.IT(t),this.wT=this.RT(t),this.jd.b_=function(t){return e.cl.Nd(t,1)},this.Ld.cl=this.cl,[4,this.L_.start()];case 2:return n.sent(),[4,this.jd.start()];case 3:return n.sent(),[4,this.Ld.start()];case 4:return n.sent(),[4,this.Ld.yl(this.cl.if)];case 5:return n.sent(),[2]}}))}))},t.prototype.RT=function(t){return new wi(this.cl)},t.prototype.fT=function(t){return null},t.prototype.TT=function(t){return new rr(this.persistence,new Ci,t.mT)},t.prototype.lT=function(t){return new xi(Ii.aT)},t.prototype.ET=function(t){var e=this;return new ei(this.L_,t.w_,t.qr,(function(t){return e.cl.Nd(t,0)}),t.platform.AT())},t.prototype._T=function(t){return new hi},t.prototype.IT=function(t){return new vi(this.L_,this.Ld,this.jd,t.mT,t.Kd)},t.prototype.clearPersistence=function(t){throw new f(d.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},t}(),Pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,this.persistence.iu((function(t){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.cl.yl(t)];case 1:return e.sent(),this.dT&&(t&&!this.dT.Uh?this.dT.start(this.L_):t||this.dT.stop()),[2]}}))}))}))];case 2:return r.sent(),[2]}}))}))},e.prototype.TT=function(t){return new ir(this.persistence,new Ci,t.mT)},e.prototype.IT=function(t){var e=new bi(this.L_,this.Ld,this.jd,t.mT,t.Kd);return this.jd instanceof li&&(this.jd.cl=e),e},e.prototype.fT=function(t){return new Qe(this.persistence.Ao.Lh,t.qr)},e.prototype.lT=function(t){var e=Zn.vu(t.PT),n=t.platform.Dc(t.PT.ii);return new Zn(t.VT.synchronizeTabs,e,t.clientId,t.platform,Ke.Dh(t.VT.cacheSizeBytes),t.qr,n,this.jd)},e.prototype._T=function(t){if(t.VT.gT&&t.VT.synchronizeTabs){if(!li.so(t.platform))throw new f(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=Zn.vu(t.PT);return new li(t.qr,t.platform,e,t.clientId,t.mT)}return new hi},e.prototype.clearPersistence=function(t){var e=Zn.vu(t);return Zn.clearPersistence(e)},e}(Ai),Ni=function(){function t(t,e,n,r){this.platform=t,this.PT=e,this.credentials=n,this.qr=r,this.clientId=Ce.cn()}return t.prototype.start=function(t,e){var n=this;this.pT();var r=new Be,i=new Be,o=!1;return this.credentials.l((function(s){if(!o)return o=!0,ye("FirestoreClient","Initializing. user=",s.uid),n.yT(t,e,s,i).then(r.resolve,r.reject);n.qr.Hr((function(){return n.pl(s)}))})),this.qr.Hr((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.pT(),this.qr.enqueue((function(){return t.cl.enableNetwork()}))},t.prototype.yT=function(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c=this;return i.__generator(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,this.platform.bT(this.PT)];case 1:return o=l.sent(),s=this.platform.Dc(this.PT.ii),a=function(t,e,n){return new Zr(t,e,n)}(o,this.credentials,s),[4,t.initialize({qr:this.qr,PT:this.PT,platform:this.platform,w_:a,clientId:this.clientId,mT:n,Kd:100,VT:e})];case 2:return l.sent(),this.persistence=t.persistence,this.jd=t.jd,this.L_=t.L_,this.Ld=t.Ld,this.cl=t.cl,this.dT=t.dT,this.vT=t.wT,this.persistence.nu((function(){return i.__awaiter(c,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(u=l.sent(),r.reject(u),!this.ST(u))throw u;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),this.yT(new Ai,{gT:!1},n,r))];case 4:return[2]}}))}))},t.prototype.ST=function(t){return"FirebaseError"===t.name?t.code===d.FAILED_PRECONDITION||t.code===d.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.pT=function(){if(this.qr.hh)throw new f(d.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.pl=function(t){return this.qr.Th(),ye("FirestoreClient","Credential Changed. Current user: "+t.uid),this.cl.pl(t)},t.prototype.disableNetwork=function(){var t=this;return this.pT(),this.qr.enqueue((function(){return t.cl.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.qr.lh((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.dT&&this.dT.stop(),[4,this.Ld.Iu()];case 1:return t.sent(),[4,this.jd.Iu()];case 2:return t.sent(),[4,this.persistence.Iu()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.pT();var e=new Be;return this.qr.Hr((function(){return t.cl.Tf(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.pT();var i=new Ei(t,e,n);return this.qr.Hr((function(){return r.vT.listen(i)})),i},t.prototype.al=function(t){var e=this;this.DT||this.qr.Hr((function(){return e.vT.al(t)}))},t.prototype.CT=function(t){var e=this;return this.pT(),this.qr.enqueue((function(){return e.L_.ec(t)})).then((function(t){if(t instanceof vt)return t;if(t instanceof bt)return null;throw new f(d.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.FT=function(t){var e=this;return this.pT(),this.qr.enqueue((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.L_.nc(t,!0)];case 1:return e=i.sent(),n=new pi(t,e.rc),r=n.yd(e.documents),[2,n.Zn(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.pT();var n=new Be;return this.qr.Hr((function(){return e.cl.write(t,n)})),n.promise},t.prototype.ii=function(){return this.PT.ii},t.prototype.Ff=function(t){var e=this;this.pT(),this.qr.Hr((function(){return e.vT.Ff(t),Promise.resolve()}))},t.prototype.Nf=function(t){this.DT||this.vT.Nf(t)},Object.defineProperty(t.prototype,"DT",{get:function(){return this.qr.hh},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.pT();var n=new Be;return this.qr.Hr((function(){return e.cl.runTransaction(e.qr,t,n),Promise.resolve()})),n.promise},t}(),Ri=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.NT(this.observer.next,t)},t.prototype.error=function(t){this.NT(this.observer.error,t)},t.prototype.kT=function(){this.muted=!0},t.prototype.NT=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Mi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Di=function(){function t(t,e,n,r){this.firestore=t,this.timestampsInSnapshots=e,this.$T=n,this.converter=r}return t.prototype.MT=function(t){switch(L(t)){case 0:return null;case 1:return t.booleanValue;case 2:return z(t.integerValue||t.doubleValue);case 3:return this.LT(t.timestampValue);case 4:return this.xT(t);case 5:return t.stringValue;case 6:return new Sr(H(t.bytesValue));case 7:return this.OT(t.referenceValue);case 8:return this.BT(t.geoPointValue);case 9:return this.qT(t.arrayValue);case 10:return this.UT(t.mapValue);default:throw _e()}},t.prototype.UT=function(t){var e=this,n={};return x(t.fields||{},(function(t,r){n[t]=e.MT(r)})),n},t.prototype.BT=function(t){return new Dr(z(t.latitude),z(t.longitude))},t.prototype.qT=function(t){var e=this;return(t.values||[]).map((function(t){return e.MT(t)}))},t.prototype.xT=function(t){switch(this.$T){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return R(n)?t(n):n}(t);return null==e?null:this.MT(e);case"estimate":return this.LT(M(t));default:return null}},t.prototype.LT=function(t){var e=q(t),n=new b(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.OT=function(t){var e=E.K(t);we(de(e));var n=new Oe(e.get(1),e.get(3)),r=new T(e.$(5));return n.isEqual(this.firestore.Lc)||ve("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.Lc.projectId+"/"+this.firestore.Lc.database+") instead."),new Bi(r,this.firestore,this.converter)},t}(),Li=Ke.Nh,ji=function(){function t(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new f(d.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else dr("settings","non-empty string","host",t.host),this.host=t.host,fr("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(br("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),fr("settings","object","credentials",t.credentials),this.credentials=t.credentials,fr("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?ve("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&ve("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,fr("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ke.$h;else{if(t.cacheSizeBytes!==Li&&t.cacheSizeBytes<Ke.kh)throw new f(d.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ke.kh);this.cacheSizeBytes=t.cacheSizeBytes}fr("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Fi=function(){function t(e,n,r){var o=this;if(void 0===r&&(r=new Ai),this.QT=null,this.WT=new He,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.jT(),[4,this.KT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.QT=s,this.Lc=t.GT(s),this.zT=s.name,this.HT=new m(n)}else{var a=e;if(!a.projectId)throw new f(d.INVALID_ARGUMENT,"Must provide projectId");this.Lc=new Oe(a.projectId,a.database),this.zT="[DEFAULT]",this.HT=new g}this.YT=r,this.JT=new ji({}),this.XT=new Br(this.Lc)}return t.prototype.settings=function(t){ar("Firestore.settings",arguments,1),lr("Firestore.settings","object",1,t);var e=new ji(t);if(this.KT&&!this.JT.isEqual(e))throw new f(d.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.JT=e,void 0!==e.credentials&&(this.HT=function(t){if(!t)return new g;switch(t.type){case"gapi":var e=t.ZT;return we(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new v(e,t.V||"0");case"provider":return t.ZT;default:throw new f(d.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.jT(),this.KT.enableNetwork()},t.prototype.disableNetwork=function(){return this.jT(),this.KT.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.KT)throw new f(d.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1;return t&&(void 0!==t.experimentalTabSynchronization&&ve("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.tE(this.YT,{gT:!0,cacheSizeBytes:this.JT.cacheSizeBytes,synchronizeTabs:r})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.KT&&!this.KT.DT)throw new f(d.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Be,[2,(this.WT.oh((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.eE(),[4,this.YT.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"sE",{get:function(){return this.jT(),this.KT.DT},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.jT(),this.KT.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.jT(),Mi(t)?this.iE(t):(lr("Firestore.onSnapshotsInSync","function",1,t),this.iE({next:t}))},t.prototype.iE=function(t){var e=this,n=new Ri({next:function(){t.next&&t.next()},error:function(t){throw _e()}});return this.KT.Ff(n),function(){n.kT(),e.KT.Nf(n)}},t.prototype.jT=function(){return this.KT||this.tE(new Ai,{gT:!1}),this.KT},t.prototype.eE=function(){return new xe(this.Lc,this.zT,this.JT.host,this.JT.ssl,this.JT.forceLongPolling)},t.prototype.tE=function(t,e){var n=this.eE();return this.KT=new Ni(fe.nt(),n,this.HT,this.WT),this.KT.start(t,e)},t.GT=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new f(d.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new f(d.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Oe(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.QT)throw new f(d.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.QT},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return ar("Firestore.collection",arguments,1),lr("Firestore.collection","non-empty string",1,t),this.jT(),new Wi(E.K(t),this)},t.prototype.doc=function(t){return ar("Firestore.doc",arguments,1),lr("Firestore.doc","non-empty string",1,t),this.jT(),Bi.nE(E.K(t),this)},t.prototype.collectionGroup=function(t){if(ar("Firestore.collectionGroup",arguments,1),lr("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new f(d.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.jT(),new $i(new Et(E.G,t),this)},t.prototype.runTransaction=function(t){var e=this;return ar("Firestore.runTransaction",arguments,1),lr("Firestore.runTransaction","function",1,t),this.jT().transaction((function(n){return t(new Vi(e,n))}))},t.prototype.batch=function(){return this.jT(),new Ui(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(ge()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(ar("Firestore.setLogLevel",arguments,1),lr("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":me(s.LogLevel.DEBUG);break;case"error":me(s.LogLevel.ERROR);break;case"silent":me(s.LogLevel.SILENT);break;default:throw new f(d.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.rE=function(){return this.JT.timestampsInSnapshots},t}(),Vi=function(){function t(t,e){this.hE=t,this.oE=e}return t.prototype.get=function(t){var e=this;ar("Transaction.get",arguments,1);var n=Yi("Transaction.get",t,this.hE);return this.oE.V_([n.xc]).then((function(t){if(!t||1!==t.length)return _e();var r=t[0];if(r instanceof bt)return new zi(e.hE,n.xc,null,!1,!1,n.aE);if(r instanceof vt)return new zi(e.hE,n.xc,r,!1,!1,n.aE);throw _e()}))},t.prototype.set=function(t,e,n){cr("Transaction.set",arguments,2,3);var r=Yi("Transaction.set",t,this.hE);n=Ki("Transaction.set",n);var i=Ji(r.aE,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.hE.XT.Nc(s,o,n.mergeFields):this.hE.XT.Cc(s,o);return this.oE.set(r.xc,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof xr?(ur("Transaction.update",arguments,3),r=Yi("Transaction.update",t,this.hE),i=this.hE.XT.$c("Transaction.update",e,n,o)):(ar("Transaction.update",arguments,2),r=Yi("Transaction.update",t,this.hE),i=this.hE.XT.kc("Transaction.update",e)),this.oE.update(r.xc,i),this},t.prototype.delete=function(t){ar("Transaction.delete",arguments,1);var e=Yi("Transaction.delete",t,this.hE);return this.oE.delete(e.xc),this},t}(),Ui=function(){function t(t){this.hE=t,this.uE=[],this.cE=!1}return t.prototype.set=function(t,e,n){cr("WriteBatch.set",arguments,2,3),this._E();var r=Yi("WriteBatch.set",t,this.hE);n=Ki("WriteBatch.set",n);var i=Ji(r.aE,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.hE.XT.Nc(s,o,n.mergeFields):this.hE.XT.Cc(s,o);return this.uE=this.uE.concat(a.gc(r.xc,ot.ft())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this._E(),"string"==typeof e||e instanceof xr?(ur("WriteBatch.update",arguments,3),r=Yi("WriteBatch.update",t,this.hE),i=this.hE.XT.$c("WriteBatch.update",e,n,o)):(ar("WriteBatch.update",arguments,2),r=Yi("WriteBatch.update",t,this.hE),i=this.hE.XT.kc("WriteBatch.update",e)),this.uE=this.uE.concat(i.gc(r.xc,ot.exists(!0))),this},t.prototype.delete=function(t){ar("WriteBatch.delete",arguments,1),this._E();var e=Yi("WriteBatch.delete",t,this.hE);return this.uE=this.uE.concat(new lt(e.xc,ot.ft())),this},t.prototype.commit=function(){return this._E(),this.cE=!0,this.uE.length>0?this.hE.jT().write(this.uE):Promise.resolve()},t.prototype._E=function(){if(this.cE)throw new f(d.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Bi=function(){function t(t,e,n){this.xc=t,this.firestore=e,this.aE=n,this.KT=this.firestore.jT()}return t.nE=function(e,n,r){if(e.length%2!=0)throw new f(d.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.j()+" has "+e.length);return new t(new T(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.xc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Wi(this.xc.path.M(),this.firestore,this.aE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.xc.path.j()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(ar("DocumentReference.collection",arguments,1),lr("DocumentReference.collection","non-empty string",1,t),!t)throw new f(d.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=E.K(t);return new Wi(this.xc.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw _r("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.xc.isEqual(e.xc)&&this.aE===e.aE},t.prototype.set=function(t,e){cr("DocumentReference.set",arguments,1,2),e=Ki("DocumentReference.set",e);var n=Ji(this.aE,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.XT.Nc(i,r,e.mergeFields):this.firestore.XT.Cc(i,r);return this.KT.write(o.gc(this.xc,ot.ft()))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof xr?(ur("DocumentReference.update",arguments,2),n=this.firestore.XT.$c("DocumentReference.update",t,e,r)):(ar("DocumentReference.update",arguments,1),n=this.firestore.XT.kc("DocumentReference.update",t)),this.KT.write(n.gc(this.xc,ot.exists(!0)))},t.prototype.delete=function(){return ar("DocumentReference.delete",arguments,0),this.KT.write([new lt(this.xc,ot.ft())])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];cr("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Mi(t[i])||(br("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),fr("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Mi(t[i])?n=t[i]:(lr("DocumentReference.onSnapshot","function",i,t[i]),hr("DocumentReference.onSnapshot","function",i+1,t[i+1]),hr("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.lE(o,n)},t.prototype.lE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Ri({next:function(t){if(e.next){var r=t.docs.get(n.xc);e.next(new zi(n.firestore,n.xc,r,t.fromCache,t.hasPendingWrites,n.aE))}},error:r}),o=this.KT.listen(Et.Wt(this.xc.path),i,t);return function(){i.kT(),n.KT.al(o)}},t.prototype.get=function(t){var e=this;return cr("DocumentReference.get",arguments,0,1),Xi("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.jT().CT(e.xc).then((function(t){n(new zi(e.firestore,e.xc,t,!0,t instanceof vt&&t.At,e.aE))}),r):e.dE(n,r,t)}))},t.prototype.dE=function(t,e,n){var r=this.lE({includeMetadataChanges:!0,Bf:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new f(d.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new f(d.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.xc,this.firestore,e)},t}(),qi=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),zi=function(){function t(t,e,n,r,i,o){this.hE=t,this.xc=e,this.fE=n,this.TE=r,this.EE=i,this.aE=o}return t.prototype.data=function(t){if(cr("DocumentSnapshot.data",arguments,0,1),t=Qi("DocumentSnapshot.data",t),this.fE){if(this.aE){var e=new Hi(this.hE,this.xc,this.fE,this.TE,this.EE);return this.aE.fromFirestore(e,t)}return new Di(this.hE,this.hE.rE(),t.serverTimestamps,void 0).MT(this.fE.Mt())}},t.prototype.get=function(t,e){if(cr("DocumentSnapshot.get",arguments,1,2),e=Qi("DocumentSnapshot.get",e),this.fE){var n=this.fE.data().field(Gr("DocumentSnapshot.get",t));if(null!==n)return new Di(this.hE,this.hE.rE(),e.serverTimestamps,this.aE).MT(n)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.xc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Bi(this.xc,this.hE,this.aE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.fE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new qi(this.EE,this.TE)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw _r("isEqual","DocumentSnapshot",1,e);return this.hE===e.hE&&this.TE===e.TE&&this.xc.isEqual(e.xc)&&(null===this.fE?null===e.fE:this.fE.isEqual(e.fE))&&this.aE===e.aE},t}(),Hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(zi),$i=function(){function t(t,e,n){this.IE=t,this.firestore=e,this.aE=n}return t.prototype.where=function(e,n,r){ar("Query.where",arguments,3),vr("Query.where",3,r);var i,o=function(t,e,n,r){if(!e.some((function(t){return t===r})))throw new f(d.INVALID_ARGUMENT,"Invalid value "+yr(r)+" provided to function Query.where() for its "+Er(2)+" argument. Acceptable values: "+e.join(", "));return r}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,n),s=Gr("Query.where",e);if(s.Y()){if("array-contains"===o||"array-contains-any"===o)throw new f(d.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o){this.wE(r,o);for(var a=[],u=0,c=r;u<c.length;u++){var l=c[u];a.push(this.RE(l))}i={arrayValue:{values:a}}}else i=this.RE(r)}else"in"!==o&&"array-contains-any"!==o||this.wE(r,o),i=this.firestore.XT.Mc("Query.where",r,"in"===o);var h=Ct.create(s,o,i);return this.mE(h),new t(this.IE.Gt(h),this.firestore,this.aE)},t.prototype.orderBy=function(e,n){var r;if(cr("Query.orderBy",arguments,1,2),hr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new f(d.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}if(null!==this.IE.startAt)throw new f(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.IE.endAt)throw new f(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Gr("Query.orderBy",e),o=new At(i,r);return this.AE(o),new t(this.IE.zt(o),this.firestore,this.aE)},t.prototype.limit=function(e){return ar("Query.limit",arguments,1),lr("Query.limit","number",1,e),wr("Query.limit",1,e),new t(this.IE.Ht(e),this.firestore,this.aE)},t.prototype.limitToLast=function(e){return ar("Query.limitToLast",arguments,1),lr("Query.limitToLast","number",1,e),wr("Query.limitToLast",1,e),new t(this.IE.Yt(e),this.firestore,this.aE)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ur("Query.startAt",arguments,1);var i=this.PE("Query.startAt",e,n,!0);return new t(this.IE.Jt(i),this.firestore,this.aE)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ur("Query.startAfter",arguments,1);var i=this.PE("Query.startAfter",e,n,!1);return new t(this.IE.Jt(i),this.firestore,this.aE)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ur("Query.endBefore",arguments,1);var i=this.PE("Query.endBefore",e,n,!0);return new t(this.IE.Xt(i),this.firestore,this.aE)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ur("Query.endAt",arguments,1);var i=this.PE("Query.endAt",e,n,!1);return new t(this.IE.Xt(i),this.firestore,this.aE)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw _r("isEqual","Query",1,e);return this.firestore===e.firestore&&this.IE.isEqual(e.IE)},t.prototype.withConverter=function(e){return new t(this.IE,this.firestore,e)},t.prototype.PE=function(t,e,n,r){if(vr(t,1,e),e instanceof zi){if(n.length>0)throw new f(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new f(d.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.VE(i.fE,r)}var o=[e].concat(n);return this.gE(t,o,r)},t.prototype.VE=function(t,e){for(var n=[],r=0,i=this.IE.orderBy;r<i.length;r++){var o=i[r];if(o.field.Y())n.push($(this.firestore.Lc,t.key));else{var s=t.field(o.field);if(R(s))throw new f(d.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var a=o.field.j();throw new f(d.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(s)}}return new It(n,e)},t.prototype.gE=function(t,e,n){var r=this.IE.Ot;if(e.length>r.length)throw new f(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.Y()){if("string"!=typeof s)throw new f(d.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.IE._e()&&-1!==s.indexOf("/"))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.IE.path.child(E.K(s));if(!T.et(a))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new T(a);i.push($(this.firestore.Lc,u))}else{var c=this.firestore.XT.Mc(t,s);i.push(c)}}return new It(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];cr("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Mi(t[i])||(br("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),fr("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Mi(t[i])?n=t[i]:(lr("Query.onSnapshot","function",i,t[i]),hr("Query.onSnapshot","function",i+1,t[i+1]),hr("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.pE(this.IE),this.lE(r,n)},t.prototype.lE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Ri({next:function(t){e.next&&e.next(new Gi(n.firestore,n.IE,t,n.aE))},error:r}),o=this.firestore.jT(),s=o.listen(this.IE,i,t);return function(){i.kT(),o.al(s)}},t.prototype.pE=function(t){if(t.ae()&&0===t.Ot.length)throw new f(d.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return cr("Query.get",arguments,0,1),Xi("Query.get",t),this.pE(this.IE),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.jT().FT(e.IE).then((function(t){n(new Gi(e.firestore,e.IE,t,e.aE))}),r):e.dE(n,r,t)}))},t.prototype.dE=function(t,e,n){var r=this.lE({includeMetadataChanges:!0,Bf:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new f(d.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.RE=function(t){if("string"==typeof t){if(""===t)throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.IE._e()&&-1!==t.indexOf("/"))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.IE.path.child(E.K(t));if(!T.et(e))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return $(this.firestore.Lc,new T(e))}if(t instanceof Bi)return $(this.firestore.Lc,t.xc);throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+yr(t)+".")},t.prototype.wE=function(t,e){if(!Array.isArray(t)||0===t.length)throw new f(d.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.mE=function(t){if(t instanceof Ct){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.ue()){var o=this.IE.jt();if(null!==o&&!o.isEqual(t.field))throw new f(d.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.IE.Kt();null!==s&&this.yE(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.IE.ce(n)),null===a&&r&&(a=this.IE.ce(e)),null!=a)throw new f(d.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.AE=function(t){if(null===this.IE.Kt()){var e=this.IE.jt();null!==e&&this.yE(e,t.field)}},t.prototype.yE=function(t,e){if(!e.isEqual(t))throw new f(d.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Gi=function(){function t(t,e,n,r){this.hE=t,this.bE=e,this.vE=n,this.aE=r,this.SE=null,this.DE=null,this.metadata=new qi(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.vE.docs.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.vE.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;cr("QuerySnapshot.forEach",arguments,1,2),lr("QuerySnapshot.forEach","function",1,t),this.vE.docs.forEach((function(r){t.call(e,n.CE(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new $i(this.bE,this.hE,this.aE)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(br("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),fr("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.vE.hs)throw new f(d.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.SE&&this.DE===e||(this.SE=function(t,e,n,r){if(n.ss.B()){var i=0;return n.docChanges.map((function(e){return{type:"added",doc:new Hi(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r),oldIndex:-1,newIndex:i++}}))}var o=n.ss;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new Hi(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r),s=-1,a=-1;return 0!==e.type&&(s=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:Zi(e.type),doc:i,oldIndex:s,newIndex:a}}))}(this.hE,e,this.vE,this.aE),this.DE=e),this.SE},t.prototype.isEqual=function(e){if(!(e instanceof t))throw _r("isEqual","QuerySnapshot",1,e);return this.hE===e.hE&&this.bE.isEqual(e.bE)&&this.vE.isEqual(e.vE)&&this.aE===e.aE},t.prototype.CE=function(t){return new Hi(this.hE,t.key,t,this.metadata.fromCache,this.vE.ns.has(t.key),this.aE)},t}(),Wi=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Et.Wt(e),n,r)||this).FE=e,e.length%2!=1)throw new f(d.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.j()+" has "+e.length);return i}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.IE.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.IE.path.M();return t.B()?null:new Bi(new T(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.IE.path.j()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(cr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Ce.cn()),lr("CollectionReference.doc","non-empty string",1,t),""===t)throw new f(d.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=E.K(t);return Bi.nE(this.IE.path.child(e),this.firestore,this.aE)},e.prototype.add=function(t){ar("CollectionReference.add",arguments,1),lr("CollectionReference.add","object",1,this.aE?this.aE.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.FE,this.firestore,t)},e}($i);function Ki(t,e){if(void 0===e)return{merge:!1};if(br(t,e,["merge","mergeFields"]),fr(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+yr(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+yr(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof xr}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new f(d.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Qi(t,e){return void 0===e?{}:(br(t,e,["serverTimestamps"]),pr(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Xi(t,e){hr(t,"object",1,e),e&&(br(t,e,["source"]),pr(t,0,"source",e.source,["default","server","cache"]))}function Yi(t,e,n){if(e instanceof Bi){if(e.firestore!==n)throw new f(d.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw _r(t,"DocumentReference",1,e)}function Zi(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}function Ji(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}function to(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new f(d.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}var eo=to(Fi,"Use firebase.firestore() instead."),no=to(Vi,"Use firebase.firestore().runTransaction() instead."),ro=to(Ui,"Use firebase.firestore().batch() instead."),io=to(Bi,"Use firebase.firestore().doc() instead."),oo=to(zi),so=to(Hi),ao=to($i),uo=to(Gi),co=to(Wi,"Use firebase.firestore().collection() instead."),lo=to(function(){function t(){}return t.delete=function(){return sr("FieldValue.delete",arguments),new Ar},t.serverTimestamp=function(){return sr("FieldValue.serverTimestamp",arguments),new Pr},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ur("FieldValue.arrayUnion",arguments,1),new Nr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ur("FieldValue.arrayRemove",arguments,1),new Rr(t)},t.increment=function(t){return lr("FieldValue.increment","number",1,t),ar("FieldValue.increment",arguments,1),new Mr(t)},t.prototype.isEqual=function(t){return this===t},t}(),"Use FieldValue.<field>() instead."),ho=to(Sr,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),fo={Firestore:eo,GeoPoint:Dr,Timestamp:b,Blob:ho,Transaction:no,WriteBatch:ro,DocumentReference:io,DocumentSnapshot:oo,Query:ao,QueryDocumentSnapshot:so,QuerySnapshot:uo,CollectionReference:co,FieldPath:xr,FieldValue:lo,setLogLevel:Fi.setLogLevel,CACHE_SIZE_UNLIMITED:Li},po=function(){function t(){}return t.prototype.Q_=function(t){},t.prototype.Iu=function(){},t}(),go=function(){function t(){var t=this;this.NE=function(){return t.kE()},this.$E=function(){return t.ME()},this.LE=[],this.xE()}return t.prototype.Q_=function(t){this.LE.push(t)},t.prototype.Iu=function(){window.removeEventListener("online",this.NE),window.removeEventListener("offline",this.$E)},t.prototype.xE=function(){window.addEventListener("online",this.NE),window.addEventListener("offline",this.$E)},t.prototype.kE=function(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.LE;t<e.length;t++)(0,e[t])(0)},t.prototype.ME=function(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.LE;t<e.length;t++)(0,e[t])(1)},t.so=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),mo=function(){function t(t){this.OE=t.OE,this.BE=t.BE}return t.prototype.n_=function(t){this.qE=t},t.prototype.Zc=function(t){this.UE=t},t.prototype.onMessage=function(t){this.QE=t},t.prototype.close=function(){this.BE()},t.prototype.send=function(t){this.OE(t)},t.prototype.WE=function(){this.qE()},t.prototype.jE=function(t){this.UE(t)},t.prototype.KE=function(t){this.QE(t)},t}(),yo={BatchGetDocuments:"batchGet",Commit:"commit"},vo="gl-js/ fire/"+l,bo=function(){function t(t){this.ii=t.ii,this.GE=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.zE=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=vo},t.prototype.E_=function(t,e,n){var r=this,i=this.HE(t);return new Promise((function(o,s){var a=new c.XhrIo;a.listenOnce(c.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=a.getResponseJson();ye("Connection","XHR received:",JSON.stringify(e)),o(e);break;case c.ErrorCode.TIMEOUT:ye("Connection",'RPC "'+t+'" timed out'),s(new f(d.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(ye("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(d).indexOf(e)>=0?e:d.UNKNOWN}(r.status);s(new f(i,r.message))}else s(new f(d.UNKNOWN,"Server responded with status "+a.getStatus()))}else ye("Connection",'RPC "'+t+'" failed'),s(new f(d.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ye("Connection",'RPC "'+t+'" completed.')}}));var u=Object.assign({},e);delete u.database;var l=JSON.stringify(u);ye("Connection","XHR sending: ",i+" "+l);var h={"Content-Type":"text/plain"};r.zE(h,n),a.send(i,"POST",l,h,15)}))},t.prototype.I_=function(t,e,n){return this.E_(t,e,n)},t.prototype.r_=function(t,e){var n=[this.GE,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ii.projectId+"/databases/"+this.ii.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.zE(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");ye("Connection","Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,l=!1,h=new mo({OE:function(t){l?ye("Connection","Not sending because WebChannel is closed:",t):(u||(ye("Connection","Opening WebChannel transport."),s.open(),u=!0),ye("Connection","WebChannel sending:",t),s.send(t))},BE:function(){return s.close()}}),p=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return p(c.WebChannel.EventType.OPEN,(function(){l||ye("Connection","WebChannel transport opened.")})),p(c.WebChannel.EventType.CLOSE,(function(){l||(l=!0,ye("Connection","WebChannel transport closed"),h.jE())})),p(c.WebChannel.EventType.ERROR,(function(t){l||(l=!0,ye("Connection","WebChannel transport errored:",t),h.jE(new f(d.UNAVAILABLE,"The operation could not be completed")))})),p(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];we(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ye("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=gt[t];if(void 0!==e)return Mt(e)}(i),a=r.message;void 0===o&&(o=d.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,h.jE(new f(o,a)),s.close()}else ye("Connection","WebChannel received:",n),h.KE(n)}})),setTimeout((function(){h.WE()}),0),h},t.prototype.HE=function(t){return this.GE+"/v1/projects/"+this.ii.projectId+"/databases/"+this.ii.database+"/documents:"+yo[t]},t}();function _o(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){return new Fi(t,e,new Pi)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},fo)))}(t),t.registerVersion("@firebase/firestore","1.14.3")}fe.an(new(function(){function t(){this._c="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.bT=function(t){return Promise.resolve(new bo(t))},t.prototype.AT=function(){return go.so()?new go:new po},t.prototype.Dc=function(t){return new he(t,{hi:!0})},t.prototype.un=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype._n=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n},t}())),_o(o),e.__PRIVATE_registerFirestore=_o},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("UBlB"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},UBlB:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return k})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function k(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.14.3","app"),t.exports=i},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return k})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function k(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){var e="string"==typeof t?a[t]:t;o.forEach((function(t){t.logLevel=e}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("30Go"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),f=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.14.3",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.3",void 0),t.registerVersion("fire-js","")}(v),e.default=v,e.firebase=v},x7I3:function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n.r(e),n.d(e,"ErrorCode",(function(){return Kn})),n.d(e,"EventType",(function(){return Qn})),n.d(e,"WebChannel",(function(){return Xn})),n.d(e,"XhrIo",(function(){return Yn})),n.d(e,"createWebChannelTransport",(function(){return Wn}));var i,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},a=o||self;function u(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function l(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),f=0;function p(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:g).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var v=Date.now||function(){return+new Date};function b(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.da=function(){!this.j&&(this.j=!0,this.C(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++f)}(this)},_.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var w=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function C(t){return Array.prototype.concat.apply([],arguments)}function k(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var S,x=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return-1!=t.indexOf(e)}function I(t,e){return t<e?-1:t>e?1:0}t:{var A=a.navigator;if(A){var P=A.userAgent;if(P){S=P;break t}}S=""}function N(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function L(t){return L[" "](t),t}L[" "]=u;var j,F,V=O(S,"Opera"),U=O(S,"Trident")||O(S,"MSIE"),B=O(S,"Edge"),q=B||U,z=O(S,"Gecko")&&!(O(S.toLowerCase(),"webkit")&&!O(S,"Edge"))&&!(O(S,"Trident")||O(S,"MSIE"))&&!O(S,"Edge"),H=O(S.toLowerCase(),"webkit")&&!O(S,"Edge");function $(){var t=a.document;return t?t.documentMode:void 0}t:{var G="",W=(F=S,z?/rv:([^\);]+)(\)|;)/.exec(F):B?/Edge\/([\d\.]+)/.exec(F):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(F):H?/WebKit\/(\S+)/.exec(F):V?/(?:Version)[ \/]?(\S+)/.exec(F):void 0);if(W&&(G=W?W[1]:""),U){var K=$();if(null!=K&&K>parseFloat(G)){j=String(K);break t}}j=G}var Q={};function X(t){return function(t,e){var n=Q;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=x(String(j)).split("."),r=x(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=I(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||I(0==s[2].length,0==a[2].length)||I(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var Y=a.document&&U&&($()||parseInt(j,10))||void 0,Z=!U||9<=Number(Y),J=U&&!X("9"),tt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",u,e),a.removeEventListener("test",u,e)}catch(n){}return t}();function et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function nt(t,e){if(et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{L(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:rt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}et.prototype.b=function(){this.defaultPrevented=!0},b(nt,et);var rt={2:"touch",3:"pen",4:"mouse"};nt.prototype.b=function(){nt.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,J)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var it="closure_listenable_"+(1e6*Math.random()|0),ot=0;function st(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++ot,this.V=this.X=!1}function at(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function ut(t){this.src=t,this.a={},this.b=0}function ct(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=w(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(at(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function lt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}ut.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=lt(t,e,r,i);return-1<s?(e=t[s],n||(e.X=!1)):((e=new st(e,this.src,o,!!r,i)).X=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),dt={};function ft(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=wt(r),e&&e[it]?e.sa(n,r,h(i)?!!i.capture:!!i,o):pt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ft(t,e[o],n,r,i);return null}return n=wt(n),t&&t[it]?t.ra(e,n,h(r)?!!r.capture:!!r,i):pt(t,e,n,!1,r,i)}function pt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=h(i)?!!i.capture:!!i;if(s&&!Z)return null;var a=bt(t);if(a||(t[ht]=a=new ut(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=vt,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gt(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[it])ct(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bt(e))?(ct(n,t),0==n.b&&(n.src=null,e[ht]=null)):at(t)}}}function mt(t){return t in dt?dt[t]:dt[t]="on"+t}function yt(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&gt(t),n.call(r,e)}function vt(t,e){if(t.V)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return yt(t,e=new nt(e,this))}return yt(t,new nt(e,this))}function bt(t){return(t=t[ht])instanceof ut?t:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(t){return"function"==c(t)?t:(t[_t]||(t[_t]=function(e){return t.handleEvent(e)}),t[_t])}function Et(){_.call(this),this.c=new ut(this),this.J=this,this.A=null}function Ct(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.V&&s.capture==n){var a=s.listener,u=s.aa||s.src;s.X&&ct(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}b(Et,_),Et.prototype[it]=!0,(i=Et.prototype).addEventListener=function(t,e,n,r){ft(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=h(i)?!!i.capture:!!i,r=wt(r),e&&e[it]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=lt(s=e.a[n],r,i,o))&&(at(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=bt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=lt(n,r,i,o)),(r=-1<e?n[e]:null)&&gt(r))}(this,t,e,n,r)},i.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new et(t,n);else if(t instanceof et)t.target=t.target||n;else{var i=t;D(t=new et(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Ct(s,r,!0,t)&&i}if(i=Ct(s=t.a=n,r,!0,t)&&i,i=Ct(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ct(s=t.a=e[o],r,!1,t)&&i;return i},i.C=function(){if(Et.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)at(n[r]);delete e.a[t],e.b--}}this.A=null},i.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},i.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kt=a.JSON.stringify;function Tt(){this.b=this.a=null}var St,xt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new It}),(function(t){t.reset()}),100);function Ot(){var t=Rt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function It(){this.next=this.b=this.a=null}function At(t){a.setTimeout((function(){throw t}),0)}function Pt(t,e){St||function(){var t=a.Promise.resolve(void 0);St=function(){t.then(Mt)}}(),Nt||(St(),Nt=!0),Rt.add(t,e)}Tt.prototype.add=function(t,e){var n=xt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},It.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},It.prototype.reset=function(){this.next=this.b=this.a=null};var Nt=!1,Rt=new Tt;function Mt(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){At(n)}var e=xt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Nt=!1}function Dt(t,e){Et.call(this),this.b=t||1,this.a=e||a,this.f=m(this.Ua,this),this.g=v()}function Lt(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function jt(t,e,n){if("function"==c(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Ft(t,e,n){_.call(this),this.f=null!=n?m(t,n):t,this.c=e,this.b=m(this.Pa,this),this.a=[]}function Vt(t){t.T=jt(t.b,t.c),t.f.apply(null,t.a)}function Ut(t){_.call(this),this.b=t,this.a={}}b(Dt,Et),(i=Dt.prototype).Z=!1,i.L=null,i.Ua=function(){if(this.Z){var t=v()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Lt(this),this.start()))}},i.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=v())},i.C=function(){Dt.M.C.call(this),Lt(this),delete this.a},b(Ft,_),(i=Ft.prototype).ba=!1,i.T=null,i.Ia=function(t){this.a=arguments,this.T?this.ba=!0:Vt(this)},i.C=function(){Ft.M.C.call(this),this.T&&(a.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},i.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Vt(this))},b(Ut,_);var Bt=[];function qt(t,e,n,r){Array.isArray(n)||(n&&(Bt[0]=n.toString()),n=Bt);for(var i=0;i<n.length;i++){var o=ft(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function zt(t){N(t.a,(function(t,e){this.a.hasOwnProperty(e)&&gt(t)}),t),t.a={}}function Ht(){}Ut.prototype.C=function(){Ut.M.C.call(this),zt(this)},Ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=null;function Gt(){return $t=$t||new Et}function Wt(t){et.call(this,"serverreachability",t)}function Kt(t){var e=Gt();e.dispatchEvent(new Wt(e,t))}function Qt(t){et.call(this,"statevent",t)}function Xt(t){var e=Gt();e.dispatchEvent(new Qt(e,t))}function Yt(t){et.call(this,"timingevent",t)}function Zt(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}b(Wt,et),b(Qt,et),b(Yt,et);var Jt={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},te={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function ee(){}function ne(){}ee.prototype.a=null;var re,ie={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function oe(){et.call(this,"d")}function se(){et.call(this,"c")}function ae(){}function ue(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new Ut(this),this.N=ce,this.O=new Dt(t=q?125:void 0),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}b(oe,et),b(se,et),b(ae,ee),re=new ae;var ce=45e3,le={},he={};function de(t,e,n){t.B=1,t.f=Me(Oe(e)),t.j=n,t.F=!0,fe(t,null)}function fe(t,e){t.s=v(),me(t),t.A=Oe(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),We(n.b,"t",r),t.w=0,t.a=Vn(t.g,t.g.w?e:null),0<t.J&&(t.D=new Ft(m(t.ya,t,t.a),t.J)),qt(t.G,t.a,"readystatechange",t.Sa),e=t.m?R(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),Kt(1)}function pe(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=ge(t,n);if(i==he){4==e&&(t.c=4,Xt(14),r=!1);break}if(i==le){t.c=4,Xt(15),r=!1;break}we(t,i)}4==e&&0==n.length&&(t.c=1,Xt(16),r=!1),t.b=t.b&&r,r||(_e(t),be(t))}function ge(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?he:(n=Number(e.substring(n,r)),isNaN(n)?le:(r+=1)+n>e.length?he:(e=e.substr(r,n),t.w=r+n,e))}function me(t){t.P=v()+t.N,ye(t,t.N)}function ye(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=Zt(m(t.Qa,t),e)}function ve(t){t.h&&(a.clearTimeout(t.h),t.h=null)}function be(t){0==t.g.u||t.l||Mn(t.g,t)}function _e(t){ve(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,Lt(t.O),zt(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function we(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||tn(n.b,t)))if(n.A=t.H,!t.o&&tn(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;Rn(n),n.a.cancel(),n.a=null}Nn(n),Xt(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=Zt(m(n.Na,n),6e3));if(1>=Je(n.b)&&n.O){try{n.O()}catch(g){}n.O=void 0}}else Ln(n,11)}else if((t.o||n.a==t)&&Rn(n),!T(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(n.G=(i=e[r])[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var s=i[5];null!=s&&"number"==typeof s&&0<s&&(n.D=1.5*s);var a=n,u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var l=a.b;!l.a&&(O(c,"spdy")||O(c,"quic")||O(c,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(en(l,l.b),l.b=null))}if(a.s){var h=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.ha=h,Re(a.v,a.s,h))}}n.u=3,n.c&&n.c.na();var d=t;if((a=n).ea=Fn(a,a.w?a.R:null,a.P),d.o){nn(a.b,d);var f=d,p=a.D;p&&f.setTimeout(p),f.h&&(ve(f),me(f)),a.a=d}else Pn(a);0<n.f.length&&xn(n)}else"stop"!=i[0]&&"close"!=i[0]||Ln(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ln(n,7):kn(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);Kt(4)}catch(g){}}function Ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)E(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(l(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ce(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ce)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ke(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Te(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Te(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Te(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=ue.prototype).setTimeout=function(t){this.N=t},i.Sa=function(t){t=t.target;var e=this.D;e&&3==_n(t)?e.Ia():this.ya(t)},i.ya=function(t){try{if(t==this.a)t:{var e=_n(this.a),n=this.a.qa(),r=this.a.S();if(!(3>e||3==e&&!q&&!this.a.Y())){this.l||4!=e||7==n||Kt(8==n||0>=r?3:2),ve(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.c=3,Xt(12),_e(this),be(this);break t}this.o=!0,we(this,u)}this.F?(pe(this,e,o),q&&this.b&&3==e&&(qt(this.G,this.O,"tick",this.Ra),this.O.start())):we(this,o),4==e&&_e(this),this.b&&!this.l&&(4==e?Mn(this.g,this):(this.b=!1,me(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Xt(12)):(this.c=0,Xt(13)),_e(this),be(this)}}}catch(c){}},i.Ra=function(){if(this.a){var t=_n(this.a),e=this.a.Y();this.w<e.length&&(ve(this),pe(this,t,e),this.b&&4!=t&&me(this))}},i.cancel=function(){this.l=!0,_e(this)},i.Qa=function(){this.h=null;var t=v();0<=t-this.P?(2!=this.B&&(Kt(3),Xt(17)),_e(this),this.c=2,be(this)):ye(this,this.P-t)},(i=Ce.prototype).I=function(){ke(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return ke(this),this.a.concat()},i.get=function(t,e){return Te(this.b,t)?this.b[t]:e},i.set=function(t,e){Te(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Se=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof xe){this.a=void 0!==e?e:t.a,Ie(this,t.f),this.j=t.j,Ae(this,t.c),Pe(this,t.h),this.g=t.g,e=t.b;var n=new ze;n.c=e.c,e.a&&(n.a=new Ce(e.a),n.b=e.b),Ne(this,n),this.i=t.i}else t&&(n=String(t).match(Se))?(this.a=!!e,Ie(this,n[1]||"",!0),this.j=De(n[2]||""),Ae(this,n[3]||"",!0),Pe(this,n[4]),this.g=De(n[5]||"",!0),Ne(this,n[6]||"",!0),this.i=De(n[7]||"")):(this.a=!!e,this.b=new ze(null,this.a))}function Oe(t){return new xe(t)}function Ie(t,e,n){t.f=n?De(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ae(t,e,n){t.c=n?De(e,!0):e}function Pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ne(t,e,n){e instanceof ze?(t.b=e,function(t,e){e&&!t.f&&(He(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($e(this,e),We(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Le(e,Be)),t.b=new ze(e,t.a))}function Re(t,e,n){t.b.set(e,n)}function Me(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^v()).toString(36)),t}function De(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Le(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,je),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function je(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Le(e,Fe,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Le(e,Fe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Le(n,"/"==n.charAt(0)?Ue:Ve,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Le(n,qe)),t.join("")};var Fe=/[#\/\?@]/g,Ve=/[#\?:]/g,Ue=/[#\?]/g,Be=/[#\?@]/g,qe=/#/g;function ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function He(t){t.a||(t.a=new Ce,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $e(t,e){He(t),e=Ke(t,e),Te(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Te((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ke(t)))}function Ge(t,e){return He(t),e=Ke(t,e),Te(t.a.b,e)}function We(t,e,n){$e(t,e),0<n.length&&(t.c=null,t.a.set(Ke(t,e),k(n)),t.b+=n.length)}function Ke(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Qe(t,e){this.b=t,this.a=e}function Xe(t){this.g=t||Ye,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ca&&a.ca.ua&&a.ca.ua()&&a.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(i=ze.prototype).add=function(t,e){He(this),this.c=null,t=Ke(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){He(this),this.a.forEach((function(n,r){E(n,(function(n){t.call(e,n,r,this)}),this)}),this)},i.K=function(){He(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},i.I=function(t){He(this);var e=[];if("string"==typeof t)Ge(this,t)&&(e=C(e,this.a.get(Ke(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=C(e,t[n])}return e},i.set=function(t,e){return He(this),this.c=null,Ge(this,t=Ke(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Ye=10;function Ze(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Je(t){return t.b?1:t.a?t.a.size:0}function tn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function en(t,e){t.a?t.a.add(e):t.b=e}function nn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function rn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var o=r(t.a.values()),s=o.next();!s.done;s=o.next())i=i.concat(s.value.i)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return k(t.c)}function on(){}function sn(){this.a=new on}function an(t,e,n){var r=n||"";try{Ee(t,(function(t,n){var i=t;h(t)&&(i=kt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function un(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Xe.prototype.cancel=function(){var t,e;if(this.c=rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},on.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},on.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var cn=a.JSON.parse;function ln(t){Et.call(this),this.headers=new Ce,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=hn,this.B=this.F=!1}b(ln,Et);var hn="",dn=/^https?$/i,fn=["POST","PUT"];function pn(t){return"content-type"==t.toLowerCase()}function gn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,mn(t),vn(t)}function mn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function yn(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=_n(t)||2!=t.S()))if(t.l&&4==_n(t))jt(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==_n(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.D).match(Se)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!dn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<_n(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.S()+"]",mn(t)}}finally{vn(t)}}}function vn(t,e){if(t.a){bn(t);var n=t.a,r=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function bn(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function _n(t){return t.a?t.a.readyState:0}function wn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return N(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Re(t,e,n))}function En(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Cn(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=En("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=En("baseRetryDelayMs",5e3,t),this.Ga=En("retryDelaySeedMs",1e4,t),this.Da=En("forwardChannelMaxRetries",2,t),this.ga=En("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new Xe(t&&t.concurrentRequestLimit),this.ja=new sn,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function kn(t){if(Tn(t),3==t.u){var e=t.H++,n=Oe(t.v);Re(n,"SID",t.B),Re(n,"RID",e),Re(n,"TYPE","terminate"),In(t,n),(e=new ue(t,e,void 0)).B=2,e.f=Me(Oe(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=Vn(e.g,null),e.a.$(e.f)),e.s=v(),me(e)}jn(t)}function Tn(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(a.clearTimeout(t.i),t.i=null),Rn(t),t.b.cancel(),t.g&&("number"==typeof t.g&&a.clearTimeout(t.g),t.g=null)}function Sn(t,e){t.f.push(new Qe(t.Fa++,e)),3==t.u&&xn(t)}function xn(t){Ze(t.b)||t.g||(t.g=!0,Pt(t.xa,t),t.o=0)}function On(t,e){var n;n=e?e.W:t.H++;var r=Oe(t.v);Re(r,"SID",t.B),Re(r,"RID",n),Re(r,"AID",t.G),In(t,r),t.h&&t.j&&wn(r,t.h,t.j),n=new ue(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=An(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),en(t.b,n),de(n,r,e)}function In(t,e){t.c&&Ee({},(function(t,n){Re(e,n,t)}))}function An(t,e,n){n=Math.min(t.f.length,n);var r=t.c?m(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{an(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function Pn(t){t.a||t.i||(t.J=1,Pt(t.wa,t),t.m=0)}function Nn(t){return!(t.a||t.i||3<=t.m||(t.J++,t.i=Zt(m(t.wa,t),Dn(t,t.m)),t.m++,0))}function Rn(t){null!=t.l&&(a.clearTimeout(t.l),t.l=null)}function Mn(t,e){var n=null;if(t.a==e){Rn(t),t.a=null;var r=2}else{if(!tn(t.b,e))return;n=e.i,nn(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=v()-e.s;var i=t.o;(r=Gt()).dispatchEvent(new Yt(r,n,e,i)),xn(t)}else Pn(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&function(t,e){return!(Je(t.b)>=t.b.f-(t.g?1:0)||(t.g?(t.f=e.i.concat(t.f),0):1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da)||(t.g=Zt(m(t.xa,t,e),Dn(t,t.o)),t.o++,0)))}(t,e)||2==r&&Nn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ln(t,5);break;case 4:Ln(t,10);break;case 3:Ln(t,6);break;default:Ln(t,2)}}function Dn(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function Ln(t,e){if(2==e){var n=null;t.c&&(n=null);var r=m(t.Ta,t);n||(n=new xe("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Ie(n,"https"),Me(n)),function(t,e){var n=new Ht;if(a.Image){var r=new Image;r.onload=y(un,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y(un,n,r,"TestLoadImage: error",!1,e),r.onabort=y(un,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y(un,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xt(2);t.u=0,t.c&&t.c.la(e),jn(t),Tn(t)}function jn(t){t.u=0,t.A=-1,t.c&&(0==rn(t.b).length&&0==t.f.length||(t.b.c.length=0,k(t.f),t.f.length=0),t.c.ka())}function Fn(t,e,n){var r=function(t){return t instanceof xe?Oe(t):new xe(t,void 0)}(n);if(""!=r.c)e&&Ae(r,e+"."+r.c),Pe(r,r.h);else{var i=a.location;r=function(t,e,n,r){var i=new xe(null,void 0);return t&&Ie(i,t),e&&Ae(i,e),n&&Pe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.N&&N(t.N,(function(t,e){Re(r,e,t)})),n=t.ha,(e=t.s)&&n&&Re(r,e,n),Re(r,"VER",t.oa),In(t,r),r}function Vn(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ln(t.Ea)).F=t.w,e}function Un(){}function Bn(){if(U&&!(10<=Number(Y)))throw Error("Environmental error: no available transport.")}function qn(t,e){Et.call(this),this.a=new Cn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new $n(this)}function zn(t){oe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Hn(){se.call(this),this.status=1}function $n(t){this.a=t}(i=ln.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.G?this.G:re),this.a.onreadystatechange=m(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void gn(this,o)}t=n||"";var i=new Ce(this.headers);r&&Ee(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=pn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=w(fn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{bn(this),0<this.o&&((this.B=function(t){return U&&X(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=m(this.ta,this)):this.m=jt(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){gn(this,o)}},i.ta=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vn(this))},i.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),vn(this,!0)),ln.M.C.call(this)},i.va=function(){this.j||(this.w||this.l||this.g?yn(this):this.Oa())},i.Oa=function(){yn(this)},i.S=function(){try{return 2<_n(this)?this.a.status:-1}catch(F){return-1}},i.Y=function(){try{return this.a?this.a.responseText:""}catch(F){return""}},i.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cn(e)}},i.qa=function(){return this.h},i.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(i=Cn.prototype).oa=8,i.u=1,i.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new ue(this,t=this.H++,void 0),r=this.j;if(this.F&&(r?D(r=R(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=An(this,n,e),Re(i=Oe(this.v),"RID",t),Re(i,"CVER",22),this.s&&Re(i,"X-HTTP-Session-Id",this.s),In(this,i),this.h&&r&&wn(i,this.h,r),en(this.b,n),this.fa?(Re(i,"$req",e),Re(i,"SID","null"),n.R=!0,de(n,i,null)):de(n,i,e),this.u=2}}else 3==this.u&&(t?On(this,t):0==this.f.length||Ze(this.b)||On(this))},i.wa=function(){this.i=null,this.a=new ue(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Oe(this.ea);Re(t,"RID","rpc"),Re(t,"SID",this.B),Re(t,"CI",this.U?"0":"1"),Re(t,"AID",this.G),In(this,t),Re(t,"TYPE","xmlhttp"),this.h&&this.j&&wn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=Me(Oe(t)),e.j=null,e.F=!0,fe(e,n)},i.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Nn(this),Xt(19))},i.Ta=function(t){Xt(t?2:1)},(i=Un.prototype).na=function(){},i.ma=function(){},i.la=function(){},i.ka=function(){},i.Ha=function(){},Bn.prototype.a=function(t,e){return new qn(t,e)},b(qn,Et),(i=qn.prototype).addEventListener=function(t,e,n,r){qn.M.addEventListener.call(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){qn.M.removeEventListener.call(this,t,e,n,r)},i.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;Xt(0),t.P=e,t.N=n||{},t.U=t.W,t.v=Fn(t,null,t.P),xn(t)},i.close=function(){kn(this.a)},i.La=function(t){if("string"==typeof t){var e={};e.__data__=t,Sn(this.a,e)}else this.g?((e={}).__data__=kt(t),Sn(this.a,e)):Sn(this.a,t)},i.C=function(){this.a.c=null,delete this.f,kn(this.a),delete this.a,qn.M.C.call(this)},b(zn,oe),b(Hn,se),b($n,Un),$n.prototype.na=function(){this.a.dispatchEvent("a")},$n.prototype.ma=function(t){this.a.dispatchEvent(new zn(t))},$n.prototype.la=function(t){this.a.dispatchEvent(new Hn(t))},$n.prototype.ka=function(){this.a.dispatchEvent("b")},Bn.prototype.createWebChannel=Bn.prototype.a,qn.prototype.send=qn.prototype.La,qn.prototype.open=qn.prototype.Ka,qn.prototype.close=qn.prototype.close,Jt.NO_ERROR=0,Jt.TIMEOUT=8,Jt.HTTP_ERROR=6,te.COMPLETE="complete",ne.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",Et.prototype.listen=Et.prototype.ra,ln.prototype.listenOnce=ln.prototype.sa,ln.prototype.getLastError=ln.prototype.Ma,ln.prototype.getLastErrorCode=ln.prototype.qa,ln.prototype.getStatus=ln.prototype.S,ln.prototype.getResponseJson=ln.prototype.Ja,ln.prototype.getResponseText=ln.prototype.Y,ln.prototype.send=ln.prototype.$;var Gn={createWebChannelTransport:function(){return new Bn},ErrorCode:Jt,EventType:te,WebChannel:ne,XhrIo:ln},Wn=Gn.createWebChannelTransport,Kn=Gn.ErrorCode,Qn=Gn.EventType,Xn=Gn.WebChannel,Yn=Gn.XhrIo;e.default=Gn},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof l?d(s.errors):[s]}if(u(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof l?e=e.concat(d(s.errors)):e.push(s)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}function v(...t){return b(t)}function b(t){return 0===t.length?y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const E=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class C extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class k extends p{constructor(t){super(t),this.destination=t}}let T=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new k(this)}lift(t){const e=new S(this,this);return e.operator=t,e}next(t){if(this.closed)throw new E;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new E;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new E;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new C(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new S(t,e),t})();class S extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function x(t){return t&&"function"==typeof t.schedule}class O extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const I=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=A(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function R(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const M=t=>{if(t&&"function"==typeof t[m])return r=t,t=>{const e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return I(t);if(R(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[P])return e=t,t=>{const n=e[P]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,r};function D(t,e,n,r,i=new O(t,n,r)){if(!i.closed)return e instanceof _?e.subscribe(i):M(e)(i)}class L extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function j(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new F(t,e))}}class F{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new V(t,this.project,this.thisArg))}}class V extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function U(t,e){return new _(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function B(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(R(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return U(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[P](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(M(t))}function q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(q((n,r)=>B(t(n,r)).pipe(j((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new z(t,n)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends L{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new O(this,e,n),i=this.destination;i.add(r);const o=D(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function $(t=Number.POSITIVE_INFINITY){return q(y,t)}function G(t,e){return e?U(t,e):new _(I(t))}function W(){return function(t){return t.lift(new K(t))}}class K{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Q(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Q extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class X extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return W()(this)}}const Y=(()=>{const t=X.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends k{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function J(){return new T}function tt(t){return{toString:t}.toString()}function et(t,e,n){return tt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const nt=et("Inject",t=>({token:t})),rt=et("Optional"),it=et("Self"),ot=et("SkipSelf");var st=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function at(t){for(let e in t)if(t[e]===at)return e;throw Error("Could not find renamed property on target object.")}function ut(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ct(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ht(t){return dt(t,t[pt])||dt(t,t[yt])}function dt(t,e){return e&&e.token===t?e:null}function ft(t){return t&&(t.hasOwnProperty(gt)||t.hasOwnProperty(vt))?t[gt]:null}const pt=at({"\u0275prov":at}),gt=at({"\u0275inj":at}),mt=at({"\u0275provFallback":at}),yt=at({ngInjectableDef:at}),vt=at({ngInjectorDef:at});function bt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _t(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const wt=at({__forward_ref__:at});function Et(t){return t.__forward_ref__=Et,t.toString=function(){return bt(this())},t}function Ct(t){return kt(t)?t():t}function kt(t){return"function"==typeof t&&t.hasOwnProperty(wt)&&t.__forward_ref__===Et}const Tt="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ot="undefined"!=typeof global&&global,It=Tt||Ot||St||xt,At=at({"\u0275cmp":at}),Pt=at({"\u0275dir":at}),Nt=at({"\u0275pipe":at}),Rt=at({"\u0275mod":at}),Mt=at({"\u0275loc":at}),Dt=at({"\u0275fac":at}),Lt=at({__NG_ELEMENT_ID__:at});class jt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ct({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ft=new jt("INJECTOR",-1),Vt={},Ut=/\n/gm,Bt=at({provide:String,useValue:at});let qt,zt=void 0;function Ht(t){const e=zt;return zt=t,e}function $t(t){const e=qt;return qt=t,e}function Gt(t,e=st.Default){if(void 0===zt)throw new Error("inject() must be called from an injection context");return null===zt?Kt(t,void 0,e):zt.get(t,e&st.Optional?null:void 0,e)}function Wt(t,e=st.Default){return(qt||Gt)(Ct(t),e)}function Kt(t,e,n){const r=ht(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&st.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${bt(t)}]`)}function Qt(t){const e=[];for(let n=0;n<t.length;n++){const r=Ct(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=st.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof rt||"Optional"===i.ngMetadataName||i===rt?n|=st.Optional:i instanceof ot||"SkipSelf"===i.ngMetadataName||i===ot?n|=st.SkipSelf:i instanceof it||"Self"===i.ngMetadataName||i===it?n|=st.Self:t=i instanceof nt||i===nt?i.token:i}e.push(Wt(t,n))}else e.push(Wt(r))}return e}class Xt{get(t,e=Vt){if(e===Vt){const e=new Error(`NullInjectorError: No provider for ${bt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Yt{}class Zt{}function Jt(t,e){t.forEach(t=>Array.isArray(t)?Jt(t,e):e(t))}function te(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ee(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ne(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function re(t,e,n){let r=oe(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ie(t,e){const n=oe(t,e);if(n>=0)return t[1|n]}function oe(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const se=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ae=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ue={},ce=[];let le=0;function he(t){return tt(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===se.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ae.Emulated,id:"c",styles:t.styles||ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=le++,i.inputs=me(t.inputs,r),i.outputs=me(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(de):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(fe):null,i})}function de(t){return ve(t)||function(t){return t[Pt]||null}(t)}function fe(t){return function(t){return t[Nt]||null}(t)}const pe={};function ge(t){const e={type:t.type,bootstrap:t.bootstrap||ce,declarations:t.declarations||ce,imports:t.imports||ce,exports:t.exports||ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&tt(()=>{pe[t.id]=t.type}),e}function me(t,e){if(null==t)return ue;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ye=he;function ve(t){return t[At]||null}function be(t,e){return t.hasOwnProperty(Dt)?t[Dt]:null}function _e(t,e){const n=t[Rt]||null;if(!n&&!0===e)throw new Error(`Type ${bt(t)} does not have '\u0275mod' property.`);return n}function we(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ee(t){return Array.isArray(t)&&!0===t[1]}function Ce(t){return 0!=(8&t.flags)}function ke(t){return 2==(2&t.flags)}function Te(t){return 1==(1&t.flags)}function Se(t){return null!==t.template}function xe(t){return 0!=(512&t[2])}let Oe=void 0;function Ie(){return void 0!==Oe?Oe:"undefined"!=typeof document?document:void 0}function Ae(t){return!!t.listen}const Pe={createRenderer:(t,e)=>Ie()};function Ne(t){for(;Array.isArray(t);)t=t[0];return t}function Re(t,e){return Ne(e[t+19])}function Me(t,e){return Ne(e[t.index])}function De(t,e){return t.data[e+19]}function Le(t,e){const n=e[t];return we(n)?n:n[0]}function je(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Fe(t){return 4==(4&t[2])}function Ve(t){return 128==(128&t[2])}function Ue(t,e){return null===t||null==e?null:t[e]}function Be(t){t[18]=0}const qe={lFrame:cn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ze(){return qe.bindingsEnabled}function He(){return qe.lFrame.lView}function $e(){return qe.lFrame.tView}function Ge(t){qe.lFrame.contextLView=t}function We(){return qe.lFrame.previousOrParentTNode}function Ke(t,e){qe.lFrame.previousOrParentTNode=t,qe.lFrame.isParent=e}function Qe(){return qe.lFrame.isParent}function Xe(){qe.lFrame.isParent=!1}function Ye(){return qe.checkNoChangesMode}function Ze(t){qe.checkNoChangesMode=t}function Je(){const t=qe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function tn(){return qe.lFrame.bindingIndex++}function en(t){const e=qe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nn(t,e){const n=qe.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function rn(){return qe.lFrame.currentQueryIndex}function on(t){qe.lFrame.currentQueryIndex=t}function sn(t,e){const n=un();qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function an(t,e){const n=un(),r=t[1];qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function un(){const t=qe.lFrame,e=null===t?null:t.child;return null===e?cn(t):e}function cn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function ln(){const t=qe.lFrame;return qe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const hn=ln;function dn(){const t=ln();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fn(){return qe.lFrame.selectedIndex}function pn(t){qe.lFrame.selectedIndex=t}function gn(){const t=qe.lFrame;return De(t.tView,t.selectedIndex)}function mn(){qe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function yn(){qe.lFrame.currentNamespace=null}function vn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function bn(t,e,n){En(t,e,3,n)}function _n(t,e,n,r){(3&t[2])===n&&En(t,e,n,r)}function wn(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function En(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Cn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Cn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,o.call(s)):o.call(s)}class kn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Tn(t,e,n){const r=Ae(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];xn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Sn(t){return 3===t||4===t||6===t}function xn(t){return 64===t.charCodeAt(0)}function On(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||In(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function In(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function An(t){return-1!==t}function Pn(t){return 32767&t}function Nn(t){return t>>16}function Rn(t,e){let n=Nn(t),r=e;for(;n>0;)r=r[15],n--;return r}function Mn(t){return"string"==typeof t?t:null==t?"":""+t}function Dn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Mn(t)}const Ln=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))();function jn(t){return t instanceof Function?t():t}let Fn=!0;function Vn(t){const e=Fn;return Fn=t,e}let Un=0;function Bn(t,e){const n=zn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,qn(r.data,t),qn(e,null),qn(r.blueprint,null));const i=Hn(t,e),o=t.injectorIndex;if(An(i)){const t=Pn(i),n=Rn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function qn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Hn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function $n(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Lt]:n.charCodeAt(0)||0;null==r&&(r=n[Lt]=Un++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Gn(t,e,n,r=st.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Lt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){sn(e,t);try{const t=i();if(null!=t||r&st.Optional)return t;throw new Error(`No provider for ${Dn(n)}!`)}finally{hn()}}else if("number"==typeof i){if(-1===i)return new Jn(t,e);let o=null,s=zn(t,e),a=-1,u=r&st.Host?e[16][6]:null;for((-1===s||r&st.SkipSelf)&&(a=-1===s?Hn(t,e):e[s+8],Zn(r,!1)?(o=e[1],s=Pn(a),e=Rn(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(Yn(i,s,t.data)){const t=Kn(s,e,n,o,r,u);if(t!==Wn)return t}Zn(r,e[1].data[s+8]===u)&&Yn(i,s,e)?(o=t,s=Pn(a),e=Rn(a,e)):s=-1}}}if(r&st.Optional&&void 0===i&&(i=null),0==(r&(st.Self|st.Host))){const t=e[9],o=$t(void 0);try{return t?t.get(n,i,r&st.Optional):Kt(n,i,r&st.Optional)}finally{$t(o)}}if(r&st.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Dn(n)}]`)}const Wn={};function Kn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Qn(a,s,n,null==r?ke(a)&&Fn:r!=s&&3===a.type,i&st.Host&&o===a);return null!==u?Xn(e,s,u,a):Wn}function Qn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,u=t.directiveStart,c=o>>16,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Se(t)&&t.type===n)return u}return null}function Xn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof kn){const s=i;if(s.resolving)throw new Error(`Circular dep for ${Dn(o[n])}`);const a=Vn(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=$t(s.injectImpl)),sn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:o}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&$t(u),Vn(a),s.resolving=!1,hn()}}return i}function Yn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Zn(t,e){return!(t&st.Self||t&st.Host&&e)}class Jn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Gn(this._tNode,this._lView,t,void 0,e)}}function tr(t){return tt(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Dt]||function t(e){const n=e;if(kt(e))return()=>{const e=t(Ct(n));return e?e():null};let r=be(n);if(null===r){const t=ft(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t})}function er(t){return t.ngDebugContext}function nr(t){return t.ngOriginalError}function rr(t,...e){t.error(...e)}class ir{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||rr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?er(t)?er(t):this._findContext(nr(t)):null}_findOriginalError(t){let e=nr(t);for(;e&&nr(e);)e=nr(e);return e}}class or{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class sr extends or{getTypeName(){return"HTML"}}class ar extends or{getTypeName(){return"Style"}}class ur extends or{getTypeName(){return"Script"}}class cr extends or{getTypeName(){return"URL"}}class lr extends or{getTypeName(){return"ResourceURL"}}function hr(t){return t instanceof or?t.changingThisBreaksApplicationSecurity:t}function dr(t,e){const n=fr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function fr(t){return t instanceof or&&t.getTypeName()||null}let pr=!0,gr=!1;function mr(){return gr=!0,pr}class yr{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const vr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _r(t){return(t=String(t)).match(vr)||t.match(br)?t:(mr()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function wr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Cr=wr("area,br,col,hr,img,wbr"),kr=wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tr=wr("rp,rt"),Sr=Er(Tr,kr),xr=Er(Cr,Er(kr,wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Er(Tr,wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sr),Or=wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ir=wr("srcset"),Ar=Er(Or,Ir,wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pr=wr("script,style,template");class Nr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!xr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Pr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Ar.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Or[o]&&(s=_r(s)),Ir[o]&&(r=s,s=(r=String(r)).split(",").map(t=>_r(t.trim())).join(", ")),this.buf.push(" ",e,'="',Dr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();xr.hasOwnProperty(e)&&!Cr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Dr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mr=/([^\#-~ |!])/g;function Dr(t){return t.replace(/&/g,"&amp;").replace(Rr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Mr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lr;function jr(t,e){let n=null;try{Lr=Lr||new yr(t);let r=e?String(e):"";n=Lr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Lr.getInertBodyElement(r)}while(r!==o);const s=new Nr,a=s.sanitizeChildren(Fr(n)||n);return mr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Fr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Fr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Vr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ur=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Br=/^url\(([^)]+)\)$/;function qr(t){const e=Hr();return e?e.sanitize(Vr.HTML,t)||"":dr(t,"HTML")?hr(t):jr(Ie(),Mn(t))}function zr(t){const e=Hr();return e?e.sanitize(Vr.URL,t)||"":dr(t,"URL")?hr(t):_r(Mn(t))}function Hr(){const t=He();return t&&t[12]}function $r(t,e){t.__ngContext__=e}function Gr(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function Wr(){throw new Error("Cannot mix multi providers and regular providers")}function Kr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Qr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Kr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Xr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Yr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Sn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Xr(t,u,n)||""===u&&1===e.length){if(Zr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Qr(t.attrs,c,n)){if(Zr(r))return!1;s=!0}continue}const l=Jr(8&r?"class":u,i,0==t.type&&"ng-template"!==t.tagName,n);if(-1===l){if(Zr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Kr(e,c,0)||2&r&&c!==t){if(Zr(r))return!1;s=!0}}}}else{if(!s&&!Zr(r)&&!Zr(u))return!1;if(s&&Zr(u))continue;s=!1,r=u|1&r}}return Zr(r)||s}function Zr(t){return 0==(1&t)}function Jr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function ti(t,e,n=!1){for(let r=0;r<e.length;r++)if(Yr(t,e[r],n))return!0;return!1}function ei(t,e){return t?":not("+e.trim()+")":e}function ni(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Zr(s)||(e+=ei(o,i),i=""),r=s,o=o||!Zr(r);n++}return""!==i&&(e+=ei(o,i)),e}const ri={};function ii(t){const e=t[3];return Ee(e)?e[3]:e}function oi(t){si($e(),He(),fn()+t,Ye())}function si(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&bn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_n(e,r,0,n)}pn(n)}function ai(t,e){return t<<17|e<<2}function ui(t){return t>>17&32767}function ci(t){return 2|t}function li(t){return(131068&t)>>2}function hi(t,e){return-131069&t|e<<2}function di(t){return 1|t}function fi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];on(i),n.contentQueries(2,e[o],o)}}}function pi(t,e,n){return Ae(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function gi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Be(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function mi(t,e,n,r,i,o){const s=n+19,a=t.data[s]||function(t,e,n,r,i,o){const s=We(),a=Qe(),u=a?s:s&&s.parent,c=t.data[n]=Si(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return Ke(a,!0),a}function yi(t,e,n){an(e,e[6]);try{const r=t.viewQuery;null!==r&&Qi(1,r,n);const i=t.template;null!==i&&_i(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fi(t,e),t.staticViewQueries&&Qi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Hi(t,e[n])}(e,o)}finally{e[2]&=-5,dn()}}function vi(t,e,n,r){const i=e[2];if(256==(256&i))return;an(e,e[6]);const o=Ye();try{Be(e),qe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&_i(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&bn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_n(e,n,0,null),wn(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Ee(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],r=n[1];Ve(n)&&vi(r,n,r.template,n[8])}0!=(1&n)&&qi(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&fi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&bn(e,n)}else{const n=t.contentHooks;null!==n&&_n(e,n,1),wn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,pn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(nn(r,i),s(2,e[i])),i++)}}}finally{pn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Qi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&bn(e,n)}else{const n=t.viewHooks;null!==n&&_n(e,n,2),wn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73)}finally{dn()}}function bi(t,e,n,r){const i=e[10],o=!Ye(),s=Fe(e);try{o&&!s&&i.begin&&i.begin(),s&&yi(t,e,r),vi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function _i(t,e,n,r,i){const o=fn();try{pn(-1),2&r&&e.length>19&&si(t,e,0,Ye()),n(r,i)}finally{pn(o)}}function wi(t,e,n){if(Ce(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ei(t,e,n){ze()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Bn(n,e),$r(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Se(r);o&&Fi(e,n,r);const u=Xn(e,t,a,n);$r(u,e),null!==s&&Vi(0,a-i,u,r,0,s),o&&(Le(n.index,e)[8]=u)}}(t,e,n,Me(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-19;try{pn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Ni(r,i):s&&o.push(null)}}finally{pn(-1)}}(t,e,n))}function Ci(t,e,n=Me){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ki(t){return t.tView||(t.tView=Ti(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Ti(t,e,n,r,i,o,s,a,u,c){const l=19+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ri);return n}(l,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c}}function Si(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Oi(t,e,n,r,i,o,s,a){const u=Me(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(to(t,n,c,r,i),ke(e)&&function(t,e){const n=Le(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Ae(o)?o.setProperty(u,r,i):xn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ii(t,e,n,r){let i=!1;if(ze()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ti(n,s.selectors,!1)&&(i||(i=[]),$n(Bn(n,e),t,s.type),Se(s)?(2&n.flags&&Gr(n),Mi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Li(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Ri(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=On(n.mergedAttrs,c.hostAttrs),ji(t,e,c),Di(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),u||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),u=!0),Ai(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],e=t.inputs;o.push(null!==i?Ui(e,i):null),s=xi(e,u,s),a=xi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Pi(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=On(n.mergedAttrs,n.attrs),i}function Ai(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Pi(t,e,n){for(let r=0;r<n;r++)e.push(ri),t.blueprint.push(ri),t.data.push(null)}function Ni(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ri(t,e,n){const r=19-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Mi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Se(e)&&(n[""]=t)}}function Li(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ji(t,e,n){t.data.push(n);const r=n.factory||(n.factory=be(n.type)),i=new kn(r,Se(n),null);t.blueprint.push(i),e.push(i)}function Fi(t,e,n){const r=Me(e,t),i=ki(n),o=t[10],s=$i(t,gi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function Vi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ui(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Bi(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function qi(t,e){const n=t[5];for(let r=0;r<n.length;r++){const t=n[r],i=t[3][3][16];if(i!==e&&0==(16&i[2])){const e=t[1];vi(e,t,e.template,t[8])}}}function zi(t,e){const n=Le(e,t);if(Ve(n)&&80&n[2]){const t=n[1];vi(t,n,t.template,n[8])}}function Hi(t,e){const n=Le(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),yi(r,n,n[8])}function $i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Gi(t){for(;t;){t[2]|=64;const e=ii(t);if(xe(t)&&!e)return t;t=e}return null}function Wi(t,e,n){const r=e[10];r.begin&&r.begin();try{vi(t,e,t.template,n)}catch(i){throw Ji(e,i),i}finally{r.end&&r.end()}}function Ki(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=je(n),i=r[1];bi(i,r,i.template,n)}}(t[8])}function Qi(t,e,n){on(0),e(t,n)}const Xi=(()=>Promise.resolve(null))();function Yi(t){return t[7]||(t[7]=[])}function Zi(t){return t.cleanup||(t.cleanup=[])}function Ji(t,e){const n=t[9],r=n?n.get(ir,null):null;r&&r.handleError(e)}function to(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function eo(t,e){const n=e[3];return-1===t.index?Ee(n)?n:null:n}function no(t,e){const n=eo(t,e);return n?go(e[11],n[7]):null}function ro(t,e,n,r,i){if(null!=r){let o,s=!1;Ee(r)?o=r:we(r)&&(s=!0,r=r[0]);const a=Ne(r);0===t&&null!==n?null==i?fo(e,n,a):ho(e,n,a,i||null):1===t&&null!==n?ho(e,n,a,i||null):2===t?function(t,e,n){const r=go(t,e);r&&function(t,e,n,r){Ae(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ne(n)&&ro(e,t,r,o,i);for(let s=9;s<n.length;s++){const i=n[s];_o(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function io(t,e,n,r){const i=no(t.node,e);i&&_o(t,e,e[11],n?1:2,i,r)}function oo(t,e){const n=t[5],r=n.indexOf(e);n.splice(r,1)}function so(t,e){if(t.length<=9)return;const n=9+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&oo(i,r),e>0&&(t[n-1][4]=r[4]);const o=ee(t,9+e);io(r[1],r,!1,null);const s=o[5];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ao(t,e){if(!(256&e[2])){const n=e[11];Ae(n)&&n.destroyNode&&_o(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return co(t[1],t);for(;e;){let n=null;if(we(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)we(e)&&co(e[1],e),e=uo(e,t);null===e&&(e=t),we(e)&&co(e[1],e),n=e&&e[4]}e=n}}(e)}}function uo(t,e){let n;return we(t)&&(n=t[6])&&2===n.type?eo(n,t):t[3]===e?null:t[3]}function co(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof kn||n[r+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Ne(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Ae(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Ee(e[3])){r!==e[3]&&oo(r,e);const n=e[5];null!==n&&n.detachView(t)}}}function lo(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?no(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Me(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ae.ShadowDom&&n!==ae.Native)return null}return Me(r,n)}function ho(t,e,n,r){Ae(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function fo(t,e,n){Ae(t)?t.appendChild(e,n):e.appendChild(n)}function po(t,e,n,r){null!==r?ho(t,e,n,r):fo(t,e,n)}function go(t,e){return Ae(t)?t.parentNode(e):e.parentNode}function mo(t,e){if(2===t.type){const n=eo(t,e);return null===n?null:vo(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Me(t,e):null}function yo(t,e,n,r){const i=lo(t,r,e);if(null!=i){const t=e[11],o=mo(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)po(t,i,n[e],o);else po(t,i,n,o)}}function vo(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Me(n,e);if(0===r)return vo(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Ee(t)?vo(-1,t):Ne(t)}}{const r=e[16],i=r[6],o=ii(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function bo(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&$r(Ne(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(bo(t,e,n.child,r,i,o,!1),ro(e,t,i,a,o)):1===u?wo(t,e,r,n,i,o):ro(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function _o(t,e,n,r,i,o){bo(n,r,t.node.child,e,i,o,!1)}function wo(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)ro(e,t,i,a[u],o);else bo(t,e,a,s[3],i,o,!0)}function Eo(t,e,n){Ae(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Co(t,e,n){Ae(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class ko{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Ne(s)),Ee(s))for(let e=9;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6],s=ii(e);let a=o.projection[r.projection];null!==a&&null!==s&&t(s[1],s,a,i,!0)}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ao(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,Yi(n=this._lView).push(r),e.firstCreatePass&&Zi(e).push(n[7].length-1,null)}markForCheck(){Gi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ze(!0);try{Wi(t,e,n)}finally{Ze(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,_o(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class To extends ko{constructor(t){super(t),this._view=t}detectChanges(){Ki(this._view)}checkNoChanges(){!function(t){Ze(!0);try{Ki(t)}finally{Ze(!1)}}(this._view)}get context(){return null}}let So,xo,Oo;function Io(t,e,n){return So||(So=class extends t{}),new So(Me(e,n))}function Ao(t,e,n,r){return xo||(xo=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=gi(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),yi(e,n,t);const i=new ko(n);return i._tViewNode=n[6],i}}),0===n.type?new xo(r,n,Io(e,n,r)):null}function Po(t,e,n,r){let i;Oo||(Oo=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Io(e,this._hostTNode,this._hostView)}get injector(){return new Jn(this._hostTNode,this._hostView)}get parentInjector(){const t=Hn(this._hostTNode,this._hostView),e=Rn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Nn(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return An(t)&&null!=n?new Jn(n,e):new Jn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Yt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ee(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Oo(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=9+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-9?(e[4]=n[i],te(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(s,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),io(r,n,!0,vo(i,this._lContainer)),t.attachToViewContainerRef(this),te(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=so(t,e);n&&ao(n[1],n)})(this._lContainer,e),ee(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=so(this._lContainer,e);return n&&null!=ee(this._lContainer[8],e)?new ko(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Ee(o))i=o,function(t,e){t[2]=-2}(i);else{let t;if(4===n.type)t=Ne(o);else if(t=r[11].createComment(""),xe(r)){const e=r[11],i=Me(n,r);ho(e,go(e,i),t,function(t,e){return Ae(t)?t.nextSibling(e):e.nextSibling}(e,i))}else yo(r[1],r,t,n);r[n.index]=i=Bi(o,r,t,n),$i(r,i)}return new Oo(i,n,r)}let No=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ro(),t})();const Ro=function(t=!1){return function(t,e,n){if(!n&&ke(t)){const n=Le(t.index,e);return new ko(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new ko(e[16],e):null}(We(),He(),t)},Mo=new jt("Set Injector scope."),Do={},Lo={},jo=[];let Fo=void 0;function Vo(){return void 0===Fo&&(Fo=new Xt),Fo}function Uo(t,e=null,n=null,r){return new Bo(t,n,e||Vo(),r)}class Bo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Jt(e,n=>this.processProvider(n,t,e)),Jt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ft,Ho(void 0,this));const o=this.records.get(Mo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:bt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Vt,n=st.Default){this.assertNotDestroyed();const r=Ht(this);try{if(!(n&st.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof jt)&&ht(t);e=n&&this.injectableDefInScope(n)?Ho(qo(t),Do):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&st.Self?Vo():this.parent).get(t,e=n&st.Optional&&e===Vt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(bt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):bt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ut,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Ht(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(bt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Ct(t)))return!1;let r=ft(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=ft(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Jt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Jt(r,t=>this.processProvider(t,n,r||jo))}}this.injectorDefTypes.add(o),this.records.set(o,Ho(r.factory,Do));const a=r.providers;if(null!=a&&!s){const e=t;Jt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Go(t=Ct(t))?t:Ct(t&&t.provide);const i=function(t,e,n){return $o(t)?Ho(void 0,t.useValue):Ho(zo(t,e,n),Do)}(t,e,n);if(Go(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Wr()}else{let e=this.records.get(r);e?void 0===e.multi&&Wr():(e=Ho(void 0,Do,!0),e.factory=()=>Qt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Lo?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(bt(t)):e.value===Do&&(e.value=Lo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function qo(t){const e=ht(t),n=null!==e?e.factory:be(t);if(null!==n)return n;const r=ft(t);if(null!==r)return r.factory;if(t instanceof jt)throw new Error(`Token ${bt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ne(e,"?");throw new Error(`Can't resolve all parameters for ${bt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[pt]||t[yt]||t[mt]&&t[mt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function zo(t,e,n){let r=void 0;if(Go(t)){const e=Ct(t);return be(e)||qo(e)}if($o(t))r=()=>Ct(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Qt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Wt(Ct(t.useExisting));else{const i=Ct(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${bt(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return be(i)||qo(i);r=()=>new i(...Qt(t.deps))}var i;return r}function Ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $o(t){return null!==t&&"object"==typeof t&&Bt in t}function Go(t){return"function"==typeof t}const Wo=function(t,e,n){return function(t,e=null,n=null,r){const i=Uo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ko=(()=>{class t{static create(t,e){return Array.isArray(t)?Wo(t,e,""):Wo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Vt,t.NULL=new Xt,t.\u0275prov=ct({token:t,providedIn:"any",factory:()=>Wt(Ft)}),t.__NG_ELEMENT_ID__=-1,t})();const Qo=new jt("AnalyzeForEntryComponents");let Xo=new Map;const Yo=new Set;function Zo(t){return"string"==typeof t?t:t.text()}function Jo(t,e){let n=t.styles,r=t.classes,i=0;for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?i=t:1==i?r=_t(r,t):2==i&&(n=_t(n,t+": "+e[++o]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let ts=null;function es(){if(!ts){const t=It.Symbol;if(t&&t.iterator)ts=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ts=n)}}}return ts}function ns(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function rs(t){return!!is(t)&&(Array.isArray(t)||!(t instanceof Map)&&es()in t)}function is(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function os(t,e,n){return t[e]=n}function ss(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function as(t,e,n,r){const i=He();return ss(i,tn(),e)&&($e(),function(t,e,n,r,i,o){const s=Me(t,e),a=e[11];if(null==r)Ae(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Mn(r):i(r,t.tagName||"",n);Ae(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(gn(),i,t,e,n,r)),as}function us(t,e,n,r){return ss(t,tn(),n)?e+Mn(n)+r:ri}function cs(t,e,n,r,i,o,s,a){const u=He(),c=$e(),l=t+19,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=mi(e,n[6],t,0,s||null,Ue(c,a));Ii(e,n,l,Ue(c,u)),vn(e,l);const h=l.tViews=Ti(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=Si(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];Ke(h,!1);const d=u[11].createComment("");yo(c,u,d,h),$r(d,u),$i(u,u[l]=Bi(d,u,d,h)),Te(h)&&Ei(c,u,h),null!=s&&Ci(u,h,a)}function ls(t){return function(t,e){return t[e+19]}(qe.lFrame.contextLView,t)}function hs(t,e=st.Default){const n=He();return null==n?Wt(t,e):Gn(We(),n,Ct(t),e)}function ds(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Sn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(We(),t)}function fs(){throw new Error("invalid")}function ps(t,e,n){const r=He();return ss(r,tn(),e)&&Oi($e(),gn(),r,t,e,r[11],n,!1),ps}function gs(t,e,n,r,i){const o=i?"class":"style";to(t,n,e.inputs[o],o,r)}function ms(t,e,n,r){const i=He(),o=$e(),s=19+t,a=i[11],u=i[s]=pi(e,a,qe.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Ue(a,o),c=mi(e,n[6],t,3,i,u);return Ii(e,n,c,Ue(a,s)),null!==c.mergedAttrs&&Jo(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];Ke(c,!0);const l=c.mergedAttrs;null!==l&&Tn(a,u,l);const h=c.classes;null!==h&&Co(a,u,h);const d=c.styles;null!==d&&Eo(a,u,d),yo(o,i,u,c),0===qe.lFrame.elementDepthCount&&$r(u,i),qe.lFrame.elementDepthCount++,Te(c)&&(Ei(o,i,c),wi(o,c,i)),null!==r&&Ci(i,c)}function ys(){let t=We();Qe()?Xe():(t=t.parent,Ke(t,!1));const e=t;qe.lFrame.elementDepthCount--;const n=$e();n.firstCreatePass&&(vn(n,t),Ce(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&gs(n,e,He(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&gs(n,e,He(),e.styles,!1)}function vs(t,e,n,r){ms(t,e,n,r),ys()}function bs(t,e,n){const r=He(),i=$e(),o=t+19,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ue(o,r),a=mi(e,n[6],t,4,"ng-container",s);return null!==s&&Jo(a,s),Ii(e,n,a,Ue(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];Ke(s,!0);const a=r[o]=r[11].createComment("");yo(i,r,a,s),$r(a,r),Te(s)&&(Ei(i,r,s),wi(i,s,r)),null!=n&&Ci(r,s)}function _s(){let t=We();const e=$e();Qe()?Xe():(t=t.parent,Ke(t,!1)),e.firstCreatePass&&(vn(e,t),Ce(t)&&e.queries.elementEnd(t))}function ws(t,e,n){bs(t,e,n),_s()}function Es(){return He()}function Cs(t){return!!t&&"function"==typeof t.then}function ks(t){return!!t&&"function"==typeof t.subscribe}function Ts(t,e,n=!1,r){const i=He(),o=$e(),s=We();return function(t,e,n,r,i,o,s=!1,a){const u=Te(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Yi(e);let h=!0;if(3===r.type){const d=Me(r,e),f=a?a(d):ue,p=f.target||d,g=l.length,m=a?t=>a(Ne(t[r.index])).target:r.index;if(Ae(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=xs(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=xs(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ts}function Ss(t,e,n){try{return!1!==e(n)}catch(r){return Ji(t,r),!1}}function xs(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Le(t.index,e):e;0==(32&e[2])&&Gi(s);let a=Ss(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Ss(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Os(t=1){return function(t){return(qe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qe.lFrame.contextLView))[8]}(t)}function Is(t,e,n){return As(t,"",e,"",n),Is}function As(t,e,n,r,i){const o=He(),s=us(o,e,n,r);return s!==ri&&Oi($e(),gn(),o,t,s,o[11],i,!1),As}const Ps=[];function Ns(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ui(o):li(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Rs(t[a],e)&&(u=!0,t[a+1]=r?di(n):ci(n)),a=r?ui(n):li(n)}u&&(t[n+1]=r?ci(o):di(o))}function Rs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&oe(t,e)>=0}const Ms={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ds(t){return t.substring(Ms.key,Ms.keyEnd)}function Ls(t,e){const n=Ms.textEnd;return n===e?-1:(e=Ms.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ms.key=e,n),js(t,e,n))}function js(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Fs(t,e,n){return qs(t,e,n,!1),Fs}function Vs(t,e){return qs(t,e,null,!0),Vs}function Us(t){!function(t,e,n,r){const i=$e(),o=en(2);i.firstUpdatePass&&Hs(i,null,o,!0);const s=He();if(n!==ri&&ss(s,o,n)){const r=i.data[fn()+19];if(Xs(r,!0)&&!zs(i,o)){let t=r.classes;null!==t&&(n=_t(t,n||"")),gs(i,r,s,n,!0)}else!function(t,e,n,r,i,o,s,a){i===ri&&(i=Ps);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let f=null,p=void 0;l===h?(u+=2,c+=2,s!==d&&(f=h,p=d)):null===h||null!==l&&l<h?(u+=2,f=l):(c+=2,f=h,p=d),null!==f&&Ws(t,e,n,r,f,p,!0,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,r,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Ps;const r=[],i=hr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(re,Bs,t)}function Bs(t,e){for(let n=function(t){return function(t){Ms.key=0,Ms.keyEnd=0,Ms.value=0,Ms.valueEnd=0,Ms.textEnd=t.length}(t),Ls(t,js(t,0,Ms.textEnd))}(e);n>=0;n=Ls(e,n))re(t,Ds(e),!0)}function qs(t,e,n,r){const i=He(),o=$e(),s=en(2);if(o.firstUpdatePass&&Hs(o,t,s,r),e!==ri&&ss(i,s,e)){let a;null==n&&(a=function(){const t=qe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),Ws(o,o.data[fn()+19],i,i[11],t,i[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=bt(hr(t)))),t}(e,n),r,s)}}function zs(t,e){return e>=t.expandoStartIndex}function Hs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[fn()+19],s=zs(t,n);Xs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Gs(n=$s(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=$s(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==li(r))return t[ui(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=$s(null,t,e,n[1],r),n=Gs(n,e.attrs,r),function(t,e,n,r){t[ui(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Gs(r,t[o].hostAttrs,n);return Gs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ui(s),u=li(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||oe(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ui(t[a+1]);t[r+1]=ai(e,a),0!==e&&(t[e+1]=hi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ai(a,0),0!==a&&(t[a+1]=hi(t[a+1],r)),a=r;else t[r+1]=ai(u,0),0===a?a=r:t[u+1]=hi(t[u+1],r),u=r;l&&(t[r+1]=ci(t[r+1])),Ns(t,c,r,!0),Ns(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&oe(o,e)>=0&&(n[r+1]=di(n[r+1]))}(e,c,t,r,o),s=ai(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function $s(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Gs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Gs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),re(t,s,!!n||e[++o]))}return void 0===t?null:t}function Ws(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,c=u[a+1];Qs(1==(1&c)?Ks(u,e,n,i,li(c),s):void 0)||(Qs(o)||function(t){return 2==(2&t)}(c)&&(o=Ks(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Ae(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,Re(fn(),n),i,o))}function Ks(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ri&&(l=c?Ps:void 0);let h=c?ie(l,r):u===r?l:void 0;if(o&&!Qs(h)&&(h=ie(e,r)),Qs(h)&&(a=h,s))return a;const d=t[i+1];i=s?ui(d):li(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ie(t,r))}return a}function Qs(t){return void 0!==t}function Xs(t,e){return 0!=(t.flags&(e?16:32))}function Ys(t,e=""){const n=He(),r=$e(),i=t+19,o=r.firstCreatePass?mi(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Ae(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);yo(r,n,s,o),Ke(o,!1)}function Zs(t){return Js("",t,""),Zs}function Js(t,e,n){const r=He(),i=us(r,t,e,n);return i!==ri&&function(t,e,n){const r=Re(e,t),i=t[11];Ae(i)?i.setValue(r,n):r.textContent=n}(r,fn(),i),Js}function ta(t,e,n){const r=He();return ss(r,tn(),e)&&Oi($e(),gn(),r,t,e,r[11],n,!0),ta}function ea(t,e,n){const r=He();if(ss(r,tn(),e)){const i=$e(),o=gn();Oi(i,o,r,t,e,function(t,e){return function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[t.index])[11]}(o,r),n,!0)}return ea}function na(t,e){const n=je(t)[1],r=n.data.length-1;vn(n,{directiveStart:r,directiveEnd:r+1})}function ra(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Se(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ia(t.inputs),e.declaredInputs=ia(t.declaredInputs),e.outputs=ia(t.outputs);const n=i.hostBindings;n&&aa(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&oa(t,o),s&&sa(t,s),ut(t.inputs,i.inputs),ut(t.declaredInputs,i.declaredInputs),ut(t.outputs,i.outputs),Se(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ra&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=On(i.hostAttrs,n=On(n,i.hostAttrs))}}(r)}function ia(t){return t===ue?{}:t===ce?[]:t}function oa(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function sa(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function aa(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class ua{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ca(t){t.type.prototype.ngOnChanges&&(t.setInput=la,t.onChanges=function(){const t=ha(this),e=t&&t.current;if(e){const n=t.previous;if(n===ue)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function la(t,e,n,r){const i=ha(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ue,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ua(u&&u.currentValue,e,s===ue),t[r]=e}function ha(t){return t.__ngSimpleChanges__||null}function da(t,e,n,r,i){if(t=Ct(t),Array.isArray(t))for(let o=0;o<t.length;o++)da(t[o],e,n,r,i);else{const o=$e(),s=He();let a=Go(t)?t:Ct(t.provide),u=zo(t);const c=We(),l=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(Go(t)||!t.multi){const r=new kn(u,i,hs),f=ga(a,e,i?l:l+d,h);-1===f?($n(Bn(c,s),o,a),fa(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=ga(a,e,l+d,h),p=ga(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){$n(Bn(c,s),o,a);const l=function(t,e,n,r,i){const o=new kn(t,n,hs);return o.multi=[],o.index=e,o.componentProviders=0,pa(o,i,r&&!n),o}(i?ya:ma,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),fa(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(l),s.push(l)}else fa(o,t,f>-1?f:p),pa(n[i?p:f],u,!i&&r);!i&&r&&m&&n[p].componentProviders++}}}function fa(t,e,n){if(Go(e)||e.useClass){const r=(e.useClass||e).prototype.ngOnDestroy;r&&(t.destroyHooks||(t.destroyHooks=[])).push(n,r)}}function pa(t,e,n){t.multi.push(e),n&&t.componentProviders++}function ga(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ma(t,e,n,r){return va(this.multi,[])}function ya(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Xn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),va(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],va(i,o);return o}function va(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ba(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=$e();if(r.firstCreatePass){const i=Se(t);da(n,r.data,r.blueprint,i,!0),da(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}ca.ngInherit=!0;class _a{}class wa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${bt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ea=(()=>{class t{}return t.NULL=new wa,t})(),Ca=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ka(t),t})();const ka=function(t){return Io(t,We(),He())};class Ta{}const Sa=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Oa(),t})();const Oa=function(){const t=He(),e=Le(We().index,t);return function(t){const e=t[11];if(Ae(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(we(e)?e:t)};let Ia=(()=>{class t{}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>null}),t})();class Aa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Pa=new Aa("9.0.7");class Na{constructor(){}supports(t){return rs(t)}create(t){return new Ma(t)}}const Ra=(t,e)=>e;class Ma{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ra}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Fa(n,r,i)?e:n,s=Fa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!rs(t))throw new Error(`Error trying to diff '${bt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&ns(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),ns(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[es()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&ns(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),ns(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(ns(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(ns(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Da(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ja),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ja),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Da{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class La{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&ns(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ja{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new La,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Va{constructor(){}supports(t){return t instanceof Map||is(t)}create(){return new Ua}}class Ua{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||is(t)))throw new Error(`Error trying to diff '${bt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ba(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){ns(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ba{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let qa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new t([new Na])}),t})(),za=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new t([new Va])}),t})();const Ha=[new Va],$a=new qa([new Na]),Ga=new za(Ha);let Wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ka(t,Ca),t})();const Ka=function(t,e){return Ao(t,e,We(),He())};let Qa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xa(t,Ca),t})();const Xa=function(t,e){return Po(t,e,We(),He())},Ya={};class Za extends Ea{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ve(t);return new eu(e,this.ngModule)}}function Ja(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const tu=new jt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ln});class eu extends _a{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ni).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ja(this.componentDef.inputs)}get outputs(){return Ja(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ya,i);return o!==Ya||r===Ya?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ta,Pe),s=i.get(Ia,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Ae(t))return t.selectRootElement(e,n===ae.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):pi(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:Ln,clean:Xi,playerHandler:null,flags:0},f=Ti(0,-1,null,1,0,null,null,null,null,null),p=gi(null,f,d,l,null,null,o,a,s,i);let g,m;an(p,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[19]=t;const a=mi(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Jo(a,u),null!==t&&(Tn(i,t,u),null!==a.classes&&Co(i,t,a.classes),null!==a.styles&&Eo(i,t,a.styles)));const c=r.createRenderer(t,e),l=gi(n,ki(e),null,e.onPush?64:16,n[19],a,r,c,void 0);return s.firstCreatePass&&($n(Bn(a,n),s,e.type),Mi(s,a),Li(a,n.length,1)),$i(n,l),n[19]=l}(c,this.componentDef,p,o,a);if(c)if(n)Tn(a,c,["ng-version",Pa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Zr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Tn(a,c,t),e&&e.length>0&&Co(a,c,e.join(" "))}m=De(p[1],0),e&&(m.projection=e.map(t=>Array.from(t))),g=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=We();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ri(t,r,1),ji(t,e,n));const i=Xn(e,t,e.length-1,r);$r(i,e);const o=Me(r,e);return o&&$r(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=We();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){pn(a.index-19);const t=n[1];Ai(t,e),Pi(t,n,e.hostVars),Ni(e,s)}return s}(t,this.componentDef,p,d,[na]),yi(f,p,null)}finally{dn()}const y=new nu(this.componentType,g,Io(Ca,m,p),p,m);return n&&!h||(y.hostView._tViewNode.child=m),y}}class nu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new To(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=Si(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new Jn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ru=void 0;var iu=["en",[["a","p"],["AM","PM"],ru],[["AM","PM"],ru,ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ru,"{1} 'at' {0}",ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ou={};function su(t){return t in ou||(ou[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),ou[t]}const au=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let uu="en-US";function cu(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(uu=t.toLowerCase().replace(/_/g,"-"))}const lu=new Map;class hu extends Yt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Za(this);const n=_e(t),r=t[Mt]||null;r&&cu(r),this._bootstrapComponents=jn(n.bootstrap),this._r3Injector=Uo(t,e,[{provide:Yt,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],bt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ko.THROW_IF_NOT_FOUND,n=st.Default){return t===Ko||t===Yt||t===Ft?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class du extends Zt{constructor(t){super(),this.moduleType=t,null!==_e(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${bt(e)} vs ${bt(e.name)}`)})(t,lu.get(t),e),lu.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new hu(this.moduleType,t)}}function fu(t,e,n){const r=Je()+t,i=He();return i[r]===ri?os(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function pu(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return ss(t,s,i)?os(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===ri?void 0:n}(t,s+1)}(He(),Je(),t,e,n,r)}class gu extends T{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}}function mu(){return this._results[es()]()}class yu{constructor(){this.dirty=!0,this._results=[],this.changes=new gu,this.length=0;const t=es(),e=yu.prototype;e[t]||(e[t]=mu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class vu{constructor(t){this.queryList=t,this.matches=null}clone(){return new vu(this.queryList)}setDirty(){this.queryList.setDirty()}}class bu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new bu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Pu(t,e).matches&&this.queries[e].setDirty()}}class _u{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class wu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new wu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Eu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Eu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Cu(e,n[r]))}else{const n=this.metadata.predicate;n===Wa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ca||r===Qa||r===Wa&&0===e.type)this.addMatch(e.index,-2);else{const n=Qn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Cu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ku(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Io(Ca,t,e):0===t.type?Ao(Wa,Ca,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ca?Io(Ca,e,t):n===Wa?Ao(Wa,Ca,e,t):n===Qa?Po(Qa,Ca,e,t):void 0}(t,e,r):Xn(t,t[1],n,e)}function Tu(t,e,n,r){const i=e[5].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:ku(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Su(t){const e=He(),n=$e(),r=rn();on(r+1);const i=Pu(n,r);if(t.dirty&&Fe(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Tu(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Tu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function xu(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Au(t,new _u(n,r,!1,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),Iu(t,e)}($e(),He(),e,n,r,0,We(),t)}function Ou(){return t=He(),e=rn(),t[5].queries[e].queryList;var t,e}function Iu(t,e){const n=new yu;!function(t,e,n,r){const i=Yi(e);i.push(n),t.firstCreatePass&&Zi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new bu),e[5].queries.push(new vu(n))}function Au(t,e,n){null===t.queries&&(t.queries=new wu),t.queries.track(new Eu(e,n))}function Pu(t,e){return t.queries.getByIndex(e)}function Nu(t,e){return Ao(Wa,Ca,t,e)}const Ru=new jt("Application Initializer");let Mu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Cs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ru,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Du=new jt("AppId"),Lu={provide:Du,useFactory:function(){return`${ju()}${ju()}${ju()}`},deps:[]};function ju(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fu=new jt("Platform Initializer"),Vu=new jt("Platform ID"),Uu=new jt("appBootstrapListener");let Bu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const qu=new jt("LocaleId"),zu=new jt("DefaultCurrencyCode");class Hu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const $u=function(t){return new du(t)},Gu=$u,Wu=function(t){return Promise.resolve($u(t))},Ku=function(t){const e=$u(t),n=jn(_e(t).declarations).reduce((t,e)=>{const n=ve(e);return n&&t.push(new eu(n)),t},[]);return new Hu(e,n)},Qu=Ku,Xu=function(t){return Promise.resolve(Ku(t))};let Yu=(()=>{class t{constructor(){this.compileModuleSync=Gu,this.compileModuleAsync=Wu,this.compileModuleAndAllComponentsSync=Qu,this.compileModuleAndAllComponentsAsync=Xu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Zu=new jt("compilerOptions"),Ju=(()=>Promise.resolve(0))();function tc(t){"undefined"==typeof Zone?Ju.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ec{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gu(!1),this.onMicrotaskEmpty=new gu(!1),this.onStable=new gu(!1),this.onError=new gu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=It.requestAnimationFrame,e=It.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.lastRequestAnimationFrameId=-1,oc(t),ic(t)}),oc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return sc(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),ac(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return sc(t),e.invoke(r,i,o,s,a)}finally{ac(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,oc(t),ic(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ec.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ec.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,rc,nc,nc);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function nc(){}const rc={};function ic(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function sc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ac(t){t._nesting--,ic(t)}class uc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gu,this.onMicrotaskEmpty=new gu,this.onStable=new gu,this.onError=new gu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let cc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ec.assertNotInAngularZone(),tc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Wt(ec))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),lc=(()=>{class t{constructor(){this._applications=new Map,fc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return fc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class hc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let dc,fc=new hc,pc=function(t,e,n){const r=new du(n);if(0===Xo.size)return Promise.resolve(r);const i=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(Zu,[]).concat(e).map(t=>t.providers));if(0===i.length)return Promise.resolve(r);const o=function(){const t=It.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),s=Ko.create({providers:i}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(s.get(t)))(t);n.set(t,e=r.then(Zo))}return e}return Xo.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){Yo.delete(t)}(n));e.push(u)}),Xo=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const gc=new jt("AllowMultipleToken");class mc{constructor(t,e){this.name=t,this.token=e}}function yc(t,e,n=[]){const r=`Platform: ${e}`,i=new jt(r);return(e=[])=>{let o=vc();if(!o||o.injector.get(gc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Mo,useValue:"platform"});!function(t){if(dc&&!dc.destroyed&&!dc.injector.get(gc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");dc=t.get(bc);const e=t.get(Fu,null);e&&e.forEach(t=>t())}(Ko.create({providers:t,name:r}))}return function(t){const e=vc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function vc(){return dc&&!dc.destroyed?dc:null}let bc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new uc:("zone.js"===t?void 0:t)||new ec({enableLongStackTrace:mr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:ec,useValue:n}];return n.run(()=>{const e=Ko.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(ir,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Ec(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Cs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Mu);return t.runInitializers(),t.donePromise.then(()=>(cu(i.injector.get(qu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=_c({},e);return pc(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(wc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${bt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ko))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function _c(t,e){return Array.isArray(e)?e.reduce(_c,t):Object.assign(Object.assign({},t),e)}let wc=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=mr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ec.assertNotInAngularZone(),tc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ec.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return x(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:$(e)(G(t,n))}(s,a.pipe(t=>{return W()((e=J,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Y);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof _a?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Yt),i=n.create(Ko.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(cc,null);return o&&i.injector.get(lc).registerApplication(i.location.nativeElement,o),this._loadComponent(i),mr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ec(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Uu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Ec(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Wt(ec),Wt(Bu),Wt(Ko),Wt(ir),Wt(Ea),Wt(Mu))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function Ec(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Cc{}class kc{}const Tc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Sc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Tc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>xc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>xc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Wt(Yu),Wt(kc,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function xc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Oc=yc(null,"core",[{provide:Vu,useValue:"unknown"},{provide:bc,deps:[Ko]},{provide:lc,deps:[]},{provide:Bu,deps:[]}]),Ic=[{provide:wc,useClass:wc,deps:[ec,Bu,Ko,ir,Ea,Mu]},{provide:tu,deps:[ec],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Mu,useClass:Mu,deps:[[new rt,Ru]]},{provide:Yu,useClass:Yu,deps:[]},Lu,{provide:qa,useFactory:function(){return $a},deps:[]},{provide:za,useFactory:function(){return Ga},deps:[]},{provide:qu,useFactory:function(t){return cu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new nt(qu),new rt,new ot]]},{provide:zu,useValue:"USD"}];let Ac=(()=>{class t{constructor(t){}}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Wt(wc))},providers:Ic}),t})();const Pc={apiKey:"AIzaSyAqsz0zr9FfEWldudfqytuLxc1r6hEml3Y",authDomain:"observationportal.firebaseapp.com",databaseURL:"https://observationportal.firebaseio.com",projectId:"observationportal",storageBucket:"observationportal.appspot.com",messagingSenderId:"158767815952",appId:"1:158767815952:web:fcb2fb9010ba1738ed5995",measurementId:"G-NFF1S8LD5S"};let Nc=null;function Rc(){return Nc}const Mc=new jt("DocumentToken");let Dc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:Lc,token:t,providedIn:"platform"}),t})();function Lc(){return Wt(Fc)}const jc=new jt("Location Initialized");let Fc=(()=>{class t extends Dc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Rc().getLocation(),this._history=Rc().getHistory()}getBaseHrefFromDOM(){return Rc().getBaseHref(this._doc)}onPopState(t){Rc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Rc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Vc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Vc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Wt(Mc))},t.\u0275prov=ct({factory:Uc,token:t,providedIn:"platform"}),t})();function Vc(){return!!window.history.pushState}function Uc(){return new Fc(Wt(Mc))}function Bc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function qc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function zc(t){return t&&"?"!==t[0]?"?"+t:t}let Hc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:$c,token:t,providedIn:"root"}),t})();function $c(t){const e=Wt(Mc).location;return new Wc(Wt(Dc),e&&e.origin||"")}const Gc=new jt("appBaseHref");let Wc=(()=>{class t extends Hc{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Bc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+zc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+zc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+zc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Wt(Dc),Wt(Gc,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Kc=(()=>{class t extends Hc{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Bc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+zc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+zc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Wt(Dc),Wt(Gc,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Qc=(()=>{class t{constructor(t,e){this._subject=new gu,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=qc(Yc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+zc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Yc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Wt(Hc),Wt(Dc))},t.normalizeQueryParams=zc,t.joinWithSlash=Bc,t.stripTrailingSlash=qc,t.\u0275prov=ct({factory:Xc,token:t,providedIn:"root"}),t})();function Xc(){return new Qc(Wt(Hc),Wt(Dc))}function Yc(t){return t.replace(/\/index.html$/,"")}const Zc=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}();class Jc{}let tl=(()=>{class t extends Jc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=su(e);if(n)return n;const r=e.split("-")[0];if(n=su(r),n)return n;if("en"===r)return iu;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[au.PluralCase]}(e||this.locale)(t)){case Zc.Zero:return"zero";case Zc.One:return"one";case Zc.Two:return"two";case Zc.Few:return"few";case Zc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Wt(qu))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function el(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let nl=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(rs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${bt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(hs(qa),hs(za),hs(Ca),hs(xa))},t.\u0275dir=ye({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class rl{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let il=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){mr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new rl(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ol(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new ol(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(hs(Qa),hs(Wa),hs(qa))},t.\u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ol{constructor(t,e){this.record=t,this.view=e}}let sl=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new al,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ul("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ul("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(hs(Qa),hs(Wa))},t.\u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class al{constructor(){this.$implicit=null,this.ngIf=null}}function ul(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${bt(e)}'.`)}let cl=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(hs(Qa))},t.\u0275dir=ye({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ca]}),t})(),ll=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[{provide:Jc,useClass:tl}]}),t})(),hl=(()=>{class t{}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new dl(Wt(Mc),window,Wt(ir))}),t})();class dl{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class fl extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new fl,Nc||(Nc=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=gl||(gl=document.querySelector("base"),gl)?gl.getAttribute("href"):null;return null==e?null:(n=e,pl||(pl=document.createElement("a")),pl.setAttribute("href",n),"/"===pl.pathname.charAt(0)?pl.pathname:"/"+pl.pathname);var n}resetBaseElement(){gl=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return el(document.cookie,t)}}let pl,gl=null;const ml=new jt("TRANSITION_ID"),yl=[{provide:Ru,useFactory:function(t,e,n){return()=>{n.get(Mu).donePromise.then(()=>{const n=Rc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[ml,Mc,Ko],multi:!0}];class vl{static init(){var t;t=new vl,fc=t}addToWindow(t){It.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},It.getAllAngularTestabilities=()=>t.getAllTestabilities(),It.getAllAngularRootElements=()=>t.getAllRootElements(),It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push(t=>{const e=It.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Rc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const bl=new jt("EventManagerPlugins");let _l=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Wt(bl),Wt(ec))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class wl{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Rc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let El=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Cl=(()=>{class t extends El{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Rc().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Wt(Mc))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const kl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tl=/%COMP%/g;function Sl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Sl(t,i,n):(i=i.replace(Tl,t),n.push(i))}return n}function xl(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ol=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Il(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ae.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Al(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ae.Native:case ae.ShadowDom:return new Pl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Sl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Wt(_l),Wt(Cl),Wt(Du))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class Il{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(kl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=kl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=kl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Sa.DashCase?t.style.setProperty(e,n,r&Sa.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Sa.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,xl(n)):this.eventManager.addEventListener(t,e,xl(n))}}class Al extends Il{constructor(t,e,n,r){super(t),this.component=n;const i=Sl(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Tl,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Tl,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Pl extends Il{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ae.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Sl(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Nl=(()=>{class t extends wl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Mc))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Rl=["alt","control","meta","shift"],Ml={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ll={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let jl=(()=>{class t extends wl{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rc().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Rl.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Dl.hasOwnProperty(e)&&(e=Dl[e]))}return Ml[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Rl.forEach(r=>{r!=n&&(0,Ll[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Wt(Mc))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Fl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return Wt(Vl)},token:t,providedIn:"root"}),t})(),Vl=(()=>{class t extends Fl{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Vr.NONE:return e;case Vr.HTML:return dr(e,"HTML")?hr(e):jr(this._doc,String(e));case Vr.STYLE:return dr(e,"Style")?hr(e):function(t){if(!(t=String(t).trim()))return"";const e=t.match(Br);return e&&_r(e[1])===e[1]||t.match(Ur)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(mr()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e);case Vr.SCRIPT:if(dr(e,"Script"))return hr(e);throw new Error("unsafe value used in a script context");case Vr.URL:return fr(e),dr(e,"URL")?hr(e):_r(String(e));case Vr.RESOURCE_URL:if(dr(e,"ResourceURL"))return hr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new sr(t)}bypassSecurityTrustStyle(t){return new ar(t)}bypassSecurityTrustScript(t){return new ur(t)}bypassSecurityTrustUrl(t){return new cr(t)}bypassSecurityTrustResourceUrl(t){return new lr(t)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Mc))},t.\u0275prov=ct({factory:function(){return t=Wt(Ft),new Vl(t.get(Mc));var t},token:t,providedIn:"root"}),t})();const Ul=yc(Oc,"browser",[{provide:Vu,useValue:"browser"},{provide:Fu,useValue:function(){fl.makeCurrent(),vl.init()},multi:!0},{provide:Mc,useFactory:function(){return function(t){Oe=t}(document),document},deps:[]}]),Bl=[[],{provide:Mo,useValue:"root"},{provide:ir,useFactory:function(){return new ir},deps:[]},{provide:bl,useClass:Nl,multi:!0,deps:[Mc,ec,Vu]},{provide:bl,useClass:jl,multi:!0,deps:[Mc]},[],{provide:Ol,useClass:Ol,deps:[_l,Cl,Du]},{provide:Ta,useExisting:Ol},{provide:El,useExisting:Cl},{provide:Cl,useClass:Cl,deps:[Mc]},{provide:cc,useClass:cc,deps:[ec]},{provide:_l,useClass:_l,deps:[bl,ec]},[]];let ql=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Du,useValue:e.appId},{provide:ml,useExisting:Du},yl]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Wt(t,12))},providers:Bl,imports:[ll,Ac]}),t})();function zl(...t){let e=t[t.length-1];return x(e)?(t.pop(),U(t,e)):G(t)}"undefined"!=typeof window&&window;class Hl extends T{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}next(t){super.next(this._value=t)}}const $l=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Gl={};class Wl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Kl(t,this.resultSelector))}}class Kl extends L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Gl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(D(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Gl?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ql=new _(t=>t.complete());function Xl(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):Ql}function Yl(t){return new _(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?B(n):Xl()).subscribe(e)})}function Zl(){return $(1)}function Jl(t,e){return function(n){return n.lift(new th(t,e))}}class th{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new eh(t,this.predicate,this.thisArg))}}class eh extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const nh=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function rh(t){return function(e){return 0===t?Xl():e.lift(new ih(t))}}class ih{constructor(t){if(this.total=t,this.total<0)throw new nh}call(t,e){return e.subscribe(new oh(t,this.total))}}class oh extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function sh(t=ch){return e=>e.lift(new ah(t))}class ah{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new uh(t,this.errorFactory))}}class uh extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function ch(){return new $l}function lh(t=null){return e=>e.lift(new hh(t))}class hh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new dh(t,this.defaultValue))}}class dh extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function fh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jl((e,n)=>t(e,n,r)):y,rh(1),n?lh(e):sh(()=>new $l))}function ph(t){return function(e){const n=new gh(t),r=e.lift(n);return n.caught=r}}class gh{constructor(t){this.selector=t}call(t,e){return e.subscribe(new mh(t,this.selector,this.caught))}}class mh extends L{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new O(this,void 0,void 0);this.add(r);const i=D(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function yh(t){return e=>0===t?Xl():e.lift(new vh(t))}class vh{constructor(t){if(this.total=t,this.total<0)throw new nh}call(t,e){return e.subscribe(new bh(t,this.total))}}class bh extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function _h(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jl((e,n)=>t(e,n,r)):y,yh(1),n?lh(e):sh(()=>new $l))}class wh{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Eh(t,this.predicate,this.thisArg,this.source))}}class Eh extends p{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ch(t,e){return"function"==typeof e?n=>n.pipe(Ch((n,r)=>B(t(n,r)).pipe(j((t,i)=>e(n,t,r,i))))):e=>e.lift(new kh(t))}class kh{constructor(t){this.project=t}call(t,e){return e.subscribe(new Th(t,this.project))}}class Th extends L{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new O(this,e,n),o=this.destination;o.add(i),this.innerSubscription=D(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Sh(...t){return Zl()(zl(...t))}function xh(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Oh(t,e,n))}}class Oh{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ih(t,this.accumulator,this.seed,this.hasSeed))}}class Ih extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ah(t,e){return q(t,e,1)}function Ph(){}function Nh(t,e,n){return function(r){return r.lift(new Rh(t,e,n))}}class Rh{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Mh(t,this.nextOrObserver,this.error,this.complete))}}class Mh extends p{constructor(t,e,n,i){super(t),this._tapNext=Ph,this._tapError=Ph,this._tapComplete=Ph,this._tapError=n||Ph,this._tapComplete=i||Ph,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Ph,this._tapError=e.error||Ph,this._tapComplete=e.complete||Ph)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Dh{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Lh(t,this.callback))}}class Lh extends p{constructor(t,e){super(t),this.add(new h(e))}}class jh{constructor(t,e){this.id=t,this.url=e}}class Fh extends jh{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vh extends jh{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Uh extends jh{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bh extends jh{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qh extends jh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zh extends jh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hh extends jh{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $h extends jh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gh extends jh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jh{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let td=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&vs(0,"router-outlet")},directives:function(){return[sp]},encapsulation:2}),t})();class ed{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function nd(t){return new ed(t)}function rd(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function id(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class od{constructor(t,e){this.routes=t,this.module=e}}function sd(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ad(r,ud(e,r))}}function ad(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&sd(t.children,e)}function ud(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function cd(t){const e=t.children&&t.children.map(cd),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=td),n}function ld(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!hd(t[i],e[i]))return!1;return!0}function hd(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function dd(t){return Array.prototype.concat.apply([],t)}function fd(t){return t.length>0?t[t.length-1]:null}function pd(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function gd(t){return ks(t)?t:Cs(t)?B(Promise.resolve(t)):zl(t)}function md(t,e,n){return n?function(t,e){return ld(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!_d(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>hd(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!_d(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!_d(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!_d(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class yd{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nd(this.queryParams)),this._queryParamMap}toString(){return kd.serialize(this)}}class vd{constructor(t,e){this.segments=t,this.children=e,this.parent=null,pd(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Td(this)}}class bd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=nd(this.parameters)),this._parameterMap}toString(){return Pd(this)}}function _d(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function wd(t,e){let n=[];return pd(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),pd(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Ed{}class Cd{parse(t){const e=new Ld(t);return new yd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Td(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return pd(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=wd(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${Td(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${xd(e)}=${xd(t)}`).join("&"):`${xd(e)}=${xd(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const kd=new Cd;function Td(t){return t.segments.map(t=>Pd(t)).join("/")}function Sd(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xd(t){return Sd(t).replace(/%3B/gi,";")}function Od(t){return Sd(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Id(t){return decodeURIComponent(t)}function Ad(t){return Id(t.replace(/\+/g,"%20"))}function Pd(t){return`${Od(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Od(t)}=${Od(e[t])}`).join("")}`;var e}const Nd=/^[^\/()?;=#]+/;function Rd(t){const e=t.match(Nd);return e?e[0]:""}const Md=/^[^=?&#]+/,Dd=/^[^?&#]+/;class Ld{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vd([],{}):new vd([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new vd(t,e)),n}parseSegment(){const t=Rd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new bd(Id(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Rd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Rd(this.remaining);t&&(n=t,this.capture(n))}t[Id(e)]=Id(n)}parseQueryParam(t){const e=function(t){const e=t.match(Md);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Dd);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ad(e),i=Ad(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Rd(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new vd([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class jd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Fd(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Fd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Vd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Vd(t,this._root).map(t=>t.value)}}function Fd(t,e){if(t===e.value)return e;for(const n of e.children){const e=Fd(t,n);if(e)return e}return null}function Vd(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Vd(t,n);if(r.length)return r.unshift(e),r}return[]}class Ud{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bd(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class qd extends jd{constructor(t,e){super(t),this.snapshot=e,Kd(this,t)}toString(){return this.snapshot.toString()}}function zd(t,e){const n=function(t,e){const n=new Gd([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Wd("",new Ud(n,[]))}(t,e),r=new Hl([new bd("",{})]),i=new Hl({}),o=new Hl({}),s=new Hl({}),a=new Hl(""),u=new Hd(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new qd(new Ud(u,[]),n)}class Hd{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(j(t=>nd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(t=>nd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $d(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gd{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wd extends jd{constructor(t,e){super(e),this.url=t,Kd(this,e)}toString(){return Qd(this._root)}}function Kd(t,e){e.value._routerState=t,e.children.forEach(e=>Kd(t,e))}function Qd(t){const e=t.children.length>0?` { ${t.children.map(Qd).join(", ")} } `:"";return`${t.value}${e}`}function Xd(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ld(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ld(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ld(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ld(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Yd(t,e){var n,r;return ld(t.params,e.params)&&_d(n=t.url,r=e.url)&&n.every((t,e)=>ld(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Yd(t.parent,e.parent))}function Zd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Jd(t,e,n,r,i){let o={};return r&&pd(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new yd(n.root===t?e:function t(e,n,r){const i={};return pd(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new vd(e.segments,i)}(n.root,t,e),o,i)}class tf{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Zd(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==fd(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ef{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function nf(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function rf(t,e,n){if(t||(t=new vd([],{})),0===t.segments.length&&t.hasChildren())return of(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=nf(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!cf(s,a,e))return o;r+=2}else{if(!cf(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new vd(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new vd(t.segments.slice(r.pathIndex),t.children),of(e,0,i)}return r.match&&0===i.length?new vd(t.segments,{}):r.match&&!t.hasChildren()?sf(t,e,n):r.match?of(t,0,i):sf(t,e,n)}function of(t,e,n){if(0===n.length)return new vd(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return pd(r,(n,r)=>{null!==n&&(i[r]=rf(t.children[r],e,n))}),pd(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new vd(t.segments,i)}}function sf(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=af(n[i].outlets);return new vd(r,t)}if(0===i&&Zd(n[0])){r.push(new bd(t.segments[e].path,n[0])),i++;continue}const o=nf(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Zd(s)?(r.push(new bd(o,uf(s))),i+=2):(r.push(new bd(o,{})),i++)}return new vd(r,{})}function af(t){const e={};return pd(t,(t,n)=>{null!==t&&(e[n]=sf(new vd([],{}),0,t))}),e}function uf(t){const e={};return pd(t,(t,n)=>e[n]=`${t}`),e}function cf(t,e,n){return t==n.path&&ld(e,n.parameters)}class lf{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Xd(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Bd(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),pd(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Bd(t),i=t.value.component?n.children:e;pd(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Bd(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Zh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Xh(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Xd(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),hf(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function hf(t){Xd(t.value),t.children.forEach(hf)}function df(t){return"function"==typeof t}function ff(t){return t instanceof yd}class pf{constructor(t){this.segmentGroup=t||null}}class gf{constructor(t){this.urlTree=t}}function mf(t){return new _(e=>e.error(new pf(t)))}function yf(t){return new _(e=>e.error(new gf(t)))}function vf(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class bf{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Yt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(j(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ph(t=>{if(t instanceof gf)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof pf)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(j(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ph(t=>{if(t instanceof pf)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new vd([],{primary:t}):t;return new yd(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(j(t=>new vd([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return zl({});const n=[],r=[],i={};return pd(t,(t,o)=>{const s=e(o,t).pipe(j(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),zl.apply(null,n.concat(r)).pipe(Zl(),fh(),j(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return zl(...n).pipe(j(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ph(t=>{if(t instanceof pf)return zl(null);throw t}))),Zl(),_h(t=>!!t),ph((t,n)=>{if(t instanceof $l||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return zl(new vd([],{}));throw new pf(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Cf(r)!==o?mf(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):mf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yf(i):this.lineralizeSegments(n,i).pipe(q(n=>{const i=new vd(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=_f(e,r,i);if(!s)return mf(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?yf(l):this.lineralizeSegments(r,l).pipe(q(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(j(t=>(n._loadedConfig=t,new vd(r,{})))):zl(new vd(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=_f(e,n,r);if(!i)return mf(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(q(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ef(t,e,n)&&"primary"!==Cf(n))}(t,n,r)?{segmentGroup:wf(new vd(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Cf(r)&&(n[Cf(r)]=new vd([],{}));return n}(r,new vd(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ef(t,e,n))}(t,n,r)?{segmentGroup:wf(new vd(t.segments,function(t,e,n,r){const i={};for(const o of n)Ef(t,e,o)&&!r[Cf(o)]&&(i[Cf(o)]=new vd([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(j(t=>new vd(o,t))):0===r.length&&0===s.length?zl(new vd(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(j(t=>new vd(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?zl(new od(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?zl(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?B(r).pipe(j(r=>{const i=t.get(r);let o;if(function(t){return t&&df(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!df(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return gd(o)})).pipe(Zl(),(i=t=>!0===t,t=>t.lift(new wh(i,void 0,t)))):zl(!0);var i}(t.injector,e,n).pipe(q(n=>n?this.configLoader.load(t.injector,e).pipe(j(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(rd(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):zl(new od([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return zl(n);if(r.numberOfChildren>1||!r.children.primary)return vf(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new yd(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return pd(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return pd(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new vd(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function _f(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||id)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function wf(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new vd(t.segments.concat(e.segments),e.children)}return t}function Ef(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Cf(t){return t.outlet||"primary"}class kf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Tf{constructor(t,e){this.component=t,this.route=e}}function Sf(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bd(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_d(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_d(t.url,e.url)||!ld(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yd(t,e)||!ld(t.queryParams,e.queryParams);case"paramsChange":default:return!Yd(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new kf(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Tf(u&&u.outlet&&u.outlet.component||null,a))}else a&&Of(n,u,o),o.canActivateChecks.push(new kf(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),pd(s,(t,e)=>Of(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function xf(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Of(t,e,n){const r=Bd(t),i=t.value;pd(r,(t,r)=>{Of(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Tf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const If=Symbol("INITIAL_VALUE");function Af(){return Ch(t=>function(...t){let e=null,n=null;return x(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),G(t,n).lift(new Wl(e))}(...t.map(t=>t.pipe(yh(1),function(...t){const e=t[t.length-1];return x(e)?(t.pop(),n=>Sh(t,n,e)):e=>Sh(t,e)}(If)))).pipe(xh((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==If)return t;if(r===If&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ff(r))return r}return t},t)},If),Jl(t=>t!==If),j(t=>ff(t)?t:!0===t),yh(1)))}function Pf(t,e){return null!==t&&e&&e(new Yh(t)),zl(!0)}function Nf(t,e){return null!==t&&e&&e(new Qh(t)),zl(!0)}function Rf(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?zl(r.map(r=>Yl(()=>{const i=xf(r,e,n);let o;if(function(t){return t&&df(t.canActivate)}(i))o=gd(i.canActivate(e,t));else{if(!df(i))throw new Error("Invalid CanActivate guard");o=gd(i(e,t))}return o.pipe(_h())}))).pipe(Af()):zl(!0)}function Mf(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Yl(()=>zl(e.guards.map(i=>{const o=xf(i,e.node,n);let s;if(function(t){return t&&df(t.canActivateChild)}(o))s=gd(o.canActivateChild(r,t));else{if(!df(o))throw new Error("Invalid CanActivateChild guard");s=gd(o(r,t))}return s.pipe(_h())})).pipe(Af())));return zl(i).pipe(Af())}class Df{}class Lf{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Vf(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Gd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ud(n,e),i=new Wd(this.url,r);return this.inheritParamsAndData(i._root),zl(i)}catch(t){return new _(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=$d(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=wd(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Df))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Df}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Df;if((t.outlet||"primary")!==r)throw new Df;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?fd(n).parameters:{};i=new Gd(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qf(t),r,t.component,t,jf(e),Ff(e)+n.length,zf(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Df;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||id)(n,t,e);if(!r)throw new Df;const i={};pd(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Gd(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qf(t),r,t.component,t,jf(e),Ff(e)+o.length,zf(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Vf(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Ud(i,t)]}if(0===a.length&&0===c.length)return[new Ud(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Ud(i,l)]}}function jf(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ff(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Vf(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Uf(t,e,n)&&"primary"!==Bf(n))}(t,n,r)){const i=new vd(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Bf(o)){const n=new vd([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Bf(o)]=n}return i}(t,e,r,new vd(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Uf(t,e,n))}(t,n,r)){const o=new vd(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Uf(t,n,a)&&!i[Bf(a)]){const n=new vd([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Bf(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new vd(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Uf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Bf(t){return t.outlet||"primary"}function qf(t){return t.data||{}}function zf(t){return t.resolve||{}}function Hf(t,e,n,r){const i=xf(t,e,r);return gd(i.resolve?i.resolve(e,n):i(e,n))}function $f(t){return function(e){return e.pipe(Ch(e=>{const n=t(e);return n?B(n).pipe(j(()=>e)):B([e])}))}}class Gf{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Wf=new jt("ROUTES");class Kf{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(j(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new od(dd(r.injector.get(Wf)).map(cd),r)}))}loadModuleFactory(t){return"string"==typeof t?B(this.loader.load(t)):gd(t()).pipe(q(t=>t instanceof Zt?zl(t):B(this.compiler.compileModuleAsync(t))))}}class Qf{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Xf(t){throw t}function Yf(t,e,n){return e.parse("/")}function Zf(t,e){return zl(null)}let Jf=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=Xf,this.malformedUriErrorHandler=Yf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zf,afterPreactivation:Zf},this.urlHandlingStrategy=new Qf,this.routeReuseStrategy=new Gf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Yt),this.console=i.get(Bu);const u=i.get(ec);this.isNgZoneEnabled=u instanceof ec,this.resetConfig(a),this.currentUrlTree=new yd(new vd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kf(o,s,t=>this.triggerEvent(new Wh(t)),t=>this.triggerEvent(new Kh(t))),this.routerState=zd(this.currentUrlTree,this.rootComponentType),this.transitions=new Hl({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Jl(t=>0!==t.id),j(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ch(t=>{let n=!1,r=!1;return zl(t).pipe(Nh(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ch(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return zl(t).pipe(Ch(t=>{const n=this.transitions.getValue();return e.next(new Fh(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ql:[t]}),Ch(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Ch(t=>function(t,e,n,r,i){return new bf(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(j(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Nh(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(q(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Lf(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(j(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Nh(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Nh(t=>{const n=new qh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Fh(n,this.serializeUrl(r),i,o);e.next(a);const u=zd(r,this.rootComponentType).snapshot;return zl(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ql}),$f(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Nh(t=>{const e=new zh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),j(t=>Object.assign(Object.assign({},t),{guards:Sf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(q(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?zl(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return B(t).pipe(q(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?zl(o.map(o=>{const s=xf(o,e,i);let a;if(function(t){return t&&df(t.canDeactivate)}(s))a=gd(s.canDeactivate(t,e,n,r));else{if(!df(s))throw new Error("Invalid CanDeactivate guard");a=gd(s(t,e,n,r))}return a.pipe(_h())})).pipe(Af()):zl(!0)}(t.component,t.route,n,e,r)),_h(t=>!0!==t,!0))}(s,r,i,t).pipe(q(n=>n&&"boolean"==typeof n?function(t,e,n,r){return B(e).pipe(Ah(e=>B([Nf(e.route.parent,r),Pf(e.route,r),Mf(t,e.path,n),Rf(t,e.route,n)]).pipe(Zl(),_h(t=>!0!==t,!0))),_h(t=>!0!==t,!0))}(r,o,t,e):zl(n)),j(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Nh(t=>{if(ff(t.guardsResult)){const e=rd(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Nh(t=>{const e=new Hh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Jl(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Uh(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),$f(t=>{if(t.guards.canActivateChecks.length)return zl(t).pipe(Nh(t=>{const e=new $h(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(q(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?B(i).pipe(Ah(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return zl({});if(1===i.length){const o=i[0];return Hf(t[o],e,n,r).pipe(j(t=>({[o]:t})))}const o={};return B(i).pipe(q(i=>Hf(t[i],e,n,r).pipe(j(t=>(o[i]=t,t))))).pipe(fh(),j(()=>o))}(t._resolve,t,e,r).pipe(j(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),$d(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return v(xh(t,e),rh(1),lh(e))(n)}:function(e){return v(xh((e,n,r)=>t(e,n,r+1)),rh(1))(e)}}((t,e)=>t),j(e=>t)):zl(t)}))}),Nh(t=>{const e=new Gh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),$f(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),j(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Ud(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Hd(new Hl((i=n.value).url),new Hl(i.params),new Hl(i.queryParams),new Hl(i.fragment),new Hl(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Ud(r,o)}}var i}(t,e._root,n?n._root:void 0);return new qd(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Nh(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),j(t=>(new lf(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Nh({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Uh(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Dh(i))),ph(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ff(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Uh(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Bh(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Ql}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){sd(t),this.config=t.map(cd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;mr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Jd(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new tf(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return pd(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new tf(n,e,r)}(n);if(o.toRoot())return Jd(e.root,new vd([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ef(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ef(n.snapshot._urlSegment,!0,0);const r=Zd(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ef(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?of(s.segmentGroup,s.index,o.commands):rf(s.segmentGroup,s.index,o.commands);return Jd(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){mr()&&this.isNgZoneEnabled&&!ec.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ff(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ff(t))return md(this.currentUrlTree,t,e);const n=this.parseUrl(t);return md(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Vh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){fs()},t.\u0275dir=ye({type:t}),t})(),tp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){mr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:np(this.skipLocationChange),replaceUrl:np(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:np(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:np(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(hs(Jf),hs(Hd),ds("tabindex"),hs(xa),hs(Ca))},t.\u0275dir=ye({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Ts("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),ep=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Vh&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){mr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:np(this.skipLocationChange),replaceUrl:np(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:np(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:np(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(hs(Jf),hs(Hd),hs(Hc))},t.\u0275dir=ye({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Ts("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(ta("href",e.href,zr),as("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ca]}),t})();function np(t){return""===t||!!t}let rp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof Vh&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(hs(Jf),hs(Ca),hs(xa),hs(tp,8),hs(ep,8))},t.\u0275dir=ye({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(xu(n,tp,!0),xu(n,ep,!0)),2&t&&(Su(r=Ou())&&(e.links=r),Su(r=Ou())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ca]}),t})();class ip{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new op,this.attachRef=null}}class op{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ip,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let sp=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new gu,this.deactivateEvents=new gu,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ap(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(hs(op),hs(Qa),hs(Ea),ds("name"),hs(No))},t.\u0275dir=ye({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ap{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Hd?this.route:t===op?this.childContexts:this.parent.get(t,e)}}class up{}class cp{preload(t,e){return zl(null)}}let lp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Kf(e,n,e=>t.triggerEvent(new Wh(e)),e=>t.triggerEvent(new Kh(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jl(t=>t instanceof Vh),Ah(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Yt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return B(n).pipe($(),j(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Wt(Jf),Wt(Cc),Wt(Yu),Wt(Ko),Wt(up))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),hp=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Jh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Jh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){fs()},t.\u0275dir=ye({type:t}),t})();const dp=new jt("ROUTER_CONFIGURATION"),fp=new jt("ROUTER_FORROOT_GUARD"),pp=[Qc,{provide:Ed,useClass:Cd},{provide:Jf,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new Jf(null,t,e,n,r,i,o,dd(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=Rc();l.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[Ed,op,Qc,Ko,Cc,Yu,Wf,dp,[class{},new rt],[class{},new rt]]},op,{provide:Hd,useFactory:function(t){return t.routerState.root},deps:[Jf]},{provide:Cc,useClass:Sc},lp,cp,class{preload(t,e){return e().pipe(ph(()=>zl(null)))}},{provide:dp,useValue:{enableTracing:!1}}];function gp(){return new mc("Router",Jf)}let mp=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[pp,_p(e),{provide:fp,useFactory:bp,deps:[[Jf,new rt,new ot]]},{provide:dp,useValue:n||{}},{provide:Hc,useFactory:vp,deps:[Dc,[new nt(Gc),new rt],dp]},{provide:hp,useFactory:yp,deps:[Jf,hl,dp]},{provide:up,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:cp},{provide:mc,multi:!0,useFactory:gp},[wp,{provide:Ru,multi:!0,useFactory:Ep,deps:[wp]},{provide:kp,useFactory:Cp,deps:[wp]},{provide:Uu,multi:!0,useExisting:kp}]]}}static forChild(e){return{ngModule:t,providers:[_p(e)]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Wt(fp,8),Wt(Jf,8))}}),t})();function yp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new hp(t,e,n)}function vp(t,e,n={}){return n.useHash?new Kc(t,e):new Wc(t,e)}function bp(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function _p(t){return[{provide:Qo,multi:!0,useValue:t},{provide:Wf,multi:!0,useValue:t}]}let wp=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new T}appInitializer(){return this.injector.get(jc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Jf),r=this.injector.get(dp);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?zl(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(dp),n=this.injector.get(lp),r=this.injector.get(hp),i=this.injector.get(Jf),o=this.injector.get(wc);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ko))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function Ep(t){return t.appInitializer.bind(t)}function Cp(t){return t.bootstrapListener.bind(t)}const kp=new jt("Router Initializer");let Tp=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-auth"]],decls:1,vars:0,template:function(t,e){1&t&&vs(0,"router-outlet")},directives:[sp],styles:[""]}),t})(),Sp=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return zl(this.value);case"E":return t=this.error,new _(e=>e.error(t));case"C":return Xl()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function xp(t,e=0){return function(n){return n.lift(new Op(t,e))}}class Op{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Ip(t,this.scheduler,this.delay))}}class Ip extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Ip.dispatch,this.delay,new Ap(t,this.destination)))}_next(t){this.scheduleMessage(Sp.createNext(t))}_error(t){this.scheduleMessage(Sp.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Sp.createComplete()),this.unsubscribe()}}class Ap{constructor(t,e){this.notification=t,this.destination=e}}class Pp extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Np extends Pp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Rp extends Np{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let Mp=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Dp extends Mp{constructor(t,e=Mp.now){super(t,()=>Dp.delegate&&Dp.delegate!==this?Dp.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Dp.delegate&&Dp.delegate!==this?Dp.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class Lp extends Dp{}const jp=new Lp(Rp);class Fp extends T{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new Vp(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new E;if(this.isStopped||this.hasError?o=h.EMPTY:(this.observers.push(t),o=new C(this,t)),r&&t.add(t=new Ip(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||jp).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Vp{constructor(t,e){this.time=t,this.value=e}}const Up=new Dp(Np);let Bp=1;const qp=(()=>Promise.resolve())(),zp={};function Hp(t){return t in zp&&(delete zp[t],!0)}const $p={setImmediate(t){const e=Bp++;return zp[e]=!0,qp.then(()=>Hp(e)&&t()),e},clearImmediate(t){Hp(t)}};class Gp extends Np{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=$p.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&($p.clearImmediate(e),t.scheduled=void 0)}}class Wp extends Dp{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Kp=new Wp(Gp);class Qp extends _{constructor(t,e=0,n=Kp){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(!u(r=e)&&r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Kp)}static create(t,e=0,n=Kp){return new Qp(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(Qp.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class Xp{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new Qp(e,this.delay,this.scheduler).subscribe(t)}}var Yp=n("Wcq6");function Zp(){}class Jp{constructor(t,e=jp){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class tg{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zp,{},Zp,Zp)),e.pipe(Nh(n,n,n)).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class eg{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Jp(Zone.current)),this.insideAngular=t.run(()=>new Jp(Zone.current,Up))}}function ng(t,e){return function(e){return(e=e.lift(new tg(t.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new Xp(t,e))}}(t.outsideAngular),xp(t.insideAngular))}}const rg=["ngOnDestroy"],ig=new jt("angularfire2.app.options"),og=new jt("angularfire2.app.nameOrConfig"),sg=new Aa("6.0.0");function ag(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Yp.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Object(Yp.initializeApp)(t,r))}const ug={provide:class{},useFactory:ag,deps:[ig,ec,[new rt,og]]};let cg=(()=>{class t{constructor(t){Object(Yp.registerVersion)("angularfire",sg.full,t.toString()),Object(Yp.registerVersion)("angular",Pa.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:ig,useValue:e},{provide:og,useValue:n}]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Wt(Vu))},providers:[ug]}),t})(),lg=(()=>{class t{constructor(t,e,r,i){const o=new eg(i),s=ng(o),a=zl(void 0).pipe(xp(o.outsideAngular),Ch(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),j(()=>ag(t,i,e)),j(t=>t.auth()),function(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){s++,i&&!a||(a=!1,i=new Fp(t,e,r),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}({bufferSize:1,refCount:!1}));return this.authState=a.pipe(xp(o.outsideAngular),Ch(t=>new _(t.onAuthStateChanged.bind(t))),s),this.user=a.pipe(xp(o.outsideAngular),Ch(t=>new _(t.onIdTokenChanged.bind(t))),s),this.idToken=this.user.pipe(Ch(t=>t?B(t.getIdToken()):zl(null))),this.idTokenResult=this.user.pipe(Ch(t=>t?B(t.getIdTokenResult()):zl(null))),((t,e,n)=>new Proxy(t,{get:(r,i)=>n.runOutsideAngular(()=>{if(t[i])return t[i];if(rg.includes(i))return()=>{};let r=e.toPromise().then(t=>{const e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>r[e],apply:(t,e,n)=>r.then(t=>t&&t(...n))})})}))(this,a,i)}}return t.\u0275fac=function(e){return new(e||t)(Wt(ig),Wt(og,8),Wt(Vu),Wt(ec))},t.\u0275prov=ct({factory:function(){return new t(Wt(ig),Wt(og,8),Wt(Vu),Wt(ec))},token:t,providedIn:"any"}),t})(),hg=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[lg]}),t})();var dg=n("wj3C"),fg=n.n(dg),pg=n("6Joi");function gg(t,e){return function(t,e=Up){return new _(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),function(){null!=r&&r()}})}(t,e)}function mg(t,e){return gg(t,e).pipe(j(t=>({payload:t,type:"query"})))}function yg(t,e){return mg(t,e).pipe(j(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function vg(t,e,n){return mg(t,n).pipe(j(t=>t.payload.docChanges()),xh((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),j(t=>t.map(t=>({type:t.type,payload:t}))))}function bg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class _g{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?yg(this.query,this.afs.schedulers.outsideAngular).pipe(j(e=>e.filter(e=>t.indexOf(e.type)>-1)),Jl(t=>t.length>0),this.afs.keepUnstableUntilFirst):yg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(xh((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=bg(t);return vg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return mg(this.query,this.afs.schedulers.outsideAngular).pipe(j(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return B(this.query.get(t)).pipe(xp(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new wg(this.ref.doc(t),this.afs)}}class wg{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Sg(n,e);return new _g(r,i,this.afs)}snapshotChanges(){return gg(this.ref,this.afs.schedulers.outsideAngular).pipe(j(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(j(t=>t.payload.data()))}get(t){return B(this.ref.get(t)).pipe(xp(this.afs.schedulers.insideAngular))}}class Eg{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?yg(this.query,this.afs.schedulers.outsideAngular).pipe(j(e=>e.filter(e=>t.indexOf(e.type)>-1)),Jl(t=>t.length>0),this.afs.keepUnstableUntilFirst):yg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(xh((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=bg(t);return vg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return mg(this.query,this.afs.schedulers.outsideAngular).pipe(j(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return B(this.query.get(t)).pipe(xp(this.afs.schedulers.insideAngular))}}const Cg=new jt("angularfire2.enableFirestorePersistence"),kg=new jt("angularfire2.firestore.persistenceSettings"),Tg=new jt("angularfire2.firestore.settings");function Sg(t,e=(t=>t)){return{query:e(t),ref:t}}let xg=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new eg(o),this.keepUnstableUntilFirst=ng(this.schedulers),this.firestore=o.runOutsideAngular(()=>{const n=ag(t,o,e);pg.registerFirestore&&Object(pg.registerFirestore)(fg.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!function(t){return"server"===t}(i)?o.runOutsideAngular(()=>{try{return B(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return zl(!1)}}):zl(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Sg(n,e);return new _g(r,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Eg(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new wg(e,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(Wt(ig),Wt(og,8),Wt(Cg,8),Wt(Tg,8),Wt(Vu),Wt(ec),Wt(kg,8))},t.\u0275prov=ct({factory:function(){return new t(Wt(ig),Wt(og,8),Wt(Cg,8),Wt(Tg,8),Wt(Vu),Wt(ec),Wt(kg,8))},token:t,providedIn:"any"}),t})(),Og=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Cg,useValue:!0},{provide:kg,useValue:e}]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[xg]}),t})();class Ig{}function Ag(t,e){return{type:7,name:t,definitions:e,options:{}}}function Pg(t,e=null){return{type:4,styles:e,timings:t}}function Ng(t,e=null){return{type:2,steps:t,options:e}}function Rg(t){return{type:6,styles:t,offset:null}}function Mg(t,e,n){return{type:0,name:t,styles:e,options:n}}function Dg(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Lg(t){Promise.resolve(null).then(t)}class jg{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Lg(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Fg{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Lg(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Vg=["toast-component",""];function Ug(t,e){if(1&t){const t=Es();ms(0,"button",5),Ts("click",(function(){return Ge(t),Os().remove()})),ms(1,"span",6),Ys(2,"\xd7"),ys(),ys()}}function Bg(t,e){if(1&t&&(bs(0),Ys(1),_s()),2&t){const t=Os(2);oi(1),Js("[",t.duplicatesCount+1,"]")}}function qg(t,e){if(1&t&&(ms(0,"div"),Ys(1),cs(2,Bg,2,1,"ng-container",4),ys()),2&t){const t=Os();Us(t.options.titleClass),as("aria-label",t.title),oi(1),Js(" ",t.title," "),oi(1),ps("ngIf",t.duplicatesCount)}}function zg(t,e){if(1&t&&vs(0,"div",7),2&t){const t=Os();Us(t.options.messageClass),ps("innerHTML",t.message,qr)}}function Hg(t,e){if(1&t&&(ms(0,"div",8),Ys(1),ys()),2&t){const t=Os();Us(t.options.messageClass),as("aria-label",t.message),oi(1),Js(" ",t.message," ")}}function $g(t,e){if(1&t&&(ms(0,"div"),vs(1,"div",9),ys()),2&t){const t=Os();oi(1),Fs("width",t.width+"%")}}class Gg{constructor(t,e,n,r,i,o){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new T,this._onAction=new T,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const Wg={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Kg=new jt("ToastConfig");class Qg{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Xg extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Yg=(()=>{let t=class{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}};return t.\u0275fac=function(e){return new(e||t)(Wt(Mc))},t.\u0275prov=ct({factory:function(){return new t(Wt(Mc))},token:t,providedIn:"root"}),t})();class Zg{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let Jg=(()=>{let t=class{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new Xg(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Zg(this._createPortalHost(t))}};return t.\u0275fac=function(e){return new(e||t)(Wt(Yg),Wt(Ea),Wt(wc),Wt(Mc))},t.\u0275prov=ct({factory:function(){return new t(Wt(Yg),Wt(Ea),Wt(wc),Wt(Mc))},token:t,providedIn:"root"}),t})();class tm{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new T,this._activate=new T,this._manualClose=new T,this._resetTimeout=new T,this._countDuplicate=new T}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class em{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===Gg?this._toastPackage:this._parentInjector.get(t,e,n)}}let nm=(()=>{let t=class{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t,e,n){for(const r of this.toasts)if(r.message===t)return r.toastRef.onDuplicate(e,n),r;return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,r){if(!r.toastComponent)throw new Error("toastComponent required");const i=this.findDuplicate(e,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if(e&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const s=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let a=e;e&&r.enableHtml&&(a=this.sanitizer.sanitize(Vr.HTML,e));const u=new tm(s),c=new Gg(this.index,r,a,n,t,u),l=new em(c,this._injector),h=new Qg(r.toastComponent,l),d=s.attach(h,this.toastrConfig.newestOnTop);u.componentInstance=d.instance;const f={toastId:this.index,message:e||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:c.onTap(),onAction:c.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{f.toastRef.activate()})),this.toasts.push(f),f}};return t.\u0275fac=function(e){return new(e||t)(Wt(Kg),Wt(Jg),Wt(Ko),Wt(Fl),Wt(ec))},t.\u0275prov=ct({factory:function(){return new t(Wt(Kg),Wt(Jg),Wt(Ft),Wt(Fl),Wt(ec))},token:t,providedIn:"root"}),t})(),rm=(()=>{let t=class{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}};return t.\u0275fac=function(e){return new(e||t)(hs(nm),hs(Gg),hs(ec))},t.\u0275cmp=he({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&Ts("click",(function(){return e.tapToast()}))("mouseenter",(function(){return e.stickAround()}))("mouseleave",(function(){return e.delayedHideToast()})),2&t&&(ea("@flyInOut",e.state),Us(e.toastClasses),Fs("display",e.displayStyle))},attrs:Vg,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(cs(0,Ug,3,0,"button",0),cs(1,qg,3,5,"div",1),cs(2,zg,1,3,"div",2),cs(3,Hg,2,4,"div",3),cs(4,$g,2,2,"div",4)),2&t&&(ps("ngIf",e.options.closeButton),oi(1),ps("ngIf",e.title),oi(1),ps("ngIf",e.message&&e.options.enableHtml),oi(1),ps("ngIf",e.message&&!e.options.enableHtml),oi(1),ps("ngIf",e.options.progressBar))},directives:[sl],encapsulation:2,data:{animation:[Ag("flyInOut",[Mg("inactive",Rg({opacity:0})),Mg("active",Rg({opacity:1})),Mg("removed",Rg({opacity:0})),Dg("inactive => active",Pg("{{ easeTime }}ms {{ easing }}")),Dg("active => removed",Pg("{{ easeTime }}ms {{ easing }}"))])]}}),t})();var im;const om=Object.assign(Object.assign({},Wg),{toastComponent:rm});let sm=(()=>{let t=im=class{static forRoot(t={}){return{ngModule:im,providers:[{provide:Kg,useValue:{default:om,config:t}}]}}};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})();class am{}class um{}class cm{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof cm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new cm;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof cm?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class lm{encodeKey(t){return hm(t)}encodeValue(t){return hm(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function hm(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class dm{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new lm,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new dm({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function fm(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function pm(t){return"undefined"!=typeof Blob&&t instanceof Blob}function gm(t){return"undefined"!=typeof FormData&&t instanceof FormData}class mm{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new cm),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new dm,this.urlWithParams=e}serializeBody(){return null===this.body?null:fm(this.body)||pm(this.body)||gm(this.body)||"string"==typeof this.body?this.body:this.body instanceof dm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:gm(this.body)?null:pm(this.body)?this.body.type||null:fm(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new mm(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const ym=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class vm{constructor(t,e=200,n="OK"){this.headers=t.headers||new cm,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bm extends vm{constructor(t={}){super(t),this.type=ym.ResponseHeader}clone(t={}){return new bm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class _m extends vm{constructor(t={}){super(t),this.type=ym.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new _m({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wm extends vm{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Em(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Cm=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof mm)r=t;else{let i=void 0;i=n.headers instanceof cm?n.headers:new cm(n.headers);let o=void 0;n.params&&(o=n.params instanceof dm?n.params:new dm({fromObject:n.params})),r=new mm(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=zl(r).pipe(Ah(t=>this.handler.handle(t)));if(t instanceof mm||"events"===n.observe)return i;const o=i.pipe(Jl(t=>t instanceof _m));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(j(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(j(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(j(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(j(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new dm).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Em(n,e))}post(t,e,n={}){return this.request("POST",t,Em(n,e))}put(t,e,n={}){return this.request("PUT",t,Em(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Wt(am))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class km{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Tm=new jt("HTTP_INTERCEPTORS");let Sm=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const xm=/^\)\]\}',?\n/;class Om{}let Im=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Am=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new cm(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new bm({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(xm,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new _m({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new wm({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new wm({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:ym.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:ym.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:ym.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Wt(Om))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Pm=new jt("XSRF_COOKIE_NAME"),Nm=new jt("XSRF_HEADER_NAME");class Rm{}let Mm=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=el(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Wt(Mc),Wt(Vu),Wt(Pm))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Dm=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Rm),Wt(Nm))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Lm=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Tm,[]);this.chain=t.reduceRight((t,e)=>new km(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Wt(um),Wt(Ko))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),jm=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Dm,useClass:Sm}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Pm,useValue:e.cookieName}:[],e.headerName?{provide:Nm,useValue:e.headerName}:[]]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Dm,{provide:Tm,useExisting:Dm,multi:!0},{provide:Rm,useClass:Mm},{provide:Pm,useValue:"XSRF-TOKEN"},{provide:Nm,useValue:"X-XSRF-TOKEN"}]}),t})(),Fm=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Cm,{provide:am,useClass:Lm},Am,{provide:um,useExisting:Am},Im,{provide:Om,useExisting:Im}],imports:[[jm.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function Vm(t,e){if(1&t&&vs(0,"div",9),2&t){const t=Os();Fs("height",t.pbThickness,"px")("color",t.pbColor),Vs("ngx-position-absolute",t.loaderId!==t.defaultConfig.masterLoaderId)("loading-foreground",t.showForeground)("foreground-closing",t.foregroundClosing)("fast-closing",t.foregroundClosing&&t.fastFadeOut),ps("ngClass","ngx-progress-bar-"+t.pbDirection)}}function Um(t,e){if(1&t&&vs(0,"img",10),2&t){const t=Os();Fs("width",t.logoSize,"px")("height",t.logoSize,"px")("top",t.logoTop),ps("ngClass",t.logoPosition)("src",t.trustedLogoUrl,zr)}}function Bm(t,e){1&t&&vs(0,"div")}function qm(t,e){if(1&t&&(ms(0,"div"),cs(1,Bm,1,0,"div",11),ys()),2&t){const t=Os();Us(t.fgSpinnerClass),oi(1),ps("ngForOf",t.fgDivs)}}function zm(t,e){1&t&&ws(0)}function Hm(t,e){1&t&&cs(0,zm,1,0,"ng-container",12),2&t&&ps("ngTemplateOutlet",Os().fgsTemplate)}function $m(t,e){1&t&&vs(0,"div")}function Gm(t,e){if(1&t&&(ms(0,"div"),cs(1,$m,1,0,"div",11),ys()),2&t){const t=Os();Us(t.bgSpinnerClass),oi(1),ps("ngForOf",t.bgDivs)}}function Wm(t,e){1&t&&ws(0)}function Km(t,e){1&t&&cs(0,Wm,1,0,"ng-container",12),2&t&&ps("ngTemplateOutlet",Os().bgsTemplate)}var Qm=function(t){return t.ballScaleMultiple="ball-scale-multiple",t.ballSpin="ball-spin",t.ballSpinClockwise="ball-spin-clockwise",t.ballSpinClockwiseFadeRotating="ball-spin-clockwise-fade-rotating",t.ballSpinFadeRotating="ball-spin-fade-rotating",t.chasingDots="chasing-dots",t.circle="circle",t.cubeGrid="cube-grid",t.doubleBounce="double-bounce",t.fadingCircle="fading-circle",t.foldingCube="folding-cube",t.pulse="pulse",t.rectangleBounce="rectangle-bounce",t.rectangleBounceParty="rectangle-bounce-party",t.rectangleBouncePulseOut="rectangle-bounce-pulse-out",t.rectangleBouncePulseOutRapid="rectangle-bounce-pulse-out-rapid",t.rotatingPlane="rotating-plane",t.squareJellyBox="square-jelly-box",t.squareLoader="square-loader",t.threeBounce="three-bounce",t.threeStrings="three-strings",t.wanderingCubes="wandering-cubes",t}({}),Xm=function(t){return t.bottomCenter="bottom-center",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.centerCenter="center-center",t.centerLeft="center-left",t.centerRight="center-right",t.topCenter="top-center",t.topLeft="top-left",t.topRight="top-right",t}({});const Ym={},Zm={"ball-scale-multiple":{divs:3,class:"sk-ball-scale-multiple"},"ball-spin":{divs:8,class:"sk-ball-spin"},"ball-spin-clockwise":{divs:8,class:"sk-ball-spin-clockwise"},"ball-spin-clockwise-fade-rotating":{divs:8,class:"sk-ball-spin-clockwise-fade-rotating"},"ball-spin-fade-rotating":{divs:8,class:"sk-ball-spin-fade-rotating"},"chasing-dots":{divs:2,class:"sk-chasing-dots"},circle:{divs:12,class:"sk-circle"},"cube-grid":{divs:9,class:"sk-cube-grid"},"double-bounce":{divs:2,class:"sk-double-bounce"},"fading-circle":{divs:12,class:"sk-fading-circle"},"folding-cube":{divs:4,class:"sk-folding-cube"},pulse:{divs:1,class:"sk-pulse"},"rectangle-bounce":{divs:5,class:"sk-rectangle-bounce"},"rectangle-bounce-party":{divs:5,class:"sk-rectangle-bounce-party"},"rectangle-bounce-pulse-out":{divs:5,class:"sk-rectangle-bounce-pulse-out"},"rectangle-bounce-pulse-out-rapid":{divs:5,class:"sk-rectangle-bounce-pulse-out-rapid"},"rotating-plane":{divs:1,class:"sk-rotating-plane"},"square-jelly-box":{divs:2,class:"sk-square-jelly-box"},"square-loader":{divs:1,class:"sk-square-loader"},"three-bounce":{divs:3,class:"sk-three-bounce"},"three-strings":{divs:3,class:"sk-three-strings"},"wandering-cubes":{divs:2,class:"sk-wandering-cubes"}},Jm={bgsColor:"#00ACC1",bgsOpacity:.5,bgsPosition:Xm.bottomRight,bgsSize:60,bgsType:Qm.ballSpinClockwise,blur:5,delay:0,fastFadeOut:!1,fgsColor:"#00ACC1",fgsPosition:Xm.centerCenter,fgsSize:60,fgsType:Qm.ballSpinClockwise,gap:24,logoPosition:Xm.centerCenter,logoSize:120,logoUrl:"",masterLoaderId:"master",overlayBorderRadius:"0",overlayColor:"rgba(40, 40, 40, 0.8)",pbColor:"#00ACC1",pbDirection:function(t){return t.leftToRight="ltr",t.rightToLeft="rtl",t}({}).leftToRight,pbThickness:3,hasProgressBar:!0,text:"",textColor:"#FFFFFF",textPosition:Xm.centerCenter,maxTime:-1,minTime:300},ty=new jt("ngxUiLoaderCustom.config");let ey=(()=>{let t=class{constructor(t){this.config=t,this.defaultConfig=Object.assign({},Jm),this.config&&(this.config.minTime&&this.config.minTime<0&&(this.config.minTime=0),this.defaultConfig=Object.assign(Object.assign({},this.defaultConfig),this.config)),this.loaders={},this.showForeground=new Hl({loaderId:"",isShow:!1}),this.showForeground$=this.showForeground.asObservable(),this.showBackground=new Hl({loaderId:"",isShow:!1}),this.showBackground$=this.showBackground.asObservable(),this.fgClosing=new Hl({loaderId:"",isShow:!1}),this.foregroundClosing$=this.fgClosing.asObservable(),this.bgClosing=new Hl({loaderId:"",isShow:!1}),this.backgroundClosing$=this.bgClosing.asObservable()}bindLoaderData(t){const e=t===this.defaultConfig.masterLoaderId;if(this.loaders[t]){if(this.loaders[t].isBound)throw new Error(`[ngx-ui-loader] - loaderId "${t}" is duplicated.`);this.loaders[t].isBound=!0,this.loaders[t].isMaster=e,this.hasRunningTask(!0,t)?this.showForeground.next({loaderId:t,isShow:!0}):this.hasRunningTask(!1,t)&&this.showBackground.next({loaderId:t,isShow:!0})}else this.createLoaderData(t,e,!0)}destroyLoaderData(t){this.stopAllLoader(t),delete this.loaders[t]}getDefaultConfig(){return Object.assign({},this.defaultConfig)}getLoaders(){return JSON.parse(JSON.stringify(this.loaders))}getLoader(t){return this.loaders[t=t||this.defaultConfig.masterLoaderId]?JSON.parse(JSON.stringify(this.loaders[t])):null}startLoader(t,e="fg-default",n){this.readyToStart(t,e,!0,n)&&(this.loaders[t].tasks[e].isOtherRunning||(this.hasRunningTask(!1,t)&&(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1})),this.showForeground.next({loaderId:t,isShow:!0})))}start(t="fg-default",e){this.startLoader(this.defaultConfig.masterLoaderId,t,e)}startBackgroundLoader(t,e="bg-default",n){this.readyToStart(t,e,!1,n)&&(this.hasRunningTask(!0,t)||this.loaders[t].tasks[e].isOtherRunning||this.showBackground.next({loaderId:t,isShow:!0}))}startBackground(t="bg-default",e){this.startBackgroundLoader(this.defaultConfig.masterLoaderId,t,e)}stopLoader(t,e="fg-default"){this.readyToStop(t,e)&&(this.hasRunningTask(!0,t)||(this.foregroundCloseout(t),this.showForeground.next({loaderId:t,isShow:!1}),this.hasRunningTask(!1,t)&&setTimeout(()=>{this.hasRunningTask(!1,t)&&this.showBackground.next({loaderId:t,isShow:!0})},this.defaultConfig.fastFadeOut?300:500)))}stop(t="fg-default"){this.stopLoader(this.defaultConfig.masterLoaderId,t)}stopBackgroundLoader(t,e="bg-default"){this.readyToStop(t,e)&&(this.hasRunningTask(!0,t)||this.hasRunningTask(!1,t)||(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1})))}stopBackground(t="bg-default"){this.stopBackgroundLoader(this.defaultConfig.masterLoaderId,t)}stopAllLoader(t){this.loaders[t]?(this.hasRunningTask(!0,t)?(this.foregroundCloseout(t),this.showForeground.next({loaderId:t,isShow:!1})):this.hasRunningTask(!1,t)&&(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1})),this.clearAllTimers(this.loaders[t].tasks),this.loaders[t].tasks={}):console.warn(`[ngx-ui-loader] - loaderId "${t}" does not exist.`)}stopAll(){this.stopAllLoader(this.defaultConfig.masterLoaderId)}createLoaderData(t,e,n){this.loaders[t]||(this.loaders[t]={loaderId:t,tasks:{},isMaster:e,isBound:n})}foregroundCloseout(t){this.fgClosing.next({loaderId:t,isShow:!0}),setTimeout(()=>{this.fgClosing.next({loaderId:t,isShow:!1})},this.defaultConfig.fastFadeOut?601:1001)}backgroundCloseout(t){this.bgClosing.next({loaderId:t,isShow:!0}),setTimeout(()=>{this.bgClosing.next({loaderId:t,isShow:!1})},this.defaultConfig.fastFadeOut?601:1001)}clearTimers(t){clearTimeout(t.delayTimer),clearTimeout(t.maxTimer),clearTimeout(t.minTimer)}clearAllTimers(t){Object.keys(t).map(e=>{this.clearTimers(t[e])})}hasRunningTask(t,e,n){if(this.loaders[e]){const r=this.loaders[e].tasks;return n?!!r[n]&&!!r[n].startAt:Object.keys(r).some(e=>!!r[e].startAt&&r[e].isForeground===t)}return!1}readyToStart(t,e,n,r=Ym){this.createLoaderData(t,void 0,!1);const i=this.hasRunningTask(n,t);if(this.loaders[t].tasks[e]){if(this.loaders[t].tasks[e].isForeground!==n)throw new Error(`[ngx-ui-loader] - taskId "${e}" is duplicated.`)}else this.loaders[t].tasks[e]={taskId:e,isForeground:n,minTime:r.minTime>=0?r.minTime:this.defaultConfig.minTime,maxTime:r.maxTime?r.maxTime:this.defaultConfig.maxTime,delay:r.delay>=0?r.delay:this.defaultConfig.delay};return!this.setDelayTimer(this.loaders[t].tasks[e],t)&&(this.loaders[t].tasks[e]=Object.assign(Object.assign({},this.loaders[t].tasks[e]),{isOtherRunning:i,startAt:Date.now()}),this.setMaxTimer(this.loaders[t].tasks[e],t),!!this.loaders[t].isBound)}readyToStop(t,e){if(!this.loaders[t])return console.warn(`[ngx-ui-loader] - loaderId "${t}" does not exist.`),!1;const n=this.loaders[t].tasks[e];return!(!n||(n.isDelayed?(this.clearTimers(n),delete this.loaders[t].tasks[e],1):this.setMinTimer(n,t)||(this.clearTimers(n),delete this.loaders[t].tasks[e],0)))}setDelayTimer(t,e){if(t.delay>0){if(t.isDelayed)return!0;if(!t.delayTimer)return t.isDelayed=!0,t.delayTimer=setTimeout(()=>{t.isDelayed=!1,t.isForeground?this.startLoader(e,t.taskId):this.startBackgroundLoader(e,t.taskId)},t.delay),!0}return!1}setMaxTimer(t,e){t.maxTime>t.minTime&&(clearTimeout(t.maxTimer),t.maxTimer=setTimeout(()=>{t.isForeground?this.stopLoader(e,t.taskId):this.stopBackgroundLoader(e,t.taskId)},t.maxTime))}setMinTimer(t,e){const n=Date.now();return!!(t.startAt&&t.startAt+t.minTime>n)&&(t.minTimer=setTimeout(()=>{t.isForeground?this.stopLoader(e,t.taskId):this.stopBackgroundLoader(e,t.taskId)},t.startAt+t.minTime-n),!0)}};return t.\u0275fac=function(e){return new(e||t)(Wt(ty,8))},t.\u0275prov=ct({factory:function(){return new t(Wt(ty,8))},token:t,providedIn:"root"}),t})(),ny=(()=>{let t=class{constructor(t,e,n){this.domSanitizer=t,this.changeDetectorRef=e,this.ngxService=n,this.initialized=!1,this.defaultConfig=this.ngxService.getDefaultConfig(),this.bgsColor=this.defaultConfig.bgsColor,this.bgsOpacity=this.defaultConfig.bgsOpacity,this.bgsPosition=this.defaultConfig.bgsPosition,this.bgsSize=this.defaultConfig.bgsSize,this.bgsType=this.defaultConfig.bgsType,this.fastFadeOut=this.defaultConfig.fastFadeOut,this.fgsColor=this.defaultConfig.fgsColor,this.fgsPosition=this.defaultConfig.fgsPosition,this.fgsSize=this.defaultConfig.fgsSize,this.fgsType=this.defaultConfig.fgsType,this.gap=this.defaultConfig.gap,this.loaderId=this.defaultConfig.masterLoaderId,this.logoPosition=this.defaultConfig.logoPosition,this.logoSize=this.defaultConfig.logoSize,this.logoUrl=this.defaultConfig.logoUrl,this.overlayBorderRadius=this.defaultConfig.overlayBorderRadius,this.overlayColor=this.defaultConfig.overlayColor,this.pbColor=this.defaultConfig.pbColor,this.pbDirection=this.defaultConfig.pbDirection,this.pbThickness=this.defaultConfig.pbThickness,this.hasProgressBar=this.defaultConfig.hasProgressBar,this.text=this.defaultConfig.text,this.textColor=this.defaultConfig.textColor,this.textPosition=this.defaultConfig.textPosition}ngOnInit(){this.initializeSpinners(),this.ngxService.bindLoaderData(this.loaderId),this.determinePositions(),this.trustedLogoUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.logoUrl),this.showForegroundWatcher=this.ngxService.showForeground$.pipe(Jl(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.showForeground=t.isShow,this.changeDetectorRef.markForCheck()}),this.showBackgroundWatcher=this.ngxService.showBackground$.pipe(Jl(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.showBackground=t.isShow,this.changeDetectorRef.markForCheck()}),this.foregroundClosingWatcher=this.ngxService.foregroundClosing$.pipe(Jl(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.foregroundClosing=t.isShow,this.changeDetectorRef.markForCheck()}),this.backgroundClosingWatcher=this.ngxService.backgroundClosing$.pipe(Jl(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.backgroundClosing=t.isShow,this.changeDetectorRef.markForCheck()}),this.initialized=!0}ngOnChanges(t){if(!this.initialized)return;const e=t.logoUrl;(t.fgsType||t.bgsType)&&this.initializeSpinners(),this.determinePositions(),e&&(this.trustedLogoUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.logoUrl))}initializeSpinners(){this.fgDivs=Array(Zm[this.fgsType].divs).fill(1),this.fgSpinnerClass=Zm[this.fgsType].class,this.bgDivs=Array(Zm[this.bgsType].divs).fill(1),this.bgSpinnerClass=Zm[this.bgsType].class}determinePositions(){this.logoTop="initial",this.spinnerTop="initial",this.textTop="initial",this.logoPosition.startsWith("center")?this.logoTop="50%":this.logoPosition.startsWith("top")&&(this.logoTop="30px"),this.fgsPosition.startsWith("center")?this.spinnerTop="50%":this.fgsPosition.startsWith("top")&&(this.spinnerTop="30px"),this.textPosition.startsWith("center")?this.textTop="50%":this.textPosition.startsWith("top")&&(this.textTop="30px"),this.fgsPosition===Xm.centerCenter?this.logoUrl&&this.logoPosition===Xm.centerCenter?this.text&&this.textPosition===Xm.centerCenter?(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - ${this.fgsSize/2}px - 12px - ${this.gap}px)`),this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px - 12px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap}px + ${this.fgsSize/2}px)`)):(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - ${this.fgsSize/2}px - ${this.gap/2}px)`),this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap/2}px)`)):this.text&&this.textPosition===Xm.centerCenter&&(this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - 12px - ${this.gap/2}px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.fgsSize/2}px + ${this.gap/2}px)`)):this.logoUrl&&this.logoPosition===Xm.centerCenter&&this.text&&this.textPosition===Xm.centerCenter&&(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - 12px - ${this.gap/2}px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap/2}px)`))}ngOnDestroy(){this.ngxService.destroyLoaderData(this.loaderId),this.showForegroundWatcher&&this.showForegroundWatcher.unsubscribe(),this.showBackgroundWatcher&&this.showBackgroundWatcher.unsubscribe(),this.foregroundClosingWatcher&&this.foregroundClosingWatcher.unsubscribe(),this.backgroundClosingWatcher&&this.backgroundClosingWatcher.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(hs(Fl),hs(No),hs(ey))},t.\u0275cmp=he({type:t,selectors:[["ngx-ui-loader"]],inputs:{bgsColor:"bgsColor",bgsOpacity:"bgsOpacity",bgsPosition:"bgsPosition",bgsSize:"bgsSize",bgsType:"bgsType",fgsColor:"fgsColor",fgsPosition:"fgsPosition",fgsSize:"fgsSize",fgsType:"fgsType",gap:"gap",loaderId:"loaderId",logoPosition:"logoPosition",logoSize:"logoSize",logoUrl:"logoUrl",overlayBorderRadius:"overlayBorderRadius",overlayColor:"overlayColor",pbColor:"pbColor",pbDirection:"pbDirection",pbThickness:"pbThickness",hasProgressBar:"hasProgressBar",text:"text",textColor:"textColor",textPosition:"textPosition",bgsTemplate:"bgsTemplate",fgsTemplate:"fgsTemplate"},features:[ca],decls:13,vars:50,consts:[["class","ngx-progress-bar",3,"ngx-position-absolute","ngClass","height","color","loading-foreground","foreground-closing","fast-closing",4,"ngIf"],[1,"ngx-overlay"],["class","ngx-loading-logo",3,"ngClass","src","width","height","top",4,"ngIf"],[1,"ngx-foreground-spinner",3,"ngClass"],[3,"class",4,"ngIf","ngIfElse"],["foregroundTemplate",""],[1,"ngx-loading-text",3,"ngClass"],[1,"ngx-background-spinner",3,"ngClass"],["backgroundTemplate",""],[1,"ngx-progress-bar",3,"ngClass"],[1,"ngx-loading-logo",3,"ngClass","src"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"]],template:function(t,e){if(1&t&&(cs(0,Vm,1,13,"div",0),ms(1,"div",1),cs(2,Um,1,8,"img",2),ms(3,"div",3),cs(4,qm,2,3,"div",4),cs(5,Hm,1,1,"ng-template",null,5,Nu),ys(),ms(7,"div",6),Ys(8),ys(),ys(),ms(9,"div",7),cs(10,Gm,2,3,"div",4),cs(11,Km,1,1,"ng-template",null,8,Nu),ys()),2&t){const t=ls(6),n=ls(12);ps("ngIf",e.hasProgressBar),oi(1),Fs("background-color",e.overlayColor)("border-radius",e.overlayBorderRadius),Vs("ngx-position-absolute",e.loaderId!==e.defaultConfig.masterLoaderId)("loading-foreground",e.showForeground)("foreground-closing",e.foregroundClosing)("fast-closing",e.foregroundClosing&&e.fastFadeOut),oi(1),ps("ngIf",e.logoUrl),oi(1),Fs("color",e.fgsColor)("width",e.fgsSize,"px")("height",e.fgsSize,"px")("top",e.spinnerTop),ps("ngClass",e.fgsPosition),oi(1),ps("ngIf",!e.fgsTemplate)("ngIfElse",t),oi(3),Fs("top",e.textTop)("color",e.textColor),ps("ngClass",e.textPosition),oi(1),Zs(e.text),oi(1),Fs("width",e.bgsSize,"px")("height",e.bgsSize,"px")("color",e.bgsColor)("opacity",e.bgsOpacity),Vs("ngx-position-absolute",e.loaderId!==e.defaultConfig.masterLoaderId)("loading-background",e.showBackground)("background-closing",e.backgroundClosing)("fast-closing",e.backgroundClosing&&e.fastFadeOut),ps("ngClass",e.bgsPosition),oi(1),ps("ngIf",!e.bgsTemplate)("ngIfElse",n)}},directives:[sl,nl,il,cl],styles:['.ngx-progress-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:3px;z-index:99999!important;display:none;color:#00acc1;overflow:hidden}.ngx-progress-bar.foreground-closing[_ngcontent-%COMP%], .ngx-progress-bar.loading-foreground[_ngcontent-%COMP%]{display:block}.ngx-progress-bar.foreground-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .5s ease-out .5s}.ngx-progress-bar.fast-closing[_ngcontent-%COMP%]{transition:opacity .3s ease-out .3s!important}.ngx-progress-bar[_ngcontent-%COMP%]::after, .ngx-progress-bar[_ngcontent-%COMP%]::before{background-color:currentColor;content:"";display:block;width:100%;height:100%;position:absolute;top:0}.ngx-progress-bar-ltr[_ngcontent-%COMP%]::before{transform:translate3d(-100%,0,0)}.ngx-progress-bar-ltr[_ngcontent-%COMP%]::after{-webkit-animation:12s ease-out progressBar-slide-ltr;animation:12s ease-out progressBar-slide-ltr;transform:translate3d(-5%,0,0)}.ngx-progress-bar-rtl[_ngcontent-%COMP%]::before{transform:translate3d(100%,0,0)}.ngx-progress-bar-rtl[_ngcontent-%COMP%]::after{-webkit-animation:12s ease-out progressBar-slide-rtl;animation:12s ease-out progressBar-slide-rtl;transform:translate3d(5%,0,0)}.foreground-closing.ngx-progress-bar-ltr[_ngcontent-%COMP%]::before{-webkit-animation:1s ease-out progressBar-slide-complete-ltr;animation:1s ease-out progressBar-slide-complete-ltr;transform:translate3d(0,0,0)}.fast-closing.ngx-progress-bar-ltr[_ngcontent-%COMP%]::before{-webkit-animation:.6s ease-out progressBar-slide-complete-ltr!important;animation:.6s ease-out progressBar-slide-complete-ltr!important}.foreground-closing.ngx-progress-bar-rtl[_ngcontent-%COMP%]::before{-webkit-animation:1s ease-out progressBar-slide-complete-rtl;animation:1s ease-out progressBar-slide-complete-rtl;transform:translate3d(0,0,0)}.fast-closing.ngx-progress-bar-rtl[_ngcontent-%COMP%]::before{-webkit-animation:.6s ease-out progressBar-slide-complete-rtl!important;animation:.6s ease-out progressBar-slide-complete-rtl!important}@-webkit-keyframes progressBar-slide-ltr{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(-5%,0,0)}}@keyframes progressBar-slide-ltr{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(-5%,0,0)}}@-webkit-keyframes progressBar-slide-rtl{from{transform:translate3d(100%,0,0)}to{transform:translate3d(5%,0,0)}}@keyframes progressBar-slide-rtl{from{transform:translate3d(100%,0,0)}to{transform:translate3d(5%,0,0)}}@-webkit-keyframes progressBar-slide-complete-ltr{0%{transform:translate3d(-75%,0,0)}50%{transform:translate3d(0,0,0)}}@keyframes progressBar-slide-complete-ltr{0%{transform:translate3d(-75%,0,0)}50%{transform:translate3d(0,0,0)}}@-webkit-keyframes progressBar-slide-complete-rtl{0%{transform:translate3d(75%,0,0)}50%{transform:translate3d(0,0,0)}}@keyframes progressBar-slide-complete-rtl{0%{transform:translate3d(75%,0,0)}50%{transform:translate3d(0,0,0)}}.ngx-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:99998!important;background-color:rgba(40,40,40,.8);cursor:progress;display:none}.ngx-overlay.foreground-closing[_ngcontent-%COMP%], .ngx-overlay.loading-foreground[_ngcontent-%COMP%]{display:block}.ngx-overlay.foreground-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .5s ease-out .5s}.ngx-overlay.fast-closing[_ngcontent-%COMP%]{transition:opacity .3s ease-out .3s!important}.ngx-overlay[_ngcontent-%COMP%] > .ngx-foreground-spinner[_ngcontent-%COMP%]{position:fixed;width:60px;height:60px;margin:0;color:#00acc1}.ngx-overlay[_ngcontent-%COMP%] > .ngx-loading-logo[_ngcontent-%COMP%]{position:fixed;margin:0;width:120px;height:120px}.ngx-overlay[_ngcontent-%COMP%] > .ngx-loading-text[_ngcontent-%COMP%]{position:fixed;margin:0;font-family:sans-serif;font-weight:400;font-size:1.2em;color:#fff}.ngx-background-spinner[_ngcontent-%COMP%]{position:fixed;z-index:99997!important;width:60px;height:60px;margin:0;color:#00acc1;opacity:.6;display:none}.ngx-background-spinner.background-closing[_ngcontent-%COMP%], .ngx-background-spinner.loading-background[_ngcontent-%COMP%]{display:block}.ngx-background-spinner.background-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .7s ease-out}.ngx-background-spinner.fast-closing[_ngcontent-%COMP%]{transition:opacity .4s ease-out!important}.ngx-position-absolute[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-foreground-spinner[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-loading-logo[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-loading-text[_ngcontent-%COMP%]{position:absolute!important}.ngx-position-absolute.ngx-progress-bar[_ngcontent-%COMP%]{z-index:99996!important}.ngx-position-absolute.ngx-overlay[_ngcontent-%COMP%]{z-index:99995!important}.ngx-position-absolute[_ngcontent-%COMP%]   .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .ngx-position-absolute.ngx-background-spinner[_ngcontent-%COMP%]{z-index:99994!important}.top-left[_ngcontent-%COMP%]{top:30px;left:30px}.top-center[_ngcontent-%COMP%]{top:30px;left:50%;transform:translateX(-50%)}.top-right[_ngcontent-%COMP%]{top:30px;right:30px}.center-left[_ngcontent-%COMP%]{top:50%;left:30px;transform:translateY(-50%)}.center-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.center-right[_ngcontent-%COMP%]{top:50%;right:30px;transform:translateY(-50%)}.bottom-left[_ngcontent-%COMP%]{bottom:30px;left:30px}.bottom-center[_ngcontent-%COMP%]{bottom:30px;left:50%;transform:translateX(-50%)}.bottom-right[_ngcontent-%COMP%]{bottom:30px;right:30px}.sk-ball-scale-multiple[_ngcontent-%COMP%], .sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-scale-multiple[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:100%;opacity:0;-webkit-animation:1s linear infinite ball-scale-multiple;animation:1s linear infinite ball-scale-multiple}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}@-webkit-keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}100%{opacity:0;transform:scale(1)}}@keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}100%{opacity:0;transform:scale(1)}}.sk-ball-spin[_ngcontent-%COMP%], .sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-spin-clockwise;animation:1s ease-in-out infinite ball-spin-clockwise}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}@-webkit-keyframes ball-spin{0%,100%{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin{0%,100%{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.sk-ball-spin-clockwise[_ngcontent-%COMP%], .sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-clockwise[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-spin-clockwise;animation:1s ease-in-out infinite ball-spin-clockwise}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-875ms;animation-delay:-875ms}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-625ms;animation-delay:-625ms}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-375ms;animation-delay:-375ms}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-125ms;animation-delay:-125ms}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}@-webkit-keyframes ball-spin-clockwise{0%,100%{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin-clockwise{0%,100%{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{font-size:0;width:100%;height:100%;-webkit-animation:6s linear infinite ball-spin-clockwise-fade-rotating-rotate;animation:6s linear infinite ball-spin-clockwise-fade-rotating-rotate}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-clockwise-fade-rotating;animation:1s linear infinite ball-spin-clockwise-fade-rotating}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-875ms;animation-delay:-875ms}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-625ms;animation-delay:-625ms}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-375ms;animation-delay:-375ms}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-125ms;animation-delay:-125ms}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}@-webkit-keyframes ball-spin-clockwise-fade-rotating-rotate{100%{transform:rotate(-360deg)}}@keyframes ball-spin-clockwise-fade-rotating-rotate{100%{transform:rotate(-360deg)}}@-webkit-keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}100%{opacity:1;transform:scale(1)}}@keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}100%{opacity:1;transform:scale(1)}}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%], .sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0;-webkit-animation:6s linear infinite ball-spin-fade-rotate;animation:6s linear infinite ball-spin-fade-rotate}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-fade;animation:1s linear infinite ball-spin-fade}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}@-webkit-keyframes ball-spin-fade-rotate{100%{transform:rotate(360deg)}}@keyframes ball-spin-fade-rotate{100%{transform:rotate(360deg)}}@-webkit-keyframes ball-spin-fade{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}@keyframes ball-spin-fade{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}.sk-chasing-dots[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:absolute;text-align:center;-webkit-animation:2s linear infinite sk-chasingDots-rotate;animation:2s linear infinite sk-chasingDots-rotate}.sk-chasing-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:60%;height:60%;display:inline-block;position:absolute;top:0;background-color:currentColor;border-radius:100%;-webkit-animation:2s ease-in-out infinite sk-chasingDots-bounce;animation:2s ease-in-out infinite sk-chasingDots-bounce}.sk-chasing-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:auto;bottom:0;-webkit-animation-delay:-1s;animation-delay:-1s}@-webkit-keyframes sk-chasingDots-rotate{100%{transform:rotate(360deg)}}@keyframes sk-chasingDots-rotate{100%{transform:rotate(360deg)}}@-webkit-keyframes sk-chasingDots-bounce{0%,100%{transform:scale(0)}50%{transform:scale(1)}}@keyframes sk-chasingDots-bounce{0%,100%{transform:scale(0)}50%{transform:scale(1)}}.sk-circle[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]::before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:currentColor;border-radius:100%;-webkit-animation:1.2s ease-in-out infinite both sk-circle-bounceDelay;animation:1.2s ease-in-out infinite both sk-circle-bounceDelay}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)::before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3)::before{-webkit-animation-delay:-1s;animation-delay:-1s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4)::before{-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5)::before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6)::before{-webkit-animation-delay:-.7s;animation-delay:-.7s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7)::before{-webkit-animation-delay:-.6s;animation-delay:-.6s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8)::before{-webkit-animation-delay:-.5s;animation-delay:-.5s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9)::before{-webkit-animation-delay:-.4s;animation-delay:-.4s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10)::before{-webkit-animation-delay:-.3s;animation-delay:-.3s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11)::before{-webkit-animation-delay:-.2s;animation-delay:-.2s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12)::before{-webkit-animation-delay:-.1s;animation-delay:-.1s}@-webkit-keyframes sk-circle-bounceDelay{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}@keyframes sk-circle-bounceDelay{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.sk-cube-grid[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:33%;height:33%;background-color:currentColor;float:left;-webkit-animation:1.3s ease-in-out infinite sk-cubeGrid-scaleDelay;animation:1.3s ease-in-out infinite sk-cubeGrid-scaleDelay}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:.2s;animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.3s;animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:.1s;animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:.2s;animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:.3s;animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:0s;animation-delay:0s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:.1s;animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:.2s;animation-delay:.2s}@-webkit-keyframes sk-cubeGrid-scaleDelay{0%,100%,70%{transform:scale3D(1,1,1)}35%{transform:scale3D(0,0,1)}}@keyframes sk-cubeGrid-scaleDelay{0%,100%,70%{transform:scale3D(1,1,1)}35%{transform:scale3D(0,0,1)}}.sk-double-bounce[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;margin:auto}.sk-double-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:currentColor;opacity:.6;position:absolute;top:0;left:0;-webkit-animation:2s ease-in-out infinite sk-doubleBounce-bounce;animation:2s ease-in-out infinite sk-doubleBounce-bounce}.sk-double-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1s;animation-delay:-1s}@-webkit-keyframes sk-doubleBounce-bounce{0%,100%{transform:scale(0)}50%{transform:scale(1)}}@keyframes sk-doubleBounce-bounce{0%,100%{transform:scale(0)}50%{transform:scale(1)}}.sk-fading-circle[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]::before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:currentColor;border-radius:100%;-webkit-animation:1.2s ease-in-out infinite both sk-fadingCircle-FadeDelay;animation:1.2s ease-in-out infinite both sk-fadingCircle-FadeDelay}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)::before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3)::before{-webkit-animation-delay:-1s;animation-delay:-1s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4)::before{-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5)::before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6)::before{-webkit-animation-delay:-.7s;animation-delay:-.7s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7)::before{-webkit-animation-delay:-.6s;animation-delay:-.6s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8)::before{-webkit-animation-delay:-.5s;animation-delay:-.5s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9)::before{-webkit-animation-delay:-.4s;animation-delay:-.4s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10)::before{-webkit-animation-delay:-.3s;animation-delay:-.3s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11)::before{-webkit-animation-delay:-.2s;animation-delay:-.2s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12)::before{-webkit-animation-delay:-.1s;animation-delay:-.1s}@-webkit-keyframes sk-fadingCircle-FadeDelay{0%,100%,39%{opacity:0}40%{opacity:1}}@keyframes sk-fadingCircle-FadeDelay{0%,100%,39%{opacity:0}40%{opacity:1}}.sk-folding-cube[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative;transform:rotateZ(45deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:left;width:50%;height:50%;position:relative;transform:scale(1.1)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:currentColor;-webkit-animation:2.4s linear infinite both sk-foldingCube-angle;animation:2.4s linear infinite both sk-foldingCube-angle;transform-origin:100% 100%}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:scale(1.1) rotateZ(90deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:scale(1.1) rotateZ(270deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:scale(1.1) rotateZ(180deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)::before{-webkit-animation-delay:.3s;animation-delay:.3s}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3)::before{-webkit-animation-delay:.9s;animation-delay:.9s}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4)::before{-webkit-animation-delay:.6s;animation-delay:.6s}@-webkit-keyframes sk-foldingCube-angle{0%,10%{transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{transform:perspective(140px) rotateX(0);opacity:1}100%,90%{transform:perspective(140px) rotateY(180deg);opacity:0}}@keyframes sk-foldingCube-angle{0%,10%{transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{transform:perspective(140px) rotateX(0);opacity:1}100%,90%{transform:perspective(140px) rotateY(180deg);opacity:0}}.sk-pulse[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}.sk-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:currentColor;border-radius:100%;-webkit-animation:1s ease-in-out infinite sk-pulse-scaleOut;animation:1s ease-in-out infinite sk-pulse-scaleOut}@-webkit-keyframes sk-pulse-scaleOut{0%{transform:scale(0)}100%{transform:scale(1);opacity:0}}@keyframes sk-pulse-scaleOut{0%{transform:scale(0)}100%{transform:scale(1);opacity:0}}.sk-rectangle-bounce[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;height:100%;width:10%;margin:0 5%;display:inline-block;-webkit-animation:1.2s ease-in-out infinite sk-rectangleBounce-stretchDelay;animation:1.2s ease-in-out infinite sk-rectangleBounce-stretchDelay}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.8s;animation-delay:-.8s}@-webkit-keyframes sk-rectangleBounce-stretchDelay{0%,100%,40%{transform:scaleY(.4)}20%{transform:scaleY(1)}}@keyframes sk-rectangleBounce-stretchDelay{0%,100%,40%{transform:scaleY(.4)}20%{transform:scaleY(1)}}.sk-rectangle-bounce-party[_ngcontent-%COMP%], .sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-party[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10%;height:100%;margin:0 5%;border-radius:0;-webkit-animation-name:rectangle-bounce-party;animation-name:rectangle-bounce-party;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.23s;animation-delay:-.23s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:.62s;animation-duration:.62s;-webkit-animation-delay:-.32s;animation-delay:-.32s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.44s;animation-delay:-.44s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-delay:-.31s;animation-delay:-.31s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:.74s;animation-duration:.74s;-webkit-animation-delay:-.24s;animation-delay:-.24s}@-webkit-keyframes rectangle-bounce-party{0%,100%{transform:scaleY(1)}50%{transform:scaleY(.4)}}@keyframes rectangle-bounce-party{0%,100%{transform:scaleY(1)}50%{transform:scaleY(.4)}}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%], .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10%;height:100%;margin:0 5%;border-radius:0;-webkit-animation:.9s cubic-bezier(.85,.25,.37,.85) infinite rectangle-bounce-pulse-out;animation:.9s cubic-bezier(.85,.25,.37,.85) infinite rectangle-bounce-pulse-out}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.7s;animation-delay:-.7s}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.5s;animation-delay:-.5s}@-webkit-keyframes rectangle-bounce-pulse-out{0%,100%{transform:scaley(1)}50%{transform:scaley(.4)}}@keyframes rectangle-bounce-pulse-out{0%,100%{transform:scaley(1)}50%{transform:scaley(.4)}}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%], .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10%;height:100%;margin:0 5%;border-radius:0;-webkit-animation:.9s cubic-bezier(.11,.49,.38,.78) infinite rectangle-bounce-pulse-out-rapid;animation:.9s cubic-bezier(.11,.49,.38,.78) infinite rectangle-bounce-pulse-out-rapid}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.65s;animation-delay:-.65s}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.4s;animation-delay:-.4s}@-webkit-keyframes rectangle-bounce-pulse-out-rapid{0%,90%{transform:scaley(1)}80%{transform:scaley(.4)}}@keyframes rectangle-bounce-pulse-out-rapid{0%,90%{transform:scaley(1)}80%{transform:scaley(.4)}}.sk-rotating-plane[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center;margin:auto}.sk-rotating-plane[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:currentColor;-webkit-animation:1.2s ease-in-out infinite sk-rotatePlane;animation:1.2s ease-in-out infinite sk-rotatePlane}@-webkit-keyframes sk-rotatePlane{0%{transform:perspective(120px) rotateX(0) rotateY(0)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0)}100%{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}@keyframes sk-rotatePlane{0%{transform:perspective(120px) rotateX(0) rotateY(0)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0)}100%{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}.sk-square-jelly-box[_ngcontent-%COMP%], .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-square-jelly-box[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:-25%;z-index:99997;height:100%;border-radius:10%;-webkit-animation:.6s linear -.1s infinite square-jelly-box-animate;animation:.6s linear -.1s infinite square-jelly-box-animate}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;-webkit-animation:.6s linear -.1s infinite square-jelly-box-shadow;animation:.6s linear -.1s infinite square-jelly-box-shadow}@-webkit-keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scale(1,.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}100%{transform:translateY(0) rotate(90deg)}}@keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scale(1,.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}100%{transform:translateY(0) rotate(90deg)}}@-webkit-keyframes square-jelly-box-shadow{50%{transform:scale(1.25,1)}}@keyframes square-jelly-box-shadow{50%{transform:scale(1.25,1)}}.sk-square-loader[_ngcontent-%COMP%], .sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-square-loader[_ngcontent-%COMP%]{font-size:0;width:100%;height:100%}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:3px solid currentColor;width:100%;height:100%;background:0 0;border-radius:0;-webkit-animation:2s infinite square-loader;animation:2s infinite square-loader}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;-webkit-animation:2s ease-in infinite square-loader-inner;animation:2s ease-in infinite square-loader-inner}@-webkit-keyframes square-loader{0%{transform:rotate(0)}25%,50%{transform:rotate(180deg)}100%,75%{transform:rotate(360deg)}}@keyframes square-loader{0%{transform:rotate(0)}25%,50%{transform:rotate(180deg)}100%,75%{transform:rotate(360deg)}}@-webkit-keyframes square-loader-inner{0%,100%,25%{height:0}50%,75%{height:100%}}@keyframes square-loader-inner{0%,100%,25%{height:0}50%,75%{height:100%}}.sk-three-bounce[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:35%;width:30%;height:30%;background-color:currentColor;border-radius:100%;display:inline-block;-webkit-animation:1.4s ease-in-out infinite both sk-threeBounce-bounceDelay;animation:1.4s ease-in-out infinite both sk-threeBounce-bounceDelay}.bottom-center[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottom-left[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottom-right[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:70%!important}.top-center[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .top-left[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .top-right[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:0!important}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.32s;animation-delay:-.32s}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes sk-threeBounce-bounceDelay{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}@keyframes sk-threeBounce-bounceDelay{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.sk-three-strings[_ngcontent-%COMP%]{width:100%;height:100%}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;box-sizing:border-box;width:100%;height:100%;border-radius:50%}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){left:0;top:0;-webkit-animation:1s linear infinite sk-threeStrings-rotateOne;animation:1s linear infinite sk-threeStrings-rotateOne;border-bottom:3px solid currentColor}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){right:0;top:0;-webkit-animation:1s linear infinite sk-threeStrings-rotateTwo;animation:1s linear infinite sk-threeStrings-rotateTwo;border-right:3px solid currentColor}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){right:0;bottom:0;-webkit-animation:1s linear infinite sk-threeStrings-rotateThree;animation:1s linear infinite sk-threeStrings-rotateThree;border-top:3px solid currentColor}@-webkit-keyframes sk-threeStrings-rotateOne{0%{transform:rotateX(35deg) rotateY(-45deg) rotateZ(0)}100%{transform:rotateX(35deg) rotateY(-45deg) rotateZ(360deg)}}@keyframes sk-threeStrings-rotateOne{0%{transform:rotateX(35deg) rotateY(-45deg) rotateZ(0)}100%{transform:rotateX(35deg) rotateY(-45deg) rotateZ(360deg)}}@-webkit-keyframes sk-threeStrings-rotateTwo{0%{transform:rotateX(50deg) rotateY(10deg) rotateZ(0)}100%{transform:rotateX(50deg) rotateY(10deg) rotateZ(360deg)}}@keyframes sk-threeStrings-rotateTwo{0%{transform:rotateX(50deg) rotateY(10deg) rotateZ(0)}100%{transform:rotateX(50deg) rotateY(10deg) rotateZ(360deg)}}@-webkit-keyframes sk-threeStrings-rotateThree{0%{transform:rotateX(35deg) rotateY(55deg) rotateZ(0)}100%{transform:rotateX(35deg) rotateY(55deg) rotateZ(360deg)}}@keyframes sk-threeStrings-rotateThree{0%{transform:rotateX(35deg) rotateY(55deg) rotateZ(0)}100%{transform:rotateX(35deg) rotateY(55deg) rotateZ(360deg)}}.sk-wandering-cubes[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative;text-align:center}.sk-wandering-cubes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;width:25%;height:25%;position:absolute;top:0;left:0;-webkit-animation:1.8s ease-in-out infinite sk-wanderingCubes-cubeMove;animation:1.8s ease-in-out infinite sk-wanderingCubes-cubeMove}.sk-wandering-cubes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.9s;animation-delay:-.9s}@-webkit-keyframes sk-wanderingCubes-cubeMove{25%{transform:translateX(290%) rotate(-90deg) scale(.5)}50%{transform:translateX(290%) translateY(290%) rotate(-179deg)}50.1%{transform:translateX(290%) translateY(290%) rotate(-180deg)}75%{transform:translateX(0) translateY(290%) rotate(-270deg) scale(.5)}100%{transform:rotate(-360deg)}}@keyframes sk-wanderingCubes-cubeMove{25%{transform:translateX(290%) rotate(-90deg) scale(.5)}50%{transform:translateX(290%) translateY(290%) rotate(-179deg)}50.1%{transform:translateX(290%) translateY(290%) rotate(-180deg)}75%{transform:translateX(0) translateY(290%) rotate(-270deg) scale(.5)}100%{transform:rotate(-360deg)}}'],changeDetection:0}),t})();var ry;let iy=(()=>{let t=ry=class{static forRoot(t){return{ngModule:ry,providers:[{provide:ty,useValue:t}]}}};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),oy=(()=>{class t{constructor(t,e){this.toastr=t,this.loader=e}showToast(t,e,n){"success"==t&&this.toastr.success(e,n),"error"==t&&this.toastr.error(e,n),"info"==t&&this.toastr.info(e,n),"warning"==t&&this.toastr.warning(e,n)}showLoader(){console.log("loaded"),this.loader.start()}stopLoader(){this.loader.stop()}processImages(t){let e=[];0!==t.length&&t.forEach(t=>{if(null!=t.type.match(/image\/*/)){var n=new FileReader;n.readAsDataURL(t),n.onload=t=>{e.push(n.result)}}else this.showToast("danger","Invalid File","Only Images are supported")})}goBack(){window.history.back()}}return t.\u0275fac=function(e){return new(e||t)(Wt(nm),Wt(ey))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sy=(()=>{class t{constructor(t,e,n,r){this.afAuth=t,this.db=e,this.router=n,this.common=r,this.afAuth.authState.subscribe(t=>{t?(localStorage.setItem("uid",t.uid),localStorage.setItem("email",t.email)):(localStorage.removeItem("uid"),localStorage.removeItem("email"),this.router.navigateByUrl("/auth"))})}signIn(t,e){return this.common.showLoader(),console.log(t,e),this.afAuth.signInWithEmailAndPassword(t,e).then(t=>(localStorage.setItem("uid",t.user.uid),localStorage.setItem("email",t.user.email),new Promise(t=>{this.db.collection("users").doc(this.getUid()).valueChanges().subscribe(e=>{t(e)})}).then(t=>{t.archive?alert("you are not allowed to login"):"coordinator"==t.role?(localStorage.setItem("role",t.role),this.router.navigateByUrl("/coordinator")):"educator"==t.role?(localStorage.setItem("role",t.role),this.router.navigateByUrl("/educator")):"student"==t.role&&(localStorage.setItem("role",t.role),this.router.navigateByUrl("/parent"))}))).catch(t=>(this.common.showToast("error","Error",t),t)).finally(()=>{this.common.stopLoader()})}resetPassword(t){return this.common.showLoader(),this.afAuth.sendPasswordResetEmail(t).then(t=>{this.router.navigateByUrl("/auth"),this.common.showToast("success","Reset link Send","Check your email for password reset link")}).finally(()=>{this.common.stopLoader()})}isAuthenticated(){return!!localStorage.getItem("uid")}logOut(){this.common.showLoader(),localStorage.removeItem("uid"),localStorage.removeItem("email"),this.afAuth.signOut().finally(()=>{this.common.stopLoader()})}getUid(){return localStorage.getItem("uid")}getEmail(){return localStorage.getItem("email")}getProfile(){return this.db.collection("users").doc(this.getUid()).valueChanges()}updateProfile(t){return this.db.collection("users").doc(this.getUid()).set(t).then(t=>(this.common.showToast("success","Update Successful","Profile Details Updated Successfully"),t)).catch(t=>(this.common.showToast("error","Error Occoured","Unable to perform this operation"),t))}getRole(){return localStorage.getItem("role")}}return t.\u0275fac=function(e){return new(e||t)(Wt(lg),Wt(xg),Wt(Jf),Wt(oy))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ay(t,e){return new _(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=B(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const uy=new jt("NgValueAccessor"),cy={provide:uy,useExisting:Et(()=>ly),multi:!0};let ly=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(hs(xa),hs(Ca))},t.\u0275dir=ye({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Ts("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[ba([cy])]}),t})();const hy={provide:uy,useExisting:Et(()=>fy),multi:!0},dy=new jt("CompositionEventMode");let fy=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Rc()?Rc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(hs(xa),hs(Ca),hs(dy,8))},t.\u0275dir=ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Ts("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[ba([hy])]}),t})(),py=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t}),t})(),gy=(()=>{class t extends py{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return my(e||t)},t.\u0275dir=ye({type:t,features:[ra]}),t})();const my=tr(gy);function yy(){throw new Error("unimplemented")}class vy extends py{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return yy()}get asyncValidator(){return yy()}}class by{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let _y=(()=>{class t extends by{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(hs(vy,2))},t.\u0275dir=ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Vs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ra]}),t})(),wy=(()=>{class t extends by{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(hs(gy,2))},t.\u0275dir=ye({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Vs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ra]}),t})();function Ey(t){return null==t||0===t.length}const Cy=new jt("NgValidators"),ky=new jt("NgAsyncValidators"),Ty=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Sy{static min(t){return e=>{if(Ey(e.value)||Ey(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ey(e.value)||Ey(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ey(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ey(t.value)?null:Ty.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Ey(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Sy.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ey(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(xy);return 0==e.length?null:function(t){return Iy(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(xy);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return ay(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ay(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return ay(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(j(t=>e(...t)))}return ay(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(Oy)).pipe(j(Iy))}}}function xy(t){return null!=t}function Oy(t){const e=Cs(t)?B(t):t;if(!ks(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Iy(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ay(t){return t.validate?e=>t.validate(e):t}function Py(t){return t.validate?e=>t.validate(e):t}const Ny={provide:uy,useExisting:Et(()=>Ry),multi:!0};let Ry=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(hs(xa),hs(Ca))},t.\u0275dir=ye({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Ts("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[ba([Ny])]}),t})();const My={provide:uy,useExisting:Et(()=>Ly),multi:!0};let Dy=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Ly=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(vy),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(hs(xa),hs(Ca),hs(Dy),hs(Ko))},t.\u0275dir=ye({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Ts("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ba([My])]}),t})();const jy={provide:uy,useExisting:Et(()=>Fy),multi:!0};let Fy=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(hs(xa),hs(Ca))},t.\u0275dir=ye({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Ts("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[ba([jy])]}),t})();const Vy='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Uy='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',By={provide:uy,useExisting:Et(()=>zy),multi:!0};function qy(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let zy=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=ns}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=qy(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(hs(xa),hs(Ca))},t.\u0275dir=ye({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Ts("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ba([By])]}),t})(),Hy=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(qy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(hs(Ca),hs(xa),hs(zy,9))},t.\u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const $y={provide:uy,useExisting:Et(()=>Wy),multi:!0};function Gy(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Wy=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=ns}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(hs(xa),hs(Ca))},t.\u0275dir=ye({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Ts("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ba([$y])]}),t})(),Ky=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Gy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Gy(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(hs(Ca),hs(xa),hs(Wy,9))},t.\u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Qy(t,e){return[...e.path,t]}function Xy(t,e){t||Zy(e,"Cannot find control with"),e.valueAccessor||Zy(e,"No value accessor for form control with"),t.validator=Sy.compose([t.validator,e.validator]),t.asyncValidator=Sy.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Yy(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Yy(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Yy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Zy(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Jy(t){return null!=t?Sy.compose(t.map(Ay)):null}function tv(t){return null!=t?Sy.composeAsync(t.map(Py)):null}const ev=[ly,Fy,Ry,zy,Wy,Ly];function nv(t){const e=iv(t)?t.validators:t;return Array.isArray(e)?Jy(e):e||null}function rv(t,e){const n=iv(e)?e.asyncValidators:t;return Array.isArray(n)?tv(n):n||null}function iv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ov{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=nv(t)}setAsyncValidators(t){this.asyncValidator=rv(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Oy(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof av?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof uv&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new gu,this.statusChanges=new gu}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){iv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class sv extends ov{constructor(t=null,e,n){super(nv(e),rv(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class av extends ov{constructor(t,e,n){super(nv(e),rv(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof sv?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class uv extends ov{constructor(t,e,n){super(nv(e),rv(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof sv?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const cv={provide:gy,useExisting:Et(()=>hv)},lv=(()=>Promise.resolve(null))();let hv=(()=>{class t extends gy{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new gu,this.form=new av({},Jy(t),tv(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){lv.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Xy(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){lv.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){lv.then(()=>{const e=this._findContainer(t.path),n=new av({});(function(t,e){null==t&&Zy(e,"Cannot find control with"),t.validator=Sy.compose([t.validator,e.validator]),t.asyncValidator=Sy.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){lv.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){lv.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(hs(Cy,10),hs(ky,10))},t.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Ts("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ba([cv]),ra]}),t})(),dv=(()=>{class t extends gy{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Qy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Jy(this._validators)}get asyncValidator(){return tv(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return fv(e||t)},t.\u0275dir=ye({type:t,features:[ra]}),t})();const fv=tr(dv);class pv{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Vy}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Uy}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Vy}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Uy}`)}}const gv={provide:gy,useExisting:Et(()=>mv)};let mv=(()=>{class t extends dv{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof hv||pv.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(hs(gy,5),hs(Cy,10),hs(ky,10))},t.\u0275dir=ye({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ba([gv]),ra]}),t})();const yv={provide:vy,useExisting:Et(()=>bv)},vv=(()=>Promise.resolve(null))();let bv=(()=>{class t extends vy{constructor(t,e,n,r){super(),this.control=new sv,this._registered=!1,this.update=new gu,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Zy(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===fy?n=e:(o=e,ev.some(t=>o.constructor===t)?(r&&Zy(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Zy(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Zy(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!ns(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Qy(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Jy(this._rawValidators)}get asyncValidator(){return tv(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xy(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof mv)&&this._parent instanceof dv?pv.formGroupNameException():this._parent instanceof mv||this._parent instanceof hv||pv.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||pv.missingNameException()}_updateValue(t){vv.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;vv.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(hs(gy,9),hs(Cy,10),hs(ky,10),hs(uy,10))},t.\u0275dir=ye({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ba([yv]),ra,ca]}),t})(),_v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const wv={provide:Cy,useExisting:Et(()=>Ev),multi:!0};let Ev=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?Sy.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&as("required",e.required?"":null)},inputs:{required:"required"},features:[ba([wv])]}),t})(),Cv=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),kv=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Dy],imports:[Cv]}),t})(),Tv=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}login(t){this.authService.signIn(t.value.email,t.value.password)}}return t.\u0275fac=function(e){return new(e||t)(hs(sy))},t.\u0275cmp=he({type:t,selectors:[["app-login"]],decls:22,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-sm-9","col-md-7","col-lg-5","mx-auto"],[1,"card","card-signin","my-5"],[1,"card-body","text-center"],["height","100","width","100","src","../../../assets/user.png","alt","",1,"image-circle"],[1,"card-title","text-center"],[1,"form-signin",3,"ngSubmit"],["signin","ngForm"],[1,"form-label-group","py-2"],["type","email","name","email","ngModel","","placeholder","Email address","required","","autofocus","",1,"form-control"],["type","password","name","password","ngModel","","placeholder","Password","required","",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-sm","btn-primary","text-uppercase"],[2,"font-size","xx-small"],["routerLink","/auth/forget-password"]],template:function(t,e){if(1&t){const t=Es();ms(0,"div",0),ms(1,"div",1),ms(2,"div",2),ms(3,"div",3),ms(4,"div",4),vs(5,"img",5),ms(6,"h6",6),Ys(7,"Log in to Child Care Platform"),ys(),ms(8,"form",7,8),Ts("ngSubmit",(function(){Ge(t);const n=ls(9);return e.login(n)})),ms(10,"div",9),vs(11,"input",10),ys(),ms(12,"div",9),vs(13,"input",11),ys(),ms(14,"div",12),ms(15,"button",13),Ys(16,"Sign in"),ys(),ys(),vs(17,"br"),ms(18,"p",14),Ys(19,"Forget Password ? "),ms(20,"a",15),Ys(21," Click here"),ys(),ys(),ys(),ys(),ys(),ys(),ys(),ys()}},directives:[_v,wy,hv,fy,_y,bv,Ev,ep],styles:[".card-signin[_ngcontent-%COMP%]{border:0;border-radius:1rem;box-shadow:0 .5rem 1rem 0 rgba(0,0,0,.1)}"]}),t})();function Sv(t,e,n,i){return r(n)&&(i=n,n=void 0),i?Sv(t,e,n).pipe(j(t=>u(t)?i(...t):i(t))):new _(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}class xv{call(t,e){return e.subscribe(new Ov(t))}}class Ov extends L{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){let e=t[n],r=D(this,e,e,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}function Iv(t){return e=>e.lift(new Av(t))}class Av{constructor(t){this.notifier=t}call(t,e){const n=new Pv(t),r=D(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Pv extends L{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function Nv(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Rv(t,n))}}class Rv{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Mv(t,this.observables,this.project))}}class Mv extends L{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(D(this,t,t,i))}}notifyNext(t,e,n,r,i){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Dv(t,e=Up){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new Lv(r,e))}class Lv{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new jv(t,this.delay,this.scheduler))}}class jv extends p{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(jv.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new Fv(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Sp.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Sp.createComplete()),this.unsubscribe()}}class Fv{constructor(t,e){this.time=t,this.notification=e}}$localize`:@@ngb.alert.closef4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`;const Vv=["*"];$localize`:@@ngb.carousel.previous680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.carousel.nextf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`;const Uv=["dialog"];function Bv(t){return null!=t}$localize`:@@ngb.pagination.first656506dfd46380956a655f919f1498d018f75ca06867721956102594380:`,$localize`:@@ngb.pagination.previous6e52b6ee77a4848d899dd21b591c6fd499e3aef36479320895410098858:`,$localize`:@@ngb.pagination.nextba9cbb4ff311464308a3627e4f1c3345d9fe6d7d5458177150283468089:`,$localize`:@@ngb.pagination.last49f27a460bc97e7e00be5b37098bfa79884fc7d95277020320267646988:`,$localize`:@@ngb.pagination.first-ariaf2f852318759c6396b5d3d17031d53817d7b38cc2241508602425256033:First`,$localize`:@@ngb.pagination.previous-aria680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.pagination.next-ariaf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.pagination.last-aria5c729788ba138508aca1bec050b610f7bf81db3e4882268002141858767:Last`,$localize`:@@ngb.progressbar.value04d611d19c117c60c9e14d0a04399a027184bc775214781723415385277:${"\ufffd0\ufffd"}:INTERPOLATION:%`,$localize`:@@ngb.timepicker.HHce676ab1d6d98f85c836381cf100a4a91ef95a1f4043638465245303811:HH`,$localize`:@@ngb.timepicker.hours3bbce5fef7e1151da052a4e529453edb340e39128070396816726827304:Hours`,$localize`:@@ngb.timepicker.MM72c8edf6a50068a05bde70991e36b1e881f4ca541647282246509919852:MM`,$localize`:@@ngb.timepicker.minutes41e62daa962947c0d23ded0981975d1bddf0bf385531237363767747080:Minutes`,$localize`:@@ngb.timepicker.increment-hourscb74bc1d625a6c1742f0d7d47306cf495780c2185939278348542933629:Increment hours`,$localize`:@@ngb.timepicker.decrement-hours147c7a19429da7d999e247d22e33fee370b1691b3651829882940481818:Decrement hours`,$localize`:@@ngb.timepicker.increment-minutesf5a4a3bc05e053f6732475d0e74875ec01c3a348180147720391025024:Increment minutes`,$localize`:@@ngb.timepicker.decrement-minutesc1a6899e529c096da5b660385d4e77fe1f7ad2717447789825403243588:Decrement minutes`,$localize`:@@ngb.timepicker.SSebe38d36a40a2383c5fefa9b4608ffbda08bd4a33628127143071124194:SS`,$localize`:@@ngb.timepicker.seconds4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c8874012390997067175:Seconds`,$localize`:@@ngb.timepicker.increment-seconds912322ecee7d659d04dcf494a70e22e49d334b265364772110539092174:Increment seconds`,$localize`:@@ngb.timepicker.decrement-seconds5db47ac104294243a70eb9124fbea9d0004ddf69753633511487974857:Decrement seconds`,$localize`:@@ngb.timepicker.PM8d6e691e10306c1b34c6b26805151aaea320ef7f3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.AM69a1f176a93998876952adac57c3bc3863b6105e4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.toast.close-ariaf4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`,"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});let qv=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),zv=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),Hv=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),$v=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),Gv=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();var Wv=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const Kv=(t,e)=>!!e&&e.some(e=>e.contains(t)),Qv=(t,e)=>!e||null!=function(t,e){return e?t.closest(e):null}(t,e),Xv=(()=>"undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)))();const Yv=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Zv(t){const e=Array.from(t.querySelectorAll(Yv)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}class Jv{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,f=0;switch(i){case"top":d=s.top-(e.offsetHeight+u+c);break;case"bottom":d=s.top+s.height;break;case"left":f=s.left-(e.offsetWidth+l+h);break;case"right":f=s.left+s.width}switch(o){case"top":d=s.top;break;case"bottom":d=s.top+s.height-e.offsetHeight;break;case"left":f=s.left;break;case"right":f=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?f=s.left+s.width/2-e.offsetWidth/2:d=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(f)}px, ${Math.round(d)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=m}}const tb=/\s+/,eb=new Jv;let nb=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll,kv]]}),t})(),rb=(()=>{let t=class{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return new t},token:t,providedIn:"root"}),t})();var ib;let ob=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["",8,"navbar"]]}),t})(),sb=(()=>{let t=class{constructor(t){this.elementRef=t,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}};return t.\u0275fac=function(e){return new(e||t)(hs(Ca))},t.\u0275dir=ye({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(t,e){2&t&&Vs("disabled",e.disabled)},inputs:{disabled:"disabled"}}),t})(),ab=(()=>{let t=class{constructor(t){this.dropdown=t,this.placement="bottom",this.isOpen=!1}};return t.\u0275fac=function(e){return new(e||t)(hs(Et(()=>lb)))},t.\u0275dir=ye({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,e,n){var r;1&t&&xu(n,sb,!1),2&t&&Su(r=Ou())&&(e.menuItems=r)},hostVars:5,hostBindings:function(t,e){1&t&&Ts("keydown.ArrowUp",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.ArrowDown",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Home",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.End",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Enter",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Space",(function(t){return e.dropdown.onKeyDown(t)})),2&t&&(as("x-placement",e.placement),Vs("dropdown-menu",!0)("show",e.dropdown.isOpen()))}}),t})(),ub=(()=>{let t=class{constructor(t,e){this.dropdown=t,this._elementRef=e,this.anchorEl=e.nativeElement}getNativeElement(){return this._elementRef.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(hs(Et(()=>lb)),hs(Ca))},t.\u0275dir=ye({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:["aria-haspopup","true",1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){2&t&&as("aria-expanded",e.dropdown.isOpen())}}),t})(),cb=(()=>{let t=ib=class extends ub{constructor(t,e){super(t,e)}};return t.\u0275fac=function(e){return new(e||t)(hs(Et(()=>lb)),hs(Ca))},t.\u0275dir=ye({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:["aria-haspopup","true",1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){1&t&&Ts("click",(function(){return e.dropdown.toggle()}))("keydown.ArrowUp",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.ArrowDown",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Home",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.End",(function(t){return e.dropdown.onKeyDown(t)})),2&t&&as("aria-expanded",e.dropdown.isOpen())},features:[ba([{provide:ub,useExisting:Et(()=>ib)}]),ra]}),t})(),lb=(()=>{let t=class{constructor(t,e,n,r,i,o,s){this._changeDetector=t,this._document=n,this._ngZone=r,this._elementRef=i,this._renderer=o,this._closed$=new T,this._bodyContainer=null,this._open=!1,this.openChange=new gu,this.placement=e.placement,this.container=e.container,this.autoClose=e.autoClose,this.display=s?"static":"dynamic",this._zoneSubscription=r.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(yh(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses()}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers())}_setCloseHandlers(){const t=this._anchor;!function(t,e,n,r,i,o,s,a){var c;n&&t.runOutsideAngular((c=()=>{const c=Sv(e,"keydown").pipe(Iv(i),Jl(t=>t.which===Wv.Escape),Nh(t=>t.preventDefault())),l=Sv(e,"mousedown").pipe(j(t=>{const e=t.target;return 2!==t.button&&!Kv(e,s)&&("inside"===n?Kv(e,o)&&Qv(e,a):"outside"===n?!Kv(e,o):Qv(e,a)||!Kv(e,o))}),Iv(i));(function(...t){if(1===t.length){if(!u(t[0]))return t[0];t=t[0]}return G(t,void 0).lift(new xv)})([c,Sv(e,"mouseup").pipe(Nv(l),Jl(([t,e])=>e),Dv(0),Iv(i))]).subscribe(()=>t.run(r))},Xv?()=>setTimeout(()=>c(),100):c))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this._closed$,this._menu?[this._menuElement.nativeElement]:[],t?[t.getNativeElement()]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(t){const e=t.which,n=this._getMenuElements();let r=-1,i=null;const o=this._isEventFromToggle(t);if(!o&&n.length&&n.forEach((e,n)=>{e.contains(t.target)&&(i=e),e===this._document.activeElement&&(r=n)}),e!==Wv.Space&&e!==Wv.Enter){if(o||i){if(this.open(),n.length){switch(e){case Wv.ArrowDown:r=Math.min(r+1,n.length-1);break;case Wv.ArrowUp:if(this._isDropup()&&-1===r){r=n.length-1;break}r=Math.max(r-1,0);break;case Wv.Home:r=0;break;case Wv.End:r=n.length-1}n[r].focus()}t.preventDefault()}}else!i||!0!==this.autoClose&&"inside"!==this.autoClose||Sv(i,"click").pipe(yh(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.getNativeElement().contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(t=>!t.disabled).map(t=>t.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?function(t,e,n,r,i){let o=Array.isArray(n)?n:n.split(tb);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t=>{const[e,n]=t.split("-"),r=[];return r};let u=o.findIndex(t=>"auto"===t);u>=0&&s.forEach((function(t){null==o.find(e=>-1!==e.search("^"+t))&&o.splice(u++,1,t)}));const c=e.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";let l=null,h=!1;for(l of o){a(l);if(eb.positionElements(t,e,l,r)){h=!0;break}}return h||(l=o[0],a(l),eb.positionElements(t,e,l,r)),l}(this._anchor.anchorEl,this._bodyContainer||this._menuElement.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer,e=this._menuElement;if(e){const n=e.nativeElement;t.appendChild(this._elementRef.nativeElement,n),t.removeStyle(n,"position"),t.removeStyle(n,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const t=this._renderer,e=this._menuElement.nativeElement,n=this._bodyContainer=this._bodyContainer||t.createElement("div");t.setStyle(n,"position","absolute"),t.setStyle(e,"position","static"),t.setStyle(n,"z-index","1050"),t.appendChild(n,e),t.appendChild(this._document.body,n)}}_applyPlacementClasses(t){const e=this._menu;if(e){t||(t=this._getFirstPlacement(this.placement));const n=this._renderer,r=this._elementRef.nativeElement;n.removeClass(r,"dropup"),n.removeClass(r,"dropdown"),e.placement="static"===this.display?null:t;const i=-1!==t.search("^top")?"dropup":"dropdown";n.addClass(r,i);const o=this._bodyContainer;o&&(n.removeClass(o,"dropup"),n.removeClass(o,"dropdown"),n.addClass(o,i))}}};return t.\u0275fac=function(e){return new(e||t)(hs(No),hs(rb),hs(Mc),hs(ec),hs(Ca),hs(xa),hs(ob,8))},t.\u0275dir=ye({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(t,e,n){var r;1&t&&(xu(n,ab,!0),xu(n,ab,!0,Ca),xu(n,ub,!0)),2&t&&(Su(r=Ou())&&(e._menu=r.first),Su(r=Ou())&&(e._menuElement=r.first),Su(r=Ou())&&(e._anchor=r.first))},hostVars:2,hostBindings:function(t,e){2&t&&Vs("show",e.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[ca]}),t})(),hb=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),db=(()=>{let t=class{constructor(){this.backdrop=!0,this.keyboard=!0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return new t},token:t,providedIn:"root"}),t})();class fb{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const pb=()=>{};let gb=(()=>{let t=class{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):pb}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}};return t.\u0275fac=function(e){return new(e||t)(Wt(Mc))},t.\u0275prov=ct({factory:function(){return new t(Wt(Mc))},token:t,providedIn:"root"}),t})(),mb=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,e){2&t&&Us("modal-backdrop fade show"+(e.backdropClass?" "+e.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class yb{close(t){}dismiss(t){}}class vb{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}_dismiss(t){this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){const t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}var bb=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let _b=(()=>{let t=class{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new T,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new gu}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:t}=this._elRef;if(this._zone.runOutsideAngular(()=>{Sv(t,"keydown").pipe(Iv(this._closed$),Jl(t=>t.which===Wv.Escape&&this.keyboard)).subscribe(t=>requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(bb.ESC))}));let e=!1;Sv(this._dialogEl.nativeElement,"mousedown").pipe(Iv(this._closed$),Nh(()=>e=!1),Ch(()=>Sv(t,"mouseup").pipe(Iv(this._closed$),yh(1))),Jl(({target:e})=>t===e)).subscribe(()=>{e=!0}),Sv(t,"click").pipe(Iv(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||t!==n||e||this._zone.run(()=>this.dismiss(bb.BACKDROP_CLICK)),e=!1})}),!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Zv(t)[0];(e||n||t).focus()}}ngOnDestroy(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}};return t.\u0275fac=function(e){return new(e||t)(hs(Mc),hs(Ca),hs(ec))},t.\u0275cmp=he({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n,r,i,o;1&t&&(r=Uv,i=!0,function(t,e,n,r,i,o){t.firstCreatePass&&(Au(t,new _u(n,r,!0,i),-1),t.staticViewQueries=!0),Iu(t,e)}($e(),He(),r,i,o)),2&t&&Su(n=Ou())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(t,e){2&t&&(as("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),Us("modal fade show d-block"+(e.windowClass?" "+e.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Vv,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(function(t){const e=He()[16][6];if(!e.projection){const t=e.projection=ne(1,null),n=t.slice();let r=e.child;for(;null!==r;){const e=0;null!==e&&(n[e]?n[e].projectionNext=r:t[e]=r,n[e]=r),r=r.next}}}(),ms(0,"div",0,1),ms(2,"div",2),function(t,e=0,n){const r=He(),i=$e(),o=mi(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),Xe(),function(t,e,n){wo(e[11],0,e,n,lo(t,n,e),mo(n.parent||e[6],e))}(i,r,o)}(3),ys(),ys()),2&t&&Us("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),wb=(()=>{let t=class{constructor(t,e,n,r,i,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=i,this._ngZone=o,this._activeWindowCmptHasChanged=new T,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Sv(e,"focusin").pipe(Iv(n),j(t=>t.target));Sv(e,"keydown").pipe(Iv(n),Jl(t=>t.which===Wv.Tab),Nv(t)).subscribe(([t,n])=>{const[r,i]=Zv(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Sv(e,"click").pipe(Iv(n),Nv(t),j(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:Bv(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new yb,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),d=new vb(h,c,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(a,a),u.close=t=>{d.close(t)},u.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),d}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(mb).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(_b).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{Bv(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{Bv(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,r,i){return n?n instanceof Wa?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new fb([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new fb([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new fb([[e]])}_createFromComponent(t,e,n,r,i){const o=t.resolveComponentFactory(n),s=Ko.create({providers:[{provide:yb,useValue:r}],parent:e}),a=o.create(s),u=a.location.nativeElement;return i.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new fb([[u]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&this._modalRefs.splice(e,1)};this._modalRefs.push(t),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}};return t.\u0275fac=function(e){return new(e||t)(Wt(wc),Wt(Ko),Wt(Mc),Wt(gb),Wt(Ta),Wt(ec))},t.\u0275prov=ct({factory:function(){return new t(Wt(wc),Wt(Ft),Wt(Mc),Wt(gb),Wt(Ta),Wt(ec))},token:t,providedIn:"root"}),t})(),Eb=(()=>{let t=class{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};return t.\u0275fac=function(e){return new(e||t)(Wt(Ea),Wt(Ko),Wt(wb),Wt(db))},t.\u0275prov=ct({factory:function(){return new t(Wt(Ea),Wt(Ft),Wt(wb),Wt(db))},token:t,providedIn:"root"}),t})(),Cb=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Eb]}),t})(),kb=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),Tb=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),Sb=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),xb=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),Ob=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),Ib=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),Ab=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),Pb=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})(),Nb=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),Rb=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[ll]]}),t})();const Mb=[qv,zv,Hv,$v,Gv,nb,hb,Cb,kb,Tb,Sb,xb,Ob,Ab,Pb,Nb,Rb,Ib];let Db=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[Mb,qv,zv,Hv,$v,Gv,nb,hb,Cb,kb,Tb,Sb,xb,Ob,Ab,Pb,Nb,Rb,Ib]}),t})();function Lb(t,e){1&t&&(ms(0,"div",25),ms(1,"h2",26),Ys(2," Welcome to Child Care Platform"),ys(),vs(3,"img",27),ys())}const jb=function(){return{exact:!0}},Fb=function(t){return{active:t}};let Vb=(()=>{class t{constructor(t,e){this.auth=t,this.config=e,e.placement="bottom-left",e.autoClose=!0}ngOnInit(){}logout(){this.auth.logOut()}}return t.\u0275fac=function(e){return new(e||t)(hs(sy),hs(rb))},t.\u0275cmp=he({type:t,selectors:[["app-coordinator"]],decls:34,vars:16,consts:[[1,"navbar","navbar-expand-lg","navbar-light","shadow"],[1,"navbar-brand"],["ngbDropdown",""],["_ngcontent-gkc-c111","","aria-haspopup","true","id","dropdownManual","ngbDropdownAnchor","","width","1em","height","1em","viewBox","0 0 16 16","id","dropdownConfig","ngbDropdownToggle","","fill","currentColor","xmlns","http://www.w3.org/2000/svg","aria-expanded","false",1,"dropdown-toggle","bi","bi-three-dots-vertical"],["_ngcontent-gkc-c111","","fill-rule","evenodd","d","M9.5 13a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm0-5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm0-5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z","clip-rule","evenodd"],["ngbDropdownMenu","","aria-labelledby","dropdownConfig",2,"right","0px !important","left","unset"],["ngbDropdownItem","",3,"click"],["class","text-center",4,"ngIf"],[1,"card","fixed-bottom","shadow-sm"],[1,"d-flex","flex-row","bd-highlight","text-center","borderless"],["routerLink","/coordinator","routerLinkActive","",1,"p-2","flex-grow-1","bd-highlight",3,"routerLinkActiveOptions"],["rla1","routerLinkActive"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-house-door-fill",3,"ngClass"],["d","M6.5 10.995V14.5a.5.5 0 01-.5.5H2a.5.5 0 01-.5-.5v-7a.5.5 0 01.146-.354l6-6a.5.5 0 01.708 0l6 6a.5.5 0 01.146.354v7a.5.5 0 01-.5.5h-4a.5.5 0 01-.5-.5V11c0-.25-.25-.5-.5-.5H7c-.25 0-.5.25-.5.495z"],["fill-rule","evenodd","d","M13 2.5V6l-2-2V2.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z","clip-rule","evenodd"],["routerLink","/coordinator/manage-educator","routerLinkActive","",1,"p-2","flex-grow-1","bd-highlight",3,"routerLinkActiveOptions"],["rla2","routerLinkActive"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-people-fill",3,"ngClass"],["fill-rule","evenodd","d","M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 100-6 3 3 0 000 6zm-5.784 6A2.238 2.238 0 015 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 005 9c-4 0-5 3-5 4s1 1 1 1h4.216zM4.5 8a2.5 2.5 0 100-5 2.5 2.5 0 000 5z","clip-rule","evenodd"],["routerLink","/coordinator/manage-student","routerLinkActive","",1,"p-2","flex-grow-1","bd-highlight",3,"routerLinkActiveOptions"],["rla3","routerLinkActive"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-x-diamond",3,"ngClass"],["fill-rule","evenodd","d","M6.95.435c.58-.58 1.52-.58 2.1 0l6.515 6.516c.58.58.58 1.519 0 2.098L9.05 15.565c-.58.58-1.519.58-2.098 0L.435 9.05a1.482 1.482 0 010-2.098L6.95.435zm1.4.7a.495.495 0 00-.7 0L1.134 7.65a.495.495 0 000 .7l6.516 6.516a.495.495 0 00.7 0l6.516-6.516a.495.495 0 000-.7L8.35 1.134z","clip-rule","evenodd"],["fill-rule","evenodd","d","M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z","clip-rule","evenodd"],[1,"text-center"],[1,"py-5"],["src","../../assets/childcare.jpg","height","200","width","300","alt",""]],template:function(t,e){if(1&t&&(ms(0,"nav",0),ms(1,"a",1),Ys(2,"ChildCare"),ys(),ms(3,"div",2),mn(),ms(4,"svg",3),vs(5,"path",4),ys(),yn(),ms(6,"div",5),ms(7,"button",6),Ts("click",(function(){return e.logout()})),Ys(8,"logout"),ys(),ys(),ys(),ys(),cs(9,Lb,4,0,"div",7),vs(10,"router-outlet"),ms(11,"div",8),ms(12,"div",9),ms(13,"div",10,11),mn(),ms(15,"svg",12),vs(16,"path",13),vs(17,"path",14),ys(),yn(),vs(18,"br"),Ys(19," Home "),ys(),ms(20,"div",15,16),mn(),ms(22,"svg",17),vs(23,"path",18),ys(),yn(),vs(24,"br"),Ys(25," Educators "),ys(),ms(26,"div",19,20),mn(),ms(28,"svg",21),vs(29,"path",22),vs(30,"path",23),vs(31,"path",24),ys(),yn(),vs(32,"br"),Ys(33," Children "),ys(),ys(),ys()),2&t){const t=ls(14),e=ls(21),n=ls(27);oi(9),ps("ngIf",1==t.isActive),oi(4),ps("routerLinkActiveOptions",fu(7,jb)),oi(2),ps("ngClass",pu(8,Fb,t.isActive)),oi(5),ps("routerLinkActiveOptions",fu(10,jb)),oi(2),ps("ngClass",pu(11,Fb,e.isActive)),oi(4),ps("routerLinkActiveOptions",fu(13,jb)),oi(2),ps("ngClass",pu(14,Fb,n.isActive))}},directives:[ob,lb,ub,cb,ab,sb,sl,sp,tp,rp,nl],styles:[".borderless[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1em}.active[_ngcontent-%COMP%]{color:green!important}"]}),t})();function Ub(t,e){1&t&&(ms(0,"div",26),ms(1,"h2",27),Ys(2," Welcome to Child Care Platform"),ys(),vs(3,"img",28),ys())}const Bb=function(){return{exact:!0}},qb=function(t){return{active:t}};let zb=(()=>{class t{constructor(t){this.auth=t}ngOnInit(){}logout(){this.auth.logOut()}}return t.\u0275fac=function(e){return new(e||t)(hs(sy))},t.\u0275cmp=he({type:t,selectors:[["app-educator"]],decls:36,vars:18,consts:[[1,"navbar","navbar-expand-lg","navbar-light","shadow"],[1,"navbar-brand"],["ngbDropdown",""],["_ngcontent-gkc-c111","","aria-haspopup","true","id","dropdownManual","ngbDropdownAnchor","","width","1em","height","1em","viewBox","0 0 16 16","id","dropdownConfig","ngbDropdownToggle","","fill","currentColor","xmlns","http://www.w3.org/2000/svg","aria-expanded","false",1,"dropdown-toggle","bi","bi-three-dots-vertical"],["_ngcontent-gkc-c111","","fill-rule","evenodd","d","M9.5 13a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm0-5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm0-5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z","clip-rule","evenodd"],["ngbDropdownMenu","","aria-labelledby","dropdownConfig",2,"right","0px !important","left","unset"],["ngbDropdownItem","",3,"routerLink"],["ngbDropdownItem","",3,"click"],["class","text-center",4,"ngIf"],[1,"card","fixed-bottom","shadow-sm"],[1,"d-flex","flex-row","bd-highlight","text-center","borderless"],["routerLink","/educator","routerLinkActive","",1,"p-2","flex-grow-1","bd-highlight",3,"routerLinkActiveOptions"],["rla1","routerLinkActive"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-house-door-fill",3,"ngClass"],["d","M6.5 10.995V14.5a.5.5 0 01-.5.5H2a.5.5 0 01-.5-.5v-7a.5.5 0 01.146-.354l6-6a.5.5 0 01.708 0l6 6a.5.5 0 01.146.354v7a.5.5 0 01-.5.5h-4a.5.5 0 01-.5-.5V11c0-.25-.25-.5-.5-.5H7c-.25 0-.5.25-.5.495z"],["fill-rule","evenodd","d","M13 2.5V6l-2-2V2.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z","clip-rule","evenodd"],["routerLinkActive","",1,"p-2","flex-grow-1","bd-highlight",3,"routerLinkActiveOptions"],["rla2","routerLinkActive"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-people-fill",3,"ngClass"],["fill-rule","evenodd","d","M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 100-6 3 3 0 000 6zm-5.784 6A2.238 2.238 0 015 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 005 9c-4 0-5 3-5 4s1 1 1 1h4.216zM4.5 8a2.5 2.5 0 100-5 2.5 2.5 0 000 5z","clip-rule","evenodd"],["routerLinkActive","",1,"p-2","flex-grow-1","bd-highlight",3,"routerLink","routerLinkActiveOptions"],["rla3","routerLinkActive"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-x-diamond",3,"ngClass"],["fill-rule","evenodd","d","M6.95.435c.58-.58 1.52-.58 2.1 0l6.515 6.516c.58.58.58 1.519 0 2.098L9.05 15.565c-.58.58-1.519.58-2.098 0L.435 9.05a1.482 1.482 0 010-2.098L6.95.435zm1.4.7a.495.495 0 00-.7 0L1.134 7.65a.495.495 0 000 .7l6.516 6.516a.495.495 0 00.7 0l6.516-6.516a.495.495 0 000-.7L8.35 1.134z","clip-rule","evenodd"],["fill-rule","evenodd","d","M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z","clip-rule","evenodd"],[1,"text-center"],[1,"py-5"],["src","../../assets/childcare.jpg","height","200","width","300","alt",""]],template:function(t,e){if(1&t&&(ms(0,"nav",0),ms(1,"a",1),Ys(2,"ChildCare"),ys(),ms(3,"div",2),mn(),ms(4,"svg",3),vs(5,"path",4),ys(),yn(),ms(6,"div",5),ms(7,"button",6),Ys(8,"Profile"),ys(),ms(9,"button",7),Ts("click",(function(){return e.logout()})),Ys(10,"logout"),ys(),ys(),ys(),ys(),cs(11,Ub,4,0,"div",8),vs(12,"router-outlet"),ms(13,"div",9),ms(14,"div",10),ms(15,"div",11,12),mn(),ms(17,"svg",13),vs(18,"path",14),vs(19,"path",15),ys(),yn(),vs(20,"br"),Ys(21," Home "),ys(),ms(22,"div",16,17),mn(),ms(24,"svg",18),vs(25,"path",19),ys(),yn(),vs(26,"br"),Ys(27," Observations "),ys(),ms(28,"div",20,21),mn(),ms(30,"svg",22),vs(31,"path",23),vs(32,"path",24),vs(33,"path",25),ys(),yn(),vs(34,"br"),Ys(35," Children "),ys(),ys(),ys()),2&t){const t=ls(16),n=ls(23),r=ls(29);oi(7),As("routerLink","/educator/update-educator/",e.auth.getUid(),""),oi(4),ps("ngIf",1==t.isActive),oi(4),ps("routerLinkActiveOptions",fu(9,Bb)),oi(2),ps("ngClass",pu(10,qb,t.isActive)),oi(5),ps("routerLinkActiveOptions",fu(12,Bb)),oi(2),ps("ngClass",pu(13,qb,n.isActive)),oi(4),As("routerLink","/educator/manage-student/",e.auth.getUid(),""),ps("routerLinkActiveOptions",fu(15,Bb)),oi(2),ps("ngClass",pu(16,qb,r.isActive))}},directives:[ob,lb,ub,cb,ab,sb,tp,sl,sp,rp,nl],styles:[""]}),t})(),Hb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-parent"]],decls:2,vars:0,template:function(t,e){1&t&&(ms(0,"p"),Ys(1,"parent works!"),ys())},styles:[""]}),t})(),$b=(()=>{class t{constructor(t,e,n){this.db=t,this.https=e,this.common=n}addStudent(t,e){return n=this,void 0,i=function*(){let n=!1;this.common.showLoader(),setTimeout(()=>{this.common.stopLoader(),n||this.common.showToast("error","Error Occoured","User Might already Exist")},1e4),yield this.https.post("https://us-central1-observationportal.cloudfunctions.net/createStudent",{email:t.email,pass:t.password.toString()}).subscribe(t=>{console.log(t),t.uid&&(console.log(t),this.db.collection("users").doc(t.uid.toString()).set(Object.assign({role:"student",archive:!1},e)).then(t=>{this.common.showToast("success","Successfully Added New Student",""),n=!0,this.common.stopLoader()}))})},new((r=void 0)||(r=Promise))((function(t,e){function o(t){try{a(i.next(t))}catch(n){e(n)}}function s(t){try{a(i.throw(t))}catch(n){e(n)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,s)}a((i=i.apply(n,[])).next())}));var n,r,i}updateStudentProfile(t,e){return this.common.showLoader(),this.db.collection("users").doc(t).update(e).then(t=>{this.common.showToast("success","operation successful","")}).catch(t=>{this.common.showToast("error",t,"")}).finally(()=>{this.common.stopLoader()})}getStudents(){return this.db.collection("users",t=>t.where("role","==","student")).snapshotChanges().pipe(j(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})))}getUnArchivedStudents(){return this.db.collection("users",t=>t.where("role","==","student").where("archive","==",!1)).snapshotChanges().pipe(j(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})))}getStudent(t){return this.db.collection("users").doc(t).valueChanges()}archive(t){this.common.showLoader(),this.db.collection("users").doc(t).update({archive:!0}).then(t=>{this.common.showToast("success","operation successful","")}).catch(t=>{this.common.showToast("error",t,"")}).finally(()=>{this.common.stopLoader()})}makeActive(t){this.common.showLoader(),this.db.collection("users").doc(t).update({archive:!1}).then(t=>{this.common.showToast("success","operation successful","")}).catch(t=>{this.common.showToast("error",t,"")}).finally(()=>{this.common.stopLoader()})}}return t.\u0275fac=function(e){return new(e||t)(Wt(xg),Wt(Cm),Wt(oy))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Gb=(()=>{class t{constructor(t,e,n){this.db=t,this.https=e,this.common=n}addEducator(t,e){let n=!1;return this.common.showLoader(),setTimeout(()=>{this.common.stopLoader(),n||this.common.showToast("error","Error Occoured","User Might already Exist")},12e3),this.https.post("https://us-central1-observationportal.cloudfunctions.net/createEducator",{email:t.email,pass:t.password.toString()}).subscribe(t=>{t.uid&&(console.log(t),this.db.collection("users").doc(t.uid.toString()).set(Object.assign({role:"educator",archive:!1},e)).then(t=>{this.common.showToast("success","Successfully Added New Educator",""),n=!0})),this.common.stopLoader()})}updateEducatorProfile(t,e){return this.common.showLoader(),this.db.collection("users").doc(t).update(e).then(t=>{this.common.showToast("success","operation successful","")}).catch(t=>{this.common.showToast("error",t,"")}).finally(()=>{this.common.stopLoader()})}getEducators(){return this.db.collection("users",t=>t.where("role","==","educator")).snapshotChanges().pipe(j(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})))}getUnArchivedEducators(){return this.db.collection("users",t=>t.where("role","==","educator").where("archive","==",!1)).snapshotChanges().pipe(j(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})))}getEducator(t){return this.db.collection("users").doc(t).valueChanges()}archive(t){this.common.showLoader(),this.db.collection("users").doc(t).update({archive:!0}).then(t=>{this.common.showToast("success","operation successful","")}).catch(t=>{this.common.showToast("error",t,"")}).finally(()=>{this.common.stopLoader()})}makeActive(t){this.common.showLoader(),this.db.collection("users").doc(t).update({archive:!1}).then(t=>{this.common.showToast("success","operation successful","")}).catch(t=>{this.common.showToast("error",t,"")}).finally(()=>{this.common.stopLoader()})}}return t.\u0275fac=function(e){return new(e||t)(Wt(xg),Wt(Cm),Wt(oy))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wb=(()=>{class t{constructor(t,e,n,r){this.db=t,this.common=e,this.student=n,this.educator=r}addObserver(t,e){this.common.showLoader(),this.db.collection("observations",n=>n.where("eid","==",e).where("sid","==",t)).get().subscribe(n=>{if(n.empty)return this.db.collection("observations").add({sid:t,eid:e,archive:!1}).then(t=>{this.common.showToast("success","Assigned Successfully",""),this.common.goBack()}).catch(t=>{this.common.showToast("error",t,"")}).finally(()=>{this.common.stopLoader()});this.common.showToast("error","Already Assigned",""),this.common.stopLoader()})}archiveObserver(t){return this.db.collection("observations").doc(t).update({archive:!0})}makeObservervationActive(t){return this.db.collection("observations").doc(t).update({archive:!1})}getObserversBySid(t){return this.db.collection("observations",e=>e.where("sid","==",t)).snapshotChanges().pipe(j(t=>t.map(t=>{const e=t.payload.doc.data(),n=t.payload.doc.id;return this.getEducatorData(e.eid).then(t=>t).then(t=>this.getStudentData(e.sid).then(r=>Object.assign({studentData:r,educatorData:t,id:n},e)))})))}getObserversByEid(t){return this.db.collection("observations",e=>e.where("eid","==",t)).snapshotChanges().pipe(j(t=>t.map(t=>{const e=t.payload.doc.data();return this.getStudentData(e.sid).then(n=>{let r,i;return r=n,this.getEducatorData(e.eid).then(n=>(i=n,Object.assign({id:t.payload.doc.id,studentData:r,educatorData:i},e)))})})))}getStudentData(t){return new Promise(e=>{this.db.collection("users").doc(t).valueChanges().subscribe(t=>{e(t)})})}getEducatorData(t){return new Promise(e=>{this.db.collection("users").doc(t).valueChanges().subscribe(t=>{console.log(t),e(t)})})}}return t.\u0275fac=function(e){return new(e||t)(Wt(xg),Wt(oy),Wt($b),Wt(Gb))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Kb(t,e){if(1&t){const t=Es();ms(0,"form",12,13),Ts("ngSubmit",(function(){Ge(t);const e=ls(1);return Os().update(e)})),ms(2,"div",14),ms(3,"input",15),Ts("ngModelChange",(function(e){return Ge(t),Os().profileInfo.email=e})),ys(),ys(),ms(4,"div",14),ms(5,"input",16),Ts("ngModelChange",(function(e){return Ge(t),Os().profileInfo.name=e})),ys(),ys(),ms(6,"div",17),ms(7,"input",18),Ts("ngModelChange",(function(e){return Ge(t),Os().profileInfo.number=e})),ys(),ys(),ms(8,"div",17),ms(9,"input",19),Ts("ngModelChange",(function(e){return Ge(t),Os().profileInfo.age=e})),ys(),ys(),ms(10,"div",8),ms(11,"button",20),Ys(12,"Update"),ys(),ys(),ys()}if(2&t){const t=Os();oi(3),ps("ngModel",t.profileInfo.email),oi(2),ps("ngModel",t.profileInfo.name),oi(2),ps("ngModel",t.profileInfo.number),oi(2),ps("ngModel",t.profileInfo.age)}}const Qb=function(t){return{archive:t}};function Xb(t,e){if(1&t&&(ms(0,"div",23),ms(1,"div",24),ms(2,"div",25),ms(3,"div",26),Ys(4),ys(),ms(5,"div",27),mn(),ms(6,"svg",28),vs(7,"path",29),ys(),ys(),ys(),ys(),ys()),2&t){const t=e.$implicit;ps("ngClass",pu(3,Qb,1==t.archive)),oi(4),Js(" ",t.educatorData.name," "),oi(2),As("routerLink","/coordinator/update-educator/",t.eid,"")}}function Yb(t,e){if(1&t&&(ms(0,"div",4),ms(1,"div",5),Ys(2,"Educator Information "),ms(3,"button",21),Ys(4,"Assign New Educator"),ys(),ys(),ms(5,"div",6),cs(6,Xb,8,5,"div",22),ys(),ys()),2&t){const t=Os();oi(3),As("routerLink","/coordinator/map-educator/",t.uid,""),oi(3),ps("ngForOf",t.assignedEducators)}}let Zb=(()=>{class t{constructor(t,e,n,r,i){this.route=t,this.profileService=e,this.observtion=n,this.common=r,this.auth=i,this.assignedEducators=[]}ngOnInit(){this.uid=this.route.snapshot.params.uid,console.log(this.uid),this.profileService.getStudent(this.uid).subscribe(t=>{this.profileInfo=t}),this.getObservationsDocs()}update(t){this.profileService.updateStudentProfile(this.uid,t.value)}getObservationsDocs(){this.assignedEducators=[],this.observtion.getObserversBySid(this.uid).subscribe(t=>{t.forEach(t=>{t.then(t=>{this.assignedEducators.push(t),console.log(this.assignedEducators)})})})}}return t.\u0275fac=function(e){return new(e||t)(hs(Hd),hs($b),hs(Wb),hs(oy),hs(sy))},t.\u0275cmp=he({type:t,selectors:[["app-update-student-profile"]],decls:20,vars:2,consts:[[1,"container","mt-2"],["width","2em","height","2em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-arrow-left-short",3,"click"],["fill-rule","evenodd","d","M7.854 4.646a.5.5 0 010 .708L5.207 8l2.647 2.646a.5.5 0 01-.708.708l-3-3a.5.5 0 010-.708l3-3a.5.5 0 01.708 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M4.5 8a.5.5 0 01.5-.5h6.5a.5.5 0 010 1H5a.5.5 0 01-.5-.5z","clip-rule","evenodd"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"p-2"],[1,"text-center"],["height","100","width","100","src","../../../assets/user.png","alt","",1,"image-circle"],["class","form-signin",3,"ngSubmit",4,"ngIf"],["class","card",4,"ngIf"],[1,"form-signin",3,"ngSubmit"],["editFrom","ngForm"],[1,"form-label-group","py-1"],["disabled","","type","email","name","email","placeholder","Email address","required","","autofocus","",1,"form-control",2,"font-size","12px !important",3,"ngModel","ngModelChange"],["type","name","name","name","placeholder","Name","required","","autofocus","",1,"form-control",2,"font-size","12px !important",3,"ngModel","ngModelChange"],[1,"form-label-group","py-2"],["type","number","name","number","placeholder","Contact number","required","","autofocus","",1,"form-control",2,"font-size","12px !important",3,"ngModel","ngModelChange"],["type","age","name","age","placeholder","Age","required","","autofocus","",1,"form-control",2,"font-size","12px !important",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-success",2,"font-size","12px !important"],[1,"btn","btn-sm","btn-success",2,"font-size","12px !important","float","right",3,"routerLink"],["class","card m-1 shadow",3,"ngClass",4,"ngFor","ngForOf"],[1,"card","m-1","shadow",3,"ngClass"],[1,"card-body","p-1",2,"padding","0"],[1,"d-flex","flex-row","bd-highlight","text-center","borderless"],[1,"p-1","flex-grow-1","bd-highlight",2,"font-size","15px !important"],[1,"p-1","flex-grow-1","bd-highlight"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-person-fill","float-right",3,"routerLink"],["fill-rule","evenodd","d","M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 100-6 3 3 0 000 6z","clip-rule","evenodd"]],template:function(t,e){1&t&&(ms(0,"div",0),mn(),ms(1,"svg",1),Ts("click",(function(){return e.common.goBack()})),vs(2,"path",2),vs(3,"path",3),ys(),ys(),yn(),vs(4,"br"),ms(5,"div",4),ms(6,"div",5),Ys(7,"Profile Information"),ys(),ms(8,"div",6),ms(9,"div",7),ms(10,"div",8),vs(11,"img",9),vs(12,"br"),cs(13,Kb,13,4,"form",10),ys(),ys(),ys(),ys(),vs(14,"br"),vs(15,"br"),cs(16,Yb,7,2,"div",11),vs(17,"br"),vs(18,"br"),vs(19,"br")),2&t&&(oi(13),ps("ngIf",e.profileInfo),oi(3),ps("ngIf","coordinator"==e.auth.getRole()))},directives:[sl,_v,wy,hv,fy,Ev,_y,bv,Ry,tp,il,nl],styles:[""]}),t})();function Jb(t,e){if(1&t){const t=Es();ms(0,"form",8,9),Ts("ngSubmit",(function(){Ge(t);const e=ls(1);return Os().update(e)})),ms(2,"div",10),ms(3,"input",11),Ts("ngModelChange",(function(e){return Ge(t),Os().profileInfo.email=e})),ys(),ys(),ms(4,"div",10),ms(5,"input",12),Ts("ngModelChange",(function(e){return Ge(t),Os().profileInfo.name=e})),ys(),ys(),ms(6,"div",13),ms(7,"input",14),Ts("ngModelChange",(function(e){return Ge(t),Os().profileInfo.number=e})),ys(),ys(),ms(8,"div",13),ms(9,"input",15),Ts("ngModelChange",(function(e){return Ge(t),Os().profileInfo.age=e})),ys(),ys(),ms(10,"div",5),ms(11,"button",16),Ys(12,"Save"),ys(),ys(),ys()}if(2&t){const t=Os();oi(3),ps("ngModel",t.profileInfo.email),oi(2),ps("ngModel",t.profileInfo.name),oi(2),ps("ngModel",t.profileInfo.number),oi(2),ps("ngModel",t.profileInfo.age)}}let t_=(()=>{class t{constructor(t,e,n,r){this.route=t,this.profileService=e,this.observation=n,this.common=r,this.assignedStudents=[]}ngOnInit(){this.uid=this.route.snapshot.params.uid,console.log(this.uid),this.profileService.getEducator(this.uid).subscribe(t=>{this.profileInfo=t}),this.getObservationsDocs()}update(t){this.profileService.updateEducatorProfile(this.uid,t.value)}getObservationsDocs(){this.assignedStudents=[],this.observation.getObserversByEid(this.uid).subscribe(t=>{t.forEach(t=>{t.then(t=>{this.assignedStudents.push(t),console.log(this.assignedStudents)})})})}}return t.\u0275fac=function(e){return new(e||t)(hs(Hd),hs(Gb),hs(Wb),hs(oy))},t.\u0275cmp=he({type:t,selectors:[["app-update-educator-profile"]],decls:9,vars:1,consts:[[1,"container"],["width","2em","height","2em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-arrow-left-short",3,"click"],["fill-rule","evenodd","d","M7.854 4.646a.5.5 0 010 .708L5.207 8l2.647 2.646a.5.5 0 01-.708.708l-3-3a.5.5 0 010-.708l3-3a.5.5 0 01.708 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M4.5 8a.5.5 0 01.5-.5h6.5a.5.5 0 010 1H5a.5.5 0 01-.5-.5z","clip-rule","evenodd"],[1,"p-2"],[1,"text-center"],["height","100","width","100","src","../../../assets/user.png","alt","",1,"image-circle"],["class","form-signin",3,"ngSubmit",4,"ngIf"],[1,"form-signin",3,"ngSubmit"],["editFrom","ngForm"],[1,"form-label-group","py-1"],["disabled","","type","email","name","email","placeholder","Email address","required","","autofocus","",1,"form-control",2,"font-size","12px !important",3,"ngModel","ngModelChange"],["type","name","name","name","placeholder","Name","required","","autofocus","",1,"form-control",2,"font-size","12px !important",3,"ngModel","ngModelChange"],[1,"form-label-group","py-2"],["type","number","name","number","placeholder","Contact number","required","","autofocus","",1,"form-control",2,"font-size","12px !important",3,"ngModel","ngModelChange"],["type","age","name","age","placeholder","Age","required","","autofocus","",1,"form-control",2,"font-size","12px !important",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-sm","btn-success",2,"font-size","12px !important"]],template:function(t,e){1&t&&(ms(0,"div",0),mn(),ms(1,"svg",1),Ts("click",(function(){return e.common.goBack()})),vs(2,"path",2),vs(3,"path",3),ys(),yn(),ms(4,"div",4),ms(5,"div",5),vs(6,"img",6),vs(7,"br"),cs(8,Jb,13,4,"form",7),ys(),ys(),ys()),2&t&&(oi(8),ps("ngIf",e.profileInfo))},directives:[sl,_v,wy,hv,fy,Ev,_y,bv,Ry],styles:[""]}),t})();const e_=function(t){return{archive:t}};function n_(t,e){if(1&t){const t=Es();ms(0,"div",9),ms(1,"div",10),ms(2,"div",11),ms(3,"div",12),Ys(4),ys(),ms(5,"div",13),ms(6,"button",14),Ts("click",(function(){Ge(t);const n=e.$implicit;return Os().toggleArchive(n.id,n.archive)})),mn(),ms(7,"svg",15),vs(8,"path",16),ys(),ys(),yn(),ms(9,"button",17),mn(),ms(10,"svg",18),vs(11,"path",19),ys(),ys(),ys(),ys(),ys(),ys()}if(2&t){const t=e.$implicit;ps("ngClass",pu(3,e_,1==t.archive)),oi(4),Js(" ",t.name," "),oi(5),As("routerLink","/coordinator/update-educator/",t.id,"")}}function r_(t,e){if(1&t){const t=Es();ms(0,"div",20),ms(1,"div",21),mn(),ms(2,"svg",22),Ts("click",(function(){return e.$implicit.dismiss("Cross click")})),vs(3,"path",23),vs(4,"path",24),ys(),ys(),ys(),yn(),ms(5,"div",25),ms(6,"div",26),ms(7,"div",27),ms(8,"div",28),ms(9,"div",29),ms(10,"p"),Ys(11," Add Educator"),ys(),vs(12,"img",30),vs(13,"br"),ms(14,"form",31,32),Ts("ngSubmit",(function(){Ge(t);const e=ls(15);return Os().addEducator(e)})),ms(16,"div",33),vs(17,"input",34),ys(),ms(18,"div",33),vs(19,"input",35),ys(),ms(20,"div",36),vs(21,"input",37),ys(),ms(22,"div",36),vs(23,"input",38),ys(),ms(24,"div",36),vs(25,"input",39),ys(),ms(26,"div",29),ms(27,"button",40),Ys(28,"Add Educator"),ys(),ys(),ys(),ys(),ys(),ys(),ys(),ys()}}let i_=(()=>{class t{constructor(t,e){this.educatorService=t,this.modalService=e,this.educators=[]}ngOnInit(){this.educatorService.getEducators().subscribe(t=>{this.educators=t,console.log(this.educators)})}addEducator(t){let e={email:t.value.email,password:t.value.password};delete t.value.password,this.educatorService.addEducator(e,t.value),this.modalService.dismissAll()}toggleArchive(t,e){e?(console.log("true"),this.educatorService.makeActive(t)):this.educatorService.archive(t)}openVerticallyCentered(t){this.modalService.open(t,{centered:!0})}}return t.\u0275fac=function(e){return new(e||t)(hs(Gb),hs(Eb))},t.\u0275cmp=he({type:t,selectors:[["app-manage-educator"]],decls:15,vars:1,consts:[[1,"container","p-3","mb-5"],[1,"card","d-flex","flex-row","bd-highlight","borderless",2,"background-color","rgb(9, 64, 68)","color","white !important"],[1,"p-2","flex-grow-1","bd-highlight"],["type","button",1,"btn","btn-default","btn-circle","float-right",3,"click"],["width","1.5em","height","1.5em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-plus-circle-fill"],["fill-rule","evenodd","d","M16 8A8 8 0 110 8a8 8 0 0116 0zM8.5 4a.5.5 0 00-1 0v3.5H4a.5.5 0 000 1h3.5V12a.5.5 0 001 0V8.5H12a.5.5 0 000-1H8.5V4z","clip-rule","evenodd"],[1,"text-center","text-muted"],["class","card m-1 shadow",3,"ngClass",4,"ngFor","ngForOf"],["content",""],[1,"card","m-1","shadow",3,"ngClass"],[1,"card-body","p-1",2,"padding","0"],[1,"d-flex","flex-row","bd-highlight","borderless"],[1,"p-1","flex-grow-1","bd-highlight",2,"font-size","15px !important"],[1,"p-1","flex-grow-1","bd-highlight"],["type","button",1,"btn","btn-default","btn-circle","mx-1","float-right",3,"click"],["width","1.5em","height","1.5em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-archive-fill"],["fill-rule","evenodd","d","M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM6 7a.5.5 0 000 1h4a.5.5 0 000-1H6zM.8 1a.8.8 0 00-.8.8V3a.8.8 0 00.8.8h14.4A.8.8 0 0016 3V1.8a.8.8 0 00-.8-.8H.8z","clip-rule","evenodd"],["type","button",1,"btn","btn-default","btn-circle","mx-1","float-right",3,"routerLink"],["width","1.5em","height","1.5em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-person-fill"],["fill-rule","evenodd","d","M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 100-6 3 3 0 000 6z","clip-rule","evenodd"],[1,"modal-header",2,"padding","0 !important"],[1,"ml-auto"],["width","1.5em","height","1.5em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-x",3,"click"],["fill-rule","evenodd","d","M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z","clip-rule","evenodd"],[1,"modal-body"],[1,"row"],[1,"col-sm-9","mx-auto"],[1,"p-2"],[1,"text-center"],["height","100","width","100","src","../../../assets/user.png","alt","",1,"image-circle"],[1,"form-signin",3,"ngSubmit"],["educatorFrom","ngForm"],[1,"form-label-group","py-1"],["type","email","name","email","ngModel","","placeholder","Email address","required","","autofocus","",1,"form-control",2,"font-size","12px !important"],["type","name","name","name","ngModel","","placeholder","Name","required","","autofocus","",1,"form-control",2,"font-size","12px !important"],[1,"form-label-group","py-2"],["type","password","name","password","ngModel","","placeholder","Password","required","",1,"form-control",2,"font-size","12px !important"],["type","number","name","number","ngModel","","placeholder","Contact number","required","","autofocus","",1,"form-control",2,"font-size","12px !important"],["type","Age","name","Age","ngModel","","placeholder","Age","required","","autofocus","",1,"form-control",2,"font-size","12px !important"],["type","submit",1,"btn","btn-sm","btn-success",2,"font-size","12px !important"]],template:function(t,e){if(1&t){const t=Es();ms(0,"div",0),ms(1,"div",1),ms(2,"div",2),ms(3,"h5"),Ys(4,"Educators List"),ys(),ys(),ms(5,"div",2),ms(6,"button",3),Ts("click",(function(){Ge(t);const n=ls(14);return e.openVerticallyCentered(n)})),mn(),ms(7,"svg",4),vs(8,"path",5),ys(),ys(),ys(),ys(),yn(),vs(9,"hr"),ms(10,"p",6),Ys(11," Red Cards are archived profiles "),ys(),cs(12,n_,12,5,"div",7),ys(),cs(13,r_,29,0,"ng-template",null,8,Nu)}2&t&&(oi(12),ps("ngForOf",e.educators))},directives:[il,nl,tp,_v,wy,hv,fy,_y,bv,Ev,Ry],styles:[".card-signin[_ngcontent-%COMP%]{border:0;border-radius:1rem;box-shadow:0 .5rem 1rem 0 rgba(0,0,0,.1)}.user-form[_ngcontent-%COMP%]{font-size:15px!important}.archive[_ngcontent-%COMP%]{background-color:#bb3b28!important;color:#fff}.btn-circle[_ngcontent-%COMP%]{width:35px;height:35px;padding:6px 0;border-radius:15px;text-align:center;font-size:12px;line-height:1.42857;background-color:#52c7c1!important}"]}),t})();function o_(t,e){1&t&&(mn(),yn(),ms(0,"button",18),mn(),ms(1,"svg",19),vs(2,"path",20),ys(),ys()),2&t&&As("routerLink","/coordinator/update-student/",Os().$implicit.id,"")}function s_(t,e){1&t&&(mn(),yn(),ms(0,"button",18),mn(),ms(1,"svg",19),vs(2,"path",20),ys(),ys()),2&t&&As("routerLink","/educator/update-student/",Os().$implicit.id,"")}const a_=function(t){return{archive:t}};function u_(t,e){if(1&t){const t=Es();ms(0,"div",9),ms(1,"div",10),ms(2,"div",11),ms(3,"div",12),Ys(4),ys(),ms(5,"div",13),ms(6,"button",14),Ts("click",(function(){Ge(t);const n=e.$implicit;return Os().toggleArchive(n.id,n.archive)})),mn(),ms(7,"svg",15),vs(8,"path",16),ys(),ys(),cs(9,o_,3,1,"button",17),cs(10,s_,3,1,"button",17),ys(),ys(),ys(),ys()}if(2&t){const t=e.$implicit,n=Os();ps("ngClass",pu(4,a_,1==t.archive)),oi(4),Js(" ",t.name," "),oi(5),ps("ngIf","coordinator"==n.auth.getRole()),oi(1),ps("ngIf","educator"==n.auth.getRole())}}function c_(t,e){if(1&t){const t=Es();ms(0,"div",21),ms(1,"div",22),mn(),ms(2,"svg",23),Ts("click",(function(){return e.$implicit.dismiss("Cross click")})),vs(3,"path",24),vs(4,"path",25),ys(),ys(),ys(),yn(),ms(5,"div",26),ms(6,"div",27),ms(7,"div",28),ms(8,"div",29),ms(9,"div",30),ms(10,"p"),Ys(11," Add Student"),ys(),vs(12,"img",31),vs(13,"br"),ms(14,"form",32,33),Ts("ngSubmit",(function(){Ge(t);const e=ls(15);return Os().addStudent(e)})),ms(16,"div",34),vs(17,"input",35),ys(),ms(18,"div",34),vs(19,"input",36),ys(),ms(20,"div",37),vs(21,"input",38),ys(),ms(22,"div",37),vs(23,"input",39),ys(),ms(24,"div",37),vs(25,"input",40),ys(),ms(26,"div",30),ms(27,"button",41),Ys(28,"Add student"),ys(),ys(),ys(),ys(),ys(),ys(),ys(),ys()}}let l_=(()=>{class t{constructor(t,e,n,r,i){this.studentService=t,this.modalService=e,this.observation=n,this.route=r,this.auth=i,this.students=[]}ngOnInit(){this.route.snapshot.params.uid?this.getStudentsbyEid():this.studentService.getStudents().subscribe(t=>{this.students=[],this.students=t})}addStudent(t){let e={email:t.value.email,password:t.value.password};delete t.value.password,this.studentService.addStudent(e,t.value),this.modalService.dismissAll()}toggleArchive(t,e){e?(console.log("true"),this.studentService.makeActive(t),this.getStudentsbyEid()):(this.studentService.archive(t),this.getStudentsbyEid())}openVerticallyCentered(t){this.modalService.open(t,{centered:!0})}getStudentsbyEid(){this.observation.getObserversByEid(this.route.snapshot.params.uid).subscribe(t=>{this.students=[],t.forEach(t=>{t.then(t=>{console.log(t),this.students.push(Object.assign({id:t.sid},t.studentData)),console.log(this.students)})})})}}return t.\u0275fac=function(e){return new(e||t)(hs($b),hs(Eb),hs(Wb),hs(Hd),hs(sy))},t.\u0275cmp=he({type:t,selectors:[["app-manage-student"]],decls:15,vars:1,consts:[[1,"container","p-3","mb-5"],[1,"card","d-flex","flex-row","bd-highlight","borderless",2,"background-color","rgb(9, 64, 68)","color","white !important"],[1,"p-2","flex-grow-1","bd-highlight"],["type","button",1,"btn","btn-default","btn-circle","float-right",3,"click"],["width","1.5em","height","1.5em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-plus-circle-fill"],["fill-rule","evenodd","d","M16 8A8 8 0 110 8a8 8 0 0116 0zM8.5 4a.5.5 0 00-1 0v3.5H4a.5.5 0 000 1h3.5V12a.5.5 0 001 0V8.5H12a.5.5 0 000-1H8.5V4z","clip-rule","evenodd"],[1,"text-center","text-muted"],["class","card m-1 shadow ",3,"ngClass",4,"ngFor","ngForOf"],["content",""],[1,"card","m-1","shadow",3,"ngClass"],[1,"card-body","p-1",2,"padding","0"],[1,"d-flex","flex-row","bd-highlight","borderless",2,"font-size","15px !important"],[1,"flex-grow-1","p-1","bd-highlight"],[1,"p-1","flex-grow-1","bd-highlight"],["type","button",1,"btn","btn-default","btn-circle","mx-1","float-right",3,"click"],["width","1.5em","height","1.5em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-archive-fill"],["fill-rule","evenodd","d","M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM6 7a.5.5 0 000 1h4a.5.5 0 000-1H6zM.8 1a.8.8 0 00-.8.8V3a.8.8 0 00.8.8h14.4A.8.8 0 0016 3V1.8a.8.8 0 00-.8-.8H.8z","clip-rule","evenodd"],["type","button","class","btn btn-default btn-circle  mx-1 float-right",3,"routerLink",4,"ngIf"],["type","button",1,"btn","btn-default","btn-circle","mx-1","float-right",3,"routerLink"],["width","1.5em","height","1.5em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-person-fill"],["fill-rule","evenodd","d","M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 100-6 3 3 0 000 6z","clip-rule","evenodd"],[1,"modal-header",2,"padding","0 !important"],[1,"ml-auto"],["width","2em","height","2em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-x",3,"click"],["fill-rule","evenodd","d","M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z","clip-rule","evenodd"],[1,"modal-body"],[1,"row"],[1,"col-sm-9","mx-auto"],[1,"p-2"],[1,"text-center"],["height","100","width","100","src","../../../assets/user.png","alt","",1,"image-circle"],[1,"form-signin",3,"ngSubmit"],["studentFrom","ngForm"],[1,"form-label-group","py-1"],["type","email","name","email","ngModel","","placeholder","Email address","required","","autofocus","",1,"form-control",2,"font-size","12px !important"],["type","name","name","name","ngModel","","placeholder","Name","required","","autofocus","",1,"form-control",2,"font-size","12px !important"],[1,"form-label-group","py-2"],["type","password","name","password","ngModel","","placeholder","Password","required","",1,"form-control",2,"font-size","12px !important"],["type","number","name","number","ngModel","","placeholder","Contact number","required","","autofocus","",1,"form-control",2,"font-size","12px !important"],["type","Age","name","Age","ngModel","","placeholder","Age","required","","autofocus","",1,"form-control",2,"font-size","12px !important"],["type","submit",1,"btn","btn-sm","btn-success",2,"font-size","12px !important"]],template:function(t,e){if(1&t){const t=Es();ms(0,"div",0),ms(1,"div",1),ms(2,"div",2),ms(3,"h5"),Ys(4,"Students List"),ys(),ys(),ms(5,"div",2),ms(6,"button",3),Ts("click",(function(){Ge(t);const n=ls(14);return e.openVerticallyCentered(n)})),mn(),ms(7,"svg",4),vs(8,"path",5),ys(),ys(),ys(),ys(),yn(),vs(9,"hr"),ms(10,"p",6),Ys(11," Red Cards are archived profiles "),ys(),cs(12,u_,11,6,"div",7),ys(),cs(13,c_,29,0,"ng-template",null,8,Nu)}2&t&&(oi(12),ps("ngForOf",e.students))},directives:[il,nl,sl,tp,_v,wy,hv,fy,_y,bv,Ev,Ry],styles:[".card-signin[_ngcontent-%COMP%]{border:0;border-radius:1rem;box-shadow:0 .5rem 1rem 0 rgba(0,0,0,.1)}.user-form[_ngcontent-%COMP%]{font-size:10px!important}.archive[_ngcontent-%COMP%]{background-color:#bb3b28!important;color:#fff}.btn-circle[_ngcontent-%COMP%]{width:35px;height:35px;padding:6px 0;border-radius:15px;text-align:center;font-size:12px;line-height:1.42857;background-color:#52c7c1!important}"]}),t})();function h_(t,e){if(1&t&&(ms(0,"option",7),Ys(1),ys()),2&t){const t=e.$implicit;Is("value",t.id),oi(1),Zs(t.name)}}const d_=[{path:"auth",component:Tp,children:[{path:"",component:Tv},{path:"forget-password",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-forget-password"]],decls:19,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-sm-9","col-md-7","col-lg-5","mx-auto"],[1,"card","card-signin","my-5"],[1,"card-body","text-center"],["src","https://img.icons8.com/plasticine/2x/user.png","alt","",1,"image-circle"],[1,"card-title","text-center"],[1,"form-signin"],[1,"form-label-group","py-2"],["type","email","name","email","ngModel","","placeholder","Email address to Reset","required","","autofocus","",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-sm","btn-primary","text-uppercase"],[2,"font-size","xx-small"],["routerLink","/auth"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"div",2),ms(3,"div",3),ms(4,"div",4),vs(5,"img",5),ms(6,"h6",6),Ys(7,"Change your Password"),ys(),ms(8,"form",7),ms(9,"div",8),vs(10,"input",9),ys(),ms(11,"div",10),ms(12,"button",11),Ys(13,"Send"),ys(),ys(),vs(14,"br"),ys(),ms(15,"p",12),Ys(16,"Whant to Sign In ? "),ms(17,"a",13),Ys(18," Click here"),ys(),ys(),ys(),ys(),ys(),ys(),ys())},directives:[_v,wy,hv,fy,_y,bv,Ev,ep],styles:[""]}),t})()}]},{path:"coordinator",component:Vb,children:[{path:"manage-educator",component:i_},{path:"manage-student",component:l_},{path:"update-student/:uid",component:Zb},{path:"update-educator/:uid",component:t_},{path:"map-educator/:sid",component:(()=>{class t{constructor(t,e,n,r){this.route=t,this.educatorService=e,this.observation=n,this.common=r,this.availableEducators=[]}ngOnInit(){this.sid=this.route.snapshot.params.sid,this.educatorService.getUnArchivedEducators().subscribe(t=>{this.availableEducators=t})}assignEducator(){console.log(this.sid,this.selectedEid),this.observation.addObserver(this.sid,this.selectedEid)}}return t.\u0275fac=function(e){return new(e||t)(hs(Hd),hs(Gb),hs(Wb),hs(oy))},t.\u0275cmp=he({type:t,selectors:[["app-map-educator"]],decls:13,vars:2,consts:[[1,"container"],["width","2em","height","2em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-arrow-left-short",3,"click"],["fill-rule","evenodd","d","M7.854 4.646a.5.5 0 010 .708L5.207 8l2.647 2.646a.5.5 0 01-.708.708l-3-3a.5.5 0 010-.708l3-3a.5.5 0 01.708 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M4.5 8a.5.5 0 01.5-.5h6.5a.5.5 0 010 1H5a.5.5 0 01-.5-.5z","clip-rule","evenodd"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-block",3,"click"],[3,"value"]],template:function(t,e){1&t&&(ms(0,"div",0),mn(),ms(1,"svg",1),Ts("click",(function(){return e.common.goBack()})),vs(2,"path",2),vs(3,"path",3),ys(),yn(),vs(4,"br"),vs(5,"br"),vs(6,"br"),ms(7,"select",4),Ts("ngModelChange",(function(t){return e.selectedEid=t})),cs(8,h_,2,2,"option",5),ys(),vs(9,"br"),vs(10,"br"),ms(11,"button",6),Ts("click",(function(){return e.assignEducator()})),Ys(12,"Assign Now"),ys(),ys()),2&t&&(oi(7),ps("ngModel",e.selectedEid),oi(1),ps("ngForOf",e.availableEducators))},directives:[zy,_y,bv,il,Hy,Ky],styles:[""]}),t})()}]},{path:"educator",component:zb,children:[{path:"update-student/:uid",component:Zb},{path:"update-educator/:uid",component:t_},{path:"manage-student/:uid",component:l_}]},{path:"parent",component:Hb,children:[{path:"update-student/:uid",component:Zb}]},{path:"**",redirectTo:"auth",pathMatch:"full"}];let f_=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[mp.forRoot(d_)],mp]}),t})(),p_=(()=>{class t{constructor(t){this.auth=t,this.title="project-starter"}logout(){this.auth.logOut()}}return t.\u0275fac=function(e){return new(e||t)(hs(sy))},t.\u0275cmp=he({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(vs(0,"router-outlet"),vs(1,"ngx-ui-loader"))},directives:[sp,ny],styles:[""]}),t})();function g_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function m_(t){switch(t.length){case 0:return new jg;case 1:return t[0];default:return new Fg(t)}}function y_(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function v_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&b_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&b_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&b_(n,"destroy",t)))}}function b_(t,e,n){const r=n.totalTime,i=__(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function __(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function w_(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function E_(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let C_=(t,e)=>!1,k_=(t,e)=>!1,T_=(t,e,n)=>[];const S_=g_();(S_||"undefined"!=typeof Element)&&(C_=(t,e)=>t.contains(e),k_=(()=>{if(S_||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):k_}})(),T_=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let x_=null,O_=!1;function I_(t){x_||(x_=("undefined"!=typeof document?document.body:null)||{},O_=!!x_.style&&"WebkitAppearance"in x_.style);let e=!0;return x_.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in x_.style,!e&&O_)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in x_.style),e}const A_=k_,P_=C_,N_=T_;function R_(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let M_=(()=>{class t{validateStyleProperty(t){return I_(t)}matchesElement(t,e){return A_(t,e)}containsElement(t,e){return P_(t,e)}query(t,e,n){return N_(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new jg(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),D_=(()=>{class t{}return t.NOOP=new M_,t})();function L_(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:j_(parseFloat(e[1]),e[2])}function j_(t,e){switch(e){case"s":return 1e3*t;default:return t}}function F_(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=j_(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=j_(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function V_(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function U_(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else V_(t,n);return n}function B_(t,e,n){return n?e+":"+n+";":""}function q_(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=B_(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=B_(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function z_(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Y_(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),g_()&&q_(t))}function H_(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Y_(e);t.style[n]=""}),g_()&&q_(t))}function $_(t){return Array.isArray(t)?1==t.length?t[0]:Ng(t):t}const G_=new RegExp("{{\\s*(.+?)\\s*}}","g");function W_(t){let e=[];if("string"==typeof t){let n;for(;n=G_.exec(t);)e.push(n[1]);G_.lastIndex=0}return e}function K_(t,e,n){const r=t.toString(),i=r.replace(G_,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Q_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const X_=/-+([a-z0-9])/g;function Y_(t){return t.replace(X_,(...t)=>t[1].toUpperCase())}function Z_(t,e){return 0===t||0===e}function J_(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=ew(t,e)}))}}return e}function tw(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function ew(t,e){return window.getComputedStyle(t)[e]}function nw(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(ow(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(ow(s,i))}(t,n,e)):n.push(t),n}const rw=new Set(["true","1"]),iw=new Set(["false","0"]);function ow(t,e){const n=rw.has(t)||iw.has(t),r=rw.has(e)||iw.has(e);return(i,o)=>{let s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?rw.has(t):iw.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?rw.has(e):iw.has(e)),s&&a}}const sw=new RegExp("s*:selfs*,?","g");function aw(t,e,n){return new uw(t).build(e,n)}class uw{constructor(t){this._driver=t}build(t,e){const n=new cw(e);return this._resetContextStyleTimingState(n),tw(this,$_(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(lw(t)){const e=t;Object.keys(e).forEach(t=>{W_(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Q_(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=tw(this,$_(t.animation),e);return{type:1,matchers:nw(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:hw(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>tw(this,t,e)),options:hw(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=tw(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:hw(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return dw(F_(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=dw(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||F_(r,e),dw(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Rg({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=Rg(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(lw(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=W_(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(lw(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(lw(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:tw(this,$_(t.animation),e),options:hw(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:hw(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:hw(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(sw,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,w_(e.collectedStyles,e.currentQuerySelector,{});const s=tw(this,$_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:hw(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:F_(t.timings,e.errors,!0);return{type:12,animation:tw(this,$_(t.animation),e),timings:n,options:null}}}class cw{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function lw(t){return!Array.isArray(t)&&"object"==typeof t}function hw(t){var e;return t?(t=V_(t)).params&&(t.params=(e=t.params)?V_(e):null):t={},t}function dw(t,e,n){return{duration:t,delay:e,easing:n}}function fw(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class pw{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gw=new RegExp(":enter","g"),mw=new RegExp(":leave","g");function yw(t,e,n,r,i,o={},s={},a,u,c=[]){return(new vw).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class vw{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new pw;const l=new _w(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),tw(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[fw(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?L_(n.duration):null,o=null!=n.delay?L_(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),tw(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bw);const t=L_(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>tw(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?L_(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),tw(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return F_(e.params?K_(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?L_(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=bw);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),tw(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;tw(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const bw={};class _w{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ww(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=L_(n.duration)),null!=n.delay&&(r.delay=L_(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=K_(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new _w(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=bw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Ew(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(gw,"."+this._enterClassName)).replace(mw,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class ww{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ww(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):U_(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=K_(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=U_(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?Q_(t.values()):[],o=e.size?Q_(e.values()):[];if(n){const t=r[0],e=V_(t);t.offset=0,e.offset=1,r=[t,e]}return fw(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Ew extends ww{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=U_(t[0],!1);a.offset=0,i.push(a);const u=U_(t[0],!1);u.offset=Cw(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=U_(t[r],!1);s.offset=Cw((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return fw(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Cw(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class kw{}class Tw extends kw{normalizePropertyName(t,e){return Y_(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(Sw[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const Sw=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xw(t,e,n,r,i,o,s,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const Ow={};class Iw{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Ow,d=this.buildStyles(n,s&&s.params||Ow,l),f=a&&a.params||Ow,p=this.buildStyles(r,f,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},_=c?[]:yw(t,e,this.ast.animation,i,o,d,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return xw(e,this._triggerName,n,r,v,d,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=w_(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=w_(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=Q_(g.values());return xw(e,this._triggerName,n,r,v,d,p,_,E,m,y,w)}}class Aw{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=V_(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=K_(o,r,e)),n[t]=o})}}),n}}class Pw{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Aw(t.style,t.options&&t.options.params||{})}),Nw(this.states,"true","1"),Nw(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Iw(t,e,this.states))}),this.fallbackTransition=new Iw(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Nw(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Rw=new pw;class Mw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=aw(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=y_(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=yw(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Rw,r),o.forEach(t=>{const e=w_(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=m_(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=__(e,"","","");return v_(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Dw=[],Lw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Fw{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=V_(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Vw=new Fw("void");class Uw{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ww(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=w_(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=w_(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ww(t,"ng-trigger"),Ww(t,"ng-trigger-"+e),a[e]=Vw),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new qw(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Ww(t,"ng-trigger"),Ww(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new Fw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=Vw),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{H_(t,n),z_(t,r)})}return}const c=w_(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(Ww(t,"ng-animate-queued"),o.onStart(()=>{Kw(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&m_(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||Vw,s=new Fw("void"),a=new qw(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Lw||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ww(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=__(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,v_(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Bw{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Uw(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(zw(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!zw(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ww(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Kw(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(zw(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return zw(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return m_(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Lw,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ww(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?m_(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new pw,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Gw(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>Ww(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=Gw(h,Array.from(m));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>Ww(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Kw(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Kw(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(!p.errors||!p.errors.length)return c?(e.onStart(()=>H_(i,p.fromStyles)),e.onDestroy(()=>z_(i,p.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>H_(i,p.fromStyles)),e.onDestroy(()=>z_(i,p.toStyles)),void r.push(e)):(p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>w_(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(p)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{w_(E,e,[]).push(t),t.destroy()})});const k=g.filter(t=>Xw(t,a,u)),T=new Map;$w(T,this.driver,y,u,"*").forEach(t=>{Xw(t,a,u)&&k.push(t)});const S=new Map;d.forEach((t,e)=>{$w(S,this.driver,new Set(t),a,"!")}),k.forEach(t=>{const e=T.get(t),n=S.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const x=[],O=[],I={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>z_(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=I;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,E,i,S,T);if(o.setRealPlayer(n),t===I)x.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=m_(e)),r.push(o)}}else H_(e,s.fromStyles),o.onDestroy(()=>z_(e,s.toStyles)),O.push(o),c.has(e)&&r.push(o)}),O.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=m_(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(Kw(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Qw(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=w_(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}H_(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new jg(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Fg?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Dw).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=o.get(h),y=y_(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new qw(t,s,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{w_(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Ww(t,"ng-animating"));const d=m_(h);return d.onDestroy(()=>{c.forEach(t=>Kw(t,"ng-animating")),z_(a,e.toStyles)}),l.forEach(t=>{w_(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new jg(t.duration,t.delay)}}class qw{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new jg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>v_(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){w_(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function zw(t){return t&&1===t.nodeType}function Hw(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function $w(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Hw(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=jw,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>Hw(t,o[a++])),s}function Gw(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function Ww(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Kw(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Qw(t,e,n){m_(n).onDone(()=>t.processLeaveNode(e))}function Xw(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Yw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Bw(t,e,n),this._timelineEngine=new Mw(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=aw(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new Pw(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=E_(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=E_(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Zw(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=tE(e[0]),e.length>1&&(r=tE(e[e.length-1]))):e&&(n=tE(e)),n||r?new Jw(t,n,r):null}let Jw=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&z_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(z_(this._element,this._initialStyles),this._endStyles&&(z_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(H_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(H_(this._element,this._endStyles),this._endStyles=null),z_(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function tE(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];eE(i)&&(e=e||{},e[i]=t[i])}return e}function eE(t){return"display"===t||"position"===t}class nE{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=uE(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),aE(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),sE(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){rE(this._element,this._name,"paused")}resume(){rE(this._element,this._name,"running")}setPosition(t){const e=iE(this._element,this._name);this._position=t*this._duration,aE(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),sE(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=uE(t,"").split(","),r=oE(n,e);r>=0&&(n.splice(r,1),aE(t,"",n.join(",")))}(this._element,this._name))}}function rE(t,e,n){aE(t,"PlayState",n,iE(t,e))}function iE(t,e){const n=uE(t,"");return n.indexOf(",")>0?oE(n.split(","),e):oE([n],e)}function oE(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function sE(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function aE(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function uE(t,e){return t.style["animation"+e]}class cE{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new nE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:ew(this.element,n))})}this.currentSnapshot=t}}class lE extends jg{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=R_(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class hE{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return I_(t)}matchesElement(t,e){return A_(t,e)}containsElement(t,e){return P_(t,e)}query(t,e,n){return N_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>R_(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof cE),u={};Z_(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=J_(t,e,u));if(0==n)return new lE(t,c);const l=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Zw(t,e),f=new cE(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class dE{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:ew(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class fE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pE().toString()),this._cssKeyframesDriver=new hE}validateStyleProperty(t){return I_(t)}matchesElement(t,e){return A_(t,e)}containsElement(t,e){return P_(t,e)}query(t,e,n){return N_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=o.filter(t=>t instanceof dE);Z_(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Zw(t,e=J_(t,e=e.map(t=>U_(t,!1)),u));return new dE(t,e,a,l)}}function pE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let gE=(()=>{class t extends Ig{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ae.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ng(t):t;return vE(this._renderer,null,e,"register",[n]),new mE(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ta),Wt(Mc))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class mE extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new yE(this._id,t,e||{},this._renderer)}}class yE{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function vE(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let bE=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new _E("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new wE(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ta),Wt(Yw),Wt(ec))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class _E{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class wE extends _E{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let EE=(()=>{class t extends Yw{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Mc),Wt(D_),Wt(kw))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const CE=[{provide:D_,useFactory:function(){return"function"==typeof pE()?new fE:new hE}},{provide:new jt("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Ig,useClass:gE},{provide:kw,useFactory:function(){return new Tw}},{provide:Yw,useClass:EE},{provide:Ta,useFactory:function(t,e,n){return new bE(t,e,n)},deps:[Ol,Yw,ec]}];let kE=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:CE,imports:[ql]}),t})();function TE(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var SE=n("S+S0"),xE=function(){function t(t,e){this.code_=OE(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return OE(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}();function OE(t){return"storage/"+t}function IE(){return new xE("unknown","An unknown error occurred, please check the error payload for server response.")}function AE(){return new xE("canceled","User canceled the upload/download.")}function PE(){return new xE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function NE(){return new xE("no-download-url","The given file does not have any download URLs.")}function RE(t,e,n){return new xE("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)}function ME(){return new xE("app-deleted","The Firebase app was deleted.")}function DE(t,e){return new xE("invalid-format","String does not match format '"+t+"': "+e)}function LE(t){throw new xE("internal-error","Internal error: "+t)}var jE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function FE(t){switch(t){case jE.RAW:case jE.BASE64:case jE.BASE64URL:case jE.DATA_URL:return;default:throw"Expected one of the event types: ["+jE.RAW+", "+jE.BASE64+", "+jE.BASE64URL+", "+jE.DATA_URL+"]."}}var VE=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function UE(t,e){switch(t){case jE.RAW:return new VE(BE(e));case jE.BASE64:case jE.BASE64URL:return new VE(qE(t,e));case jE.DATA_URL:return new VE((n=new zE(e)).base64?qE(jE.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw DE(jE.DATA_URL,"Malformed data URL.")}return BE(e)}(n.rest),function(t){return new zE(t).contentType}(e))}var n;throw IE()}function BE(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function qE(t,e){switch(t){case jE.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw DE(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case jE.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw DE(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(c){throw DE(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var zE=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw DE(jE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),HE={STATE_CHANGED:"state_changed"},$E={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function GE(t){switch(t){case"running":case"pausing":case"canceling":return $E.RUNNING;case"paused":return $E.PAUSED;case"success":return $E.SUCCESS;case"canceled":return $E.CANCELED;case"error":default:return $E.ERROR}}function WE(t){return null!=t}function KE(t){return void 0!==t}function QE(t){return"function"==typeof t}function XE(t){return"object"==typeof t}function YE(t){return XE(t)&&null!==t}function ZE(t){return"string"==typeof t||t instanceof String}function JE(t){return tC(t)&&Number.isInteger(t)}function tC(t){return"number"==typeof t||t instanceof Number}function eC(t){return nC()&&t instanceof Blob}function nC(){return"undefined"!=typeof Blob}var rC=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),iC=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=rC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=rC.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=rC.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw LE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),WE(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return WE(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw LE("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw LE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw LE("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){WE(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){WE(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),oC=function(){function t(){}return t.prototype.createXhrIo=function(){return new iC},t}();function sC(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function aC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=sC();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(nC())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var uC=function(){function t(t,e){var n=0,r="";eC(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(eC(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(nC()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(aC.apply(null,r))}var i=e.map((function(t){return ZE(t)?UE(jE.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),cC=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new xE("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new xE("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function lC(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return XE(n=e)&&!Array.isArray(n)?e:null}function hC(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function dC(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function fC(t){return"https://firebasestorage.googleapis.com/v0"+t}function pC(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function gC(t,e){return e}var mC=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||gC}}(),yC=null;function vC(t,e,n){var r=lC(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new cC(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function bC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function _C(t){if(!XE(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!XE(n))throw"Expected object for 'customMetadata' mapping."}else if(YE(n))throw"Mapping for '"+e+"' cannot be an object."}}function wC(t){if(!XE(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!JE(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!ZE(t.pageToken))throw"Expected pageToken to be string."}}var EC=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function CC(t){if(!t)throw IE()}function kC(t,e){return function(n,r){var i=vC(t,r,e);return CC(null!==i),i}}function TC(t){return function(e,n){var r;return(r=401===e.getStatus()?new xE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new xE("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new xE("unauthorized","User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function SC(t){var e=TC(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new xE("object-not-found","Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function xC(t,e,n){var r=fC(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new EC(r,"GET",kC(t,n),i);return o.errorHandler=SC(e),o}function OC(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=fC(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime(),u=new EC(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=lC(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new cC(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new cC(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return CC(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=TC(e),u}function IC(t,e,n){var r=fC(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new EC(r,"GET",function(t,e){return function(n,r){var i=vC(t,r,e);return CC(null!==i),function(t,e){var n=lC(e);if(null===n)return null;if(!ZE(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return fC("/b/"+i(t.bucket)+"/o/"+i(n))+pC({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=SC(e),o}function AC(t,e,n,r){var i=fC(e.fullServerUrl()),o=bC(n,r),s=t.maxOperationRetryTime(),a=new EC(i,"PATCH",kC(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=SC(e),a}function PC(t,e){var n=fC(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new EC(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=SC(e),i}function NC(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var RC=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function MC(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){CC(!1)}return CC(!!n&&-1!==(e||["active"]).indexOf(n)),n}var DC=function(){return function(t,e,n){if(QE(t)||WE(e)||WE(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),LC=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function jC(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw(s=r)===(a=i)?(u=s,c=1===s?"argument":"arguments"):(u="between "+s+" and "+a,c="arguments"),new xE("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+u+" "+c+", received "+n.length+".");var s,a,u,c;for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(l){throw l instanceof Error?RE(o,t,l.message):RE(o,t,l)}}var FC=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!KE(e)||t(e)},this.optional=!!e}}();function VC(t,e){function n(t){if(!ZE(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new FC(r,e)}function UC(){return new FC((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||nC()&&t instanceof Blob))throw"Expected Blob or File."}))}function BC(t){return new FC(_C,t)}function qC(t){return new FC(wC,t)}function zC(){return new FC((function(t){if(!(tC(t)&&t>=0))throw"Expected a number 0 or greater."}))}function HC(t,e){return new FC((function(e){if(!(null===e||WE(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function $C(t){return new FC((function(t){if(null!==t&&!QE(t))throw"Expected a Function."}),t)}function GC(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var WC=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals("canceled")?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_("error"))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals("canceled")?s.completeTransitions_():(s.error_=t,s.transition_("error"))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=NC(e,r,i),a={name:s.fullPath},u=fC(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=bC(s,n),h=t.maxUploadRetryTime(),d=new EC(u,"POST",(function(t){var e;MC(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){CC(!1)}return CC(ZE(e)),e}),h);return d.urlParams=a,d.headers=c,d.body=l,d.errorHandler=TC(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new EC(n,"POST",(function(t){var e=MC(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){CC(!1)}n||CC(!1);var i=Number(n);return CC(!isNaN(i)),new RC(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=TC(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new RC(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new RC(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new xE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,h+l);if(null===f)throw PE();var p=e.maxUploadRetryTime(),g=new EC(n,"POST",(function(t,n){var i,s=MC(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?kC(e,o)(t,n):null,new RC(a,c,"final"===s,i)}),p);return g.headers=d,g.body=f.uploadData(),g.progressCallback=a||null,g.errorHandler=TC(t),g}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_("error")}var s=t.authWrapper_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=xC(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=NC(e,r,i),c=bC(u,n),l=uC.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw PE();var h={name:u.fullPath},d=fC(o),f=t.maxUploadRetryTime(),p=new EC(d,"POST",kC(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=TC(e),p}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=AE(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=GE(this.state_);return new LC(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==HE.STATE_CHANGED)throw"Expected one of the event types: ["+HE.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=$C(!0).validator,a=HC(null,!0).validator;function u(t){try{return void s(t)}catch(e){}try{if(a(t),!(KE(t.next)||KE(t.error)||KE(t.complete)))throw"";return}catch(e){throw o}}var c=[VC(i),HC(u,!0),$C(!0),$C(!0)];jC("on",c,arguments);var l=this;function h(t){return function(e,n,i){null!==t&&jC("on",t,arguments);var o=new DC(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function d(t){if(null===t)throw o;u(t)}var f=[HC(d),$C(!0),$C(!0)],p=!(KE(e)||KE(n)||KE(r));return p?h(f):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(GE(this.state_)){case $E.SUCCESS:GC(this.resolve_.bind(null,this.snapshot))();break;case $E.CANCELED:case $E.ERROR:GC(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(GE(this.state_)){case $E.RUNNING:case $E.PAUSED:t.next&&GC(t.next.bind(t,this.snapshot))();break;case $E.SUCCESS:t.complete&&GC(t.complete.bind(t))();break;case $E.CANCELED:case $E.ERROR:t.error&&GC(t.error.bind(t,this.error_))();break;default:t.error&&GC(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){jC("resume",[],arguments);var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){jC("pause",[],arguments);var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){jC("cancel",[],arguments);var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),KC=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof cC?e:cC.makeFromUrl(e)}return t.prototype.toString=function(){return jC("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(yC)return yC;var t=[];t.push(new mC("bucket")),t.push(new mC("generation")),t.push(new mC("metageneration")),t.push(new mC("name","fullPath",!0));var e=new mC("name");e.xform=function(t,e){return function(t){return!ZE(t)||t.length<2?t:dC(t)}(e)},t.push(e);var n=new mC("size");return n.xform=function(t,e){return WE(e)?Number(e):e},t.push(n),t.push(new mC("timeCreated")),t.push(new mC("updated")),t.push(new mC("md5Hash",null,!0)),t.push(new mC("cacheControl",null,!0)),t.push(new mC("contentDisposition",null,!0)),t.push(new mC("contentEncoding",null,!0)),t.push(new mC("contentLanguage",null,!0)),t.push(new mC("contentType",null,!0)),t.push(new mC("metadata","customMetadata",!0)),yC=t}()},t.prototype.child=function(t){jC("child",[VC()],arguments);var e=hC(this.location.path,t),n=new cC(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new cC(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new cC(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return dC(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),jC("put",[UC(),BC(!0)],arguments),this.throwIfRoot_("put"),new WC(this,this.authWrapper,this.location,this.mappings(),new uC(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=jE.RAW),jC("putString",[VC(),VC(FE,!0),BC(!0)],arguments),this.throwIfRoot_("putString");var r=UE(e,t),i=Object.assign({},n);return!WE(i.contentType)&&WE(r.contentType)&&(i.contentType=r.contentType),new WC(this,this.authWrapper,this.location,this.mappings(),new uC(r.data,!0),i)},t.prototype.delete=function(){var t=this;return jC("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=PC(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){jC("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return n=this,void 0,i=function(){var n,r,i;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,e){function o(t){try{a(i.next(t))}catch(n){e(n)}}function s(t){try{a(i.throw(t))}catch(n){e(n)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,s)}a((i=i.apply(n,[])).next())}));var n,r,i},t.prototype.list=function(t){jC("list",[qC(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=OC(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return jC("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=xC(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return jC("updateMetadata",[BC()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=AC(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return jC("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=IC(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw NE();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new xE("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),QC=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),XC=function(){function t(){this.map=new Map,this.id=-9007199254740991}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),YC=function(){function t(e,n,r,i,o,s){var a;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var u=this.app_.options;WE(u)&&(this.bucket_=t.extractBucket_(u),this.appId_=null!==(a=u.appId)&&void 0!==a?a:null)}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=s,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new XC}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:cC.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw ME();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new QC(ME());var n=this.requestMaker_(t,this.appId_,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),ZC=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());KE(a)?i(a):i()}catch(u){o(u)}else null!==s?((r=IE()).setServerResponseProp(s.getResponseText()),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?ME():AE():new xE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new JC(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new JC(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===rC.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new JC(s,n))}else{var a=n.getErrorCode()===rC.ABORT;e(!1,new JC(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,TE([null,t],e));else{var r,o=u()||s;o?l.call.apply(l,TE([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),JC=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function tk(t,e,n,r){var i=pC(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==fg.a?fg.a.SDK_VERSION:"AppManager")}(s),new ZC(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}var ek,nk,rk=function(){function t(t,e,n,r){if(this.bucket_=null,this.authWrapper_=new YC(t,e,(function(t,e){return new KC(t,e)}),tk,this,n),this.app_=t,null!=r)this.bucket_=cC.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new cC(i,""))}this.internals_=new ik(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(jC("ref",[VC(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new KC(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{cC.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return jC("refFromURL",[VC(e,!1)],arguments),new KC(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){jC("setMaxUploadRetryTime",[zC()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){jC("setMaxOperationRetryTime",[zC()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),ik=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();function ok(t){const e=function(t){return new _(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(j(t=>t.bytesTransferred/t.totalBytes*100))}}function sk(t,e,n){return{getDownloadURL:()=>zl(void 0).pipe(xp(e.outsideAngular),Ch(()=>t.getDownloadURL()),n),getMetadata:()=>zl().pipe(xp(e.outsideAngular),Ch(()=>t.getMetadata()),n),delete:()=>B(t.delete()),child:r=>sk(t.child(r),e,n),updateMetadata:e=>B(t.updateMetadata(e)),put:(e,n)=>ok(t.put(e,n)),putString:(e,n,r)=>ok(t.putString(e,n,r)),listAll:()=>B(t.listAll())}}nk={TaskState:$E,TaskEvent:HE,StringFormat:jE,Storage:rk,Reference:KC},(ek=fg.a).INTERNAL.registerComponent(new SE.Component("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new rk(n,r,new oC,e)}),"PUBLIC").setServiceProps(nk).setMultipleInstances(!0)),ek.registerVersion("@firebase/storage","0.3.33");const ak=new jt("angularfire2.storageBucket");let uk=(()=>{class t{constructor(t,e,n,r,i){this.schedulers=new eg(i),this.keepUnstableUntilFirst=ng(this.schedulers),this.storage=i.runOutsideAngular(()=>ag(t,i,e).storage(n||void 0))}ref(t){return sk(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return sk(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Wt(ig),Wt(og,8),Wt(ak,8),Wt(Vu),Wt(ec))},t.\u0275prov=ct({factory:function(){return new t(Wt(ig),Wt(og,8),Wt(ak,8),Wt(Vu),Wt(ec))},token:t,providedIn:"any"}),t})(),ck=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[uk]}),t})(),lk=(()=>{class t{}return t.\u0275mod=ge({type:t,bootstrap:[p_]}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[],imports:[[ql,f_,Db,cg.initializeApp(Pc),Og,hg,kv,Fm,iy,ck,kE,sm.forRoot()]]}),t})();(function(){if(gr)throw new Error("Cannot enable prod mode after platform setup.");pr=!1})(),Ul().bootstrapModule(lk).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,p.prototype.create),i}return r.__extends(e,t),e}(Error),p=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?g(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new f(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function g(t,e){return t.replace(m,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var v=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(c(o[0])||""),n=y(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),_=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function w(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=p,e.FirebaseError=f,e.Sha1=b,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new _(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=E,e.getUA=d,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);